(()=>{"use strict";var e,v={},h={};function r(e){var n=h[e];if(void 0!==n)return n.exports;var t=h[e]={id:e,loaded:!1,exports:{}};return v[e](t,t.exports,r),t.loaded=!0,t.exports}r.m=v,e=[],r.O=(n,t,o,u)=>{if(!t){var a=1/0;for(i=0;i<e.length;i++){for(var[t,o,u]=e[i],l=!0,f=0;f<t.length;f++)(!1&u||a>=u)&&Object.keys(r.O).every(b=>r.O[b](t[f]))?t.splice(f--,1):(l=!1,u<a&&(a=u));if(l){e.splice(i--,1);var s=o();void 0!==s&&(n=s)}}return n}u=u||0;for(var i=e.length;i>0&&e[i-1][2]>u;i--)e[i]=e[i-1];e[i]=[t,o,u]},r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((n,t)=>(r.f[t](e,n),n),[])),r.u=e=>e+".js",r.miniCssF=e=>{},r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={},n="chat-pop-up:";r.l=(t,o,u,i)=>{if(e[t])e[t].push(o);else{var a,l;if(void 0!==u)for(var f=document.getElementsByTagName("script"),s=0;s<f.length;s++){var d=f[s];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==n+u){a=d;break}}a||(l=!0,(a=document.createElement("script")).type="module",a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",n+u),a.src=r.tu(t)),e[t]=[o];var c=(g,b)=>{a.onerror=a.onload=null,clearTimeout(p);var _=e[t];if(delete e[t],a.parentNode&&a.parentNode.removeChild(a),_&&_.forEach(m=>m(b)),g)return g(b)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=c.bind(null,a.onerror),a.onload=c.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.tt=()=>(void 0===e&&(e={createScriptURL:n=>n},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("angular#bundler",e))),e)})(),r.tu=e=>r.tt().createScriptURL(e),r.p="",(()=>{var e={666:0};r.f.j=(o,u)=>{var i=r.o(e,o)?e[o]:void 0;if(0!==i)if(i)u.push(i[2]);else if(666!=o){var a=new Promise((d,c)=>i=e[o]=[d,c]);u.push(i[2]=a);var l=r.p+r.u(o),f=new Error;r.l(l,d=>{if(r.o(e,o)&&(0!==(i=e[o])&&(e[o]=void 0),i)){var c=d&&("load"===d.type?"missing":d.type),p=d&&d.target&&d.target.src;f.message="Loading chunk "+o+" failed.\n("+c+": "+p+")",f.name="ChunkLoadError",f.type=c,f.request=p,i[1](f)}},"chunk-"+o,o)}else e[o]=0},r.O.j=o=>0===e[o];var n=(o,u)=>{var f,s,[i,a,l]=u,d=0;if(i.some(p=>0!==e[p])){for(f in a)r.o(a,f)&&(r.m[f]=a[f]);if(l)var c=l(r)}for(o&&o(u);d<i.length;d++)r.o(e,s=i[d])&&e[s]&&e[s][0](),e[s]=0;return r.O(c)},t=self.webpackChunkchat_pop_up=self.webpackChunkchat_pop_up||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})()})();
(self.webpackChunkchat_pop_up=self.webpackChunkchat_pop_up||[]).push([[429],{7435:(K,ye,B)=>{"use strict";B(8583),B(757)},757:()=>{!function(K,ye){"use strict";var B=K.document,Ee=K.Object,Et=function(e){var C,U,te,G,o=/^[A-Z]+[a-z]/,d=function(le,J){(J=J.toLowerCase())in h||(h[le]=(h[le]||[]).concat(J),h[J]=h[J.toUpperCase()]=le)},h=(Ee.create||Ee)(null),g={};for(U in e)for(G in e[U])for(h[G]=te=e[U][G],C=0;C<te.length;C++)h[te[C].toLowerCase()]=h[te[C].toUpperCase()]=G;return g.get=function(J){return"string"==typeof J?h[J]||(o.test(J)?[]:""):function(le){var ge,J=[];for(ge in h)le.test(ge)&&J.push(ge);return J}(J)},g.set=function(J,ge){return o.test(J)?d(J,ge):d(ge,J),g},g}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof ye&&(ye={type:ye||"auto"});var W,q,v,Y,_,j,A,ae,Te,e,o,l,d,h,we="registerElement",ke="__"+we+(1e5*K.Math.random()>>0),Le="addEventListener",Me="attached",me="Callback",ue="detached",Re="extends",Pe="attributeChanged"+me,X="connected"+me,$e="disconnected"+me,De="created"+me,nt="ADDITION",Je="MODIFICATION",at="REMOVAL",Ze="DOMAttrModified",lt="DOMContentLoaded",ot=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,Tt=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],je=[],Xe=[],re="",Ae=B.documentElement,he=je.indexOf||function(e){for(var o=this.length;o--&&this[o]!==e;);return o},ut=Ee.prototype,Ce=ut.hasOwnProperty,et=ut.isPrototypeOf,Se=Ee.defineProperty,ft=[],st=Ee.getOwnPropertyDescriptor,Ue=Ee.getOwnPropertyNames,pt=Ee.getPrototypeOf,ve=Ee.setPrototypeOf,ht=!!Ee.__proto__,ze="__dreCEv1",Ne=K.customElements,Ke=!/^force/.test(ye.type)&&!!(Ne&&Ne.define&&Ne.get&&Ne.whenDefined),dt=Ee.create||Ee,gt=K.Map||function(){var d,o=[],l=[];return{get:function(h){return l[he.call(o,h)]},set:function(h,g){(d=he.call(o,h))<0?l[o.push(h)-1]=g:l[d]=g}}},_t=K.Promise||function(e){var o=[],l=!1,d={catch:function(){return d},then:function(g){return o.push(g),l&&setTimeout(h,1),d}};function h(g){for(l=!0;o.length;)o.shift()(g)}return e(h),d},tt=!1,Ye=dt(null),Ve=dt(null),it=new gt,Ge=function(e){return e.toLowerCase()},Fe=Ee.create||function e(o){return o?(e.prototype=o,new e):this},yt=ve||(ht?function(e,o){return e.__proto__=o,e}:Ue&&st?function(){function e(o,l){for(var d,h=Ue(l),g=0,C=h.length;g<C;g++)Ce.call(o,d=h[g])||Se(o,d,st(l,d))}return function(o,l){do{e(o,l)}while((l=pt(l))&&!et.call(l,o));return o}}():function(e,o){for(var l in o)e[l]=o[l];return e}),We=K.MutationObserver||K.WebKitMutationObserver,_e=(K.HTMLElement||K.Element||K.Node).prototype,t=!et.call(_e,Ae),r=t?function(e,o,l){return e[o]=l.value,e}:Se,a=t?function(e){return 1===e.nodeType}:function(e){return et.call(_e,e)},i=t&&[],u=_e.attachShadow,f=_e.cloneNode,b=_e.dispatchEvent,p=_e.getAttribute,N=_e.hasAttribute,D=_e.removeAttribute,L=_e.setAttribute,V=B.createElement,Z=V,F=We&&{attributes:!0,characterData:!0,attributeOldValue:!0},$=We||function(e){se=!1,Ae.removeEventListener(Ze,$)},ce=0,oe=we in B&&!/^force-all/.test(ye.type),w=!0,y=!1,se=!0,z=!0,ne=!0;function ie(){var e=W.splice(0,W.length);for(ce=0;e.length;)e.shift().call(null,e.shift())}function Q(e,o){for(var l=0,d=e.length;l<d;l++)T(e[l],o)}function pe(e){return function(o){a(o)&&(T(o,e),re.length&&Q(o.querySelectorAll(re),e))}}function ee(e){var o=p.call(e,"is"),l=e.nodeName.toUpperCase(),d=he.call(je,o?"="+o.toUpperCase():"<"+l);return o&&-1<d&&!x(l,o)?-1:d}function x(e,o){return-1<re.indexOf(e+'[is="'+o+'"]')}function k(e){var o=e.currentTarget,l=e.attrChange,d=e.attrName,h=e.target,g=e[nt]||2,C=e[at]||3;ne&&(!h||h===o)&&o[Pe]&&"style"!==d&&(e.prevValue!==e.newValue||""===e.newValue&&(l===g||l===C))&&o[Pe](d,l===g?null:e.prevValue,l===C?null:e.newValue)}function n(e){var o=pe(e);return function(l){W.push(o,l.target),ce&&clearTimeout(ce),ce=setTimeout(ie,1)}}function s(e){z&&(z=!1,e.currentTarget.removeEventListener(lt,s)),re.length&&Q((e.target||B).querySelectorAll(re),e.detail===ue?ue:Me),t&&function de(){for(var e,o=0,l=i.length;o<l;o++)Ae.contains(e=i[o])||(l--,i.splice(o--,1),T(e,ue))}()}function P(e,o){var l=this;L.call(l,e,o),q.call(l,{target:l})}function R(e,o){yt(e,o),_?_.observe(e,F):(se&&(e.setAttribute=P,e[ke]=Y(e),e[Le]("DOMSubtreeModified",q)),e[Le](Ze,k)),e[De]&&ne&&(e.created=!0,e[De](),e.created=!1)}function E(e){throw new Error("A "+e+" type is already registered")}function T(e,o){var l,h,d=ee(e);-1<d&&(A(e,Xe[d]),d=0,o!==Me||e[Me]?o===ue&&!e[ue]&&(e[Me]=!1,e[ue]=!0,h="disconnected",d=1):(e[ue]=!1,e[Me]=!0,h="connected",d=1,t&&he.call(i,e)<0&&i.push(e)),d&&(l=e[o+me]||e[h+me])&&l.call(e))}function c(){}function m(e,o,l){var d=l&&l[Re]||"",h=o.prototype,g=Fe(h),C=o.observedAttributes||ft,U={prototype:g};r(g,De,{value:function(){if(tt)tt=!1;else if(!this[ze]){this[ze]=!0,new o(this),h[De]&&h[De].call(this);var te=Ye[it.get(o)];(!Ke||te.create.length>1)&&M(this)}}}),r(g,Pe,{value:function(te){-1<he.call(C,te)&&h[Pe].apply(this,arguments)}}),h[X]&&r(g,"attachedCallback",{value:h[X]}),h[$e]&&r(g,"detachedCallback",{value:h[$e]}),d&&(U[Re]=d),e=e.toUpperCase(),Ye[e]={constructor:o,create:d?[d,Ge(e)]:[e]},it.set(o,e),B[we](e.toLowerCase(),U),S(e),Ve[e].r()}function O(e){var o=Ye[e.toUpperCase()];return o&&o.constructor}function H(e){return"string"==typeof e?e:e&&e.is||""}function M(e){for(var h,o=e[Pe],l=o?e.attributes:ft,d=l.length;d--;)o.call(e,(h=l[d]).name||h.nodeName,null,h.value||h.nodeValue)}function S(e){return(e=e.toUpperCase())in Ve||(Ve[e]={},Ve[e].p=new _t(function(o){Ve[e].r=o})),Ve[e].p}function I(){Ne&&delete K.customElements,Se(K,"customElements",{configurable:!0,value:new c}),Se(K,"CustomElementRegistry",{configurable:!0,value:c});for(var e=function(d){var h=K[d];if(h){K[d]=function(C){var U,te;return C||(C=this),C[ze]||(tt=!0,U=Ye[it.get(C.constructor)],(C=(te=Ke&&1===U.create.length)?Reflect.construct(h,ft,U.constructor):B.createElement.apply(B,U.create))[ze]=!0,tt=!1,te||M(C)),C},K[d].prototype=h.prototype;try{h.prototype.constructor=K[d]}catch(g){Se(h,ze,{value:K[d]})}}},o=Et.get(/^HTML[A-Z]*[a-z]/),l=o.length;l--;e(o[l]));B.createElement=function(d,h){var g=H(h);return g?Z.call(this,d,Ge(g)):Z.call(this,d)},oe||(y=!0,B[we](""))}if(We&&((Te=B.createElement("div")).innerHTML="<div><div></div></div>",new We(function(e,o){if(e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length){var l=(Te=st(_e,"innerHTML"))&&Te.set;l&&Se(_e,"innerHTML",{set:function(d){for(;this.lastChild;)this.removeChild(this.lastChild);l.call(this,d)}})}o.disconnect(),Te=null}).observe(Te,{childList:!0,subtree:!0}),Te.innerHTML=""),oe||(ve||ht?(A=function(e,o){et.call(o,e)||R(e,o)},ae=R):(A=function(e,o){e[ke]||(e[ke]=Ee(!0),R(e,o))},ae=A),t?(se=!1,e=st(_e,Le),o=e.value,l=function(g){var C=new CustomEvent(Ze,{bubbles:!0});C.attrName=g,C.prevValue=p.call(this,g),C.newValue=null,C[at]=C.attrChange=2,D.call(this,g),b.call(this,C)},d=function(g,C){var U=N.call(this,g),te=U&&p.call(this,g),G=new CustomEvent(Ze,{bubbles:!0});L.call(this,g,C),G.attrName=g,G.prevValue=U?te:null,G.newValue=C,U?G[Je]=G.attrChange=1:G[nt]=G.attrChange=0,b.call(this,G)},h=function(g){var G,C=g.currentTarget,U=C[ke],te=g.propertyName;U.hasOwnProperty(te)&&(U=U[te],(G=new CustomEvent(Ze,{bubbles:!0})).attrName=U.name,G.prevValue=U.value||null,G.newValue=U.value=C[te]||null,null==G.prevValue?G[nt]=G.attrChange=0:G[Je]=G.attrChange=1,b.call(C,G))},e.value=function(g,C,U){g===Ze&&this[Pe]&&this.setAttribute!==d&&(this[ke]={className:{name:"class",value:this.className}},this.setAttribute=d,this.removeAttribute=l,o.call(this,"propertychange",h)),o.call(this,g,C,U)},Se(_e,Le,e)):We||(Ae[Le](Ze,$),Ae.setAttribute(ke,1),Ae.removeAttribute(ke),se&&(q=function(e){var l,d,h,o=this;if(o===e.target){for(h in l=o[ke],o[ke]=d=Y(o),d){if(!(h in l))return v(0,o,h,l[h],d[h],nt);if(d[h]!==l[h])return v(1,o,h,l[h],d[h],Je)}for(h in l)if(!(h in d))return v(2,o,h,l[h],d[h],at)}},v=function(e,o,l,d,h,g){var C={attrChange:e,currentTarget:o,attrName:l,prevValue:d,newValue:h};C[g]=e,k(C)},Y=function(e){for(var o,l,d={},h=e.attributes,g=0,C=h.length;g<C;g++)"setAttribute"!==(l=(o=h[g]).name)&&(d[l]=o.value);return d})),B[we]=function(o,l){if(U=o.toUpperCase(),w&&(w=!1,We?(_=function(G,le){function J(ge,be){for(var xe=0,Ie=ge.length;xe<Ie;be(ge[xe++]));}return new We(function(ge){for(var be,xe,Ie,He=0,qe=ge.length;He<qe;He++)"childList"===(be=ge[He]).type?(J(be.addedNodes,G),J(be.removedNodes,le)):(xe=be.target,ne&&xe[Pe]&&"style"!==be.attributeName&&(Ie=p.call(xe,be.attributeName))!==be.oldValue&&xe[Pe](be.attributeName,be.oldValue,Ie))})}(pe(Me),pe(ue)),(j=function(G){return _.observe(G,{childList:!0,subtree:!0}),G})(B),u&&(_e.attachShadow=function(){return j(u.apply(this,arguments))})):(W=[],B[Le]("DOMNodeInserted",n(Me)),B[Le]("DOMNodeRemoved",n(ue))),B[Le](lt,s),B[Le]("readystatechange",s),_e.cloneNode=function(G){var le=f.call(this,!!G),J=ee(le);return-1<J&&ae(le,Xe[J]),G&&re.length&&function Oe(e){for(var d,o=0,l=e.length;o<l;o++)ae(d=e[o],Xe[ee(d)])}(le.querySelectorAll(re)),le}),y)return y=!1;if(-2<he.call(je,"="+U)+he.call(je,"<"+U)&&E(o),!ot.test(U)||-1<he.call(Tt,U))throw new Error("The type "+o+" is invalid");var U,te,d=function(){return g?B.createElement(C,U):B.createElement(C)},h=l||ut,g=Ce.call(h,Re),C=g?l[Re].toUpperCase():U;return g&&-1<he.call(je,"<"+C)&&E(C),te=je.push((g?"=":"<")+U)-1,re=re.concat(re.length?",":"",g?C+'[is="'+o.toLowerCase()+'"]':C),d.prototype=Xe[te]=Ce.call(h,"prototype")?h.prototype:Fe(_e),re.length&&Q(B.querySelectorAll(re),Me),d},B.createElement=Z=function(e,o){var l=H(o),d=l?V.call(B,e,Ge(l)):V.call(B,e),h=""+e,g=he.call(je,(l?"=":"<")+(l||h).toUpperCase()),C=-1<g;return l&&(d.setAttribute("is",l=l.toLowerCase()),C&&(C=x(h.toUpperCase(),l))),ne=!B.createElement.innerHTMLHelper,C&&ae(d,Xe[g]),d}),c.prototype={constructor:c,define:Ke?function(e,o,l){if(l)m(e,o,l);else{var d=e.toUpperCase();Ye[d]={constructor:o,create:[d]},it.set(o,d),Ne.define(e,o)}}:m,get:Ke?function(e){return Ne.get(e)||O(e)}:O,whenDefined:Ke?function(e){return _t.race([Ne.whenDefined(e),S(e)])}:S},!Ne||/^force/.test(ye.type))I();else if(!ye.noBuiltIn)try{!function(e,o,l){if(o[Re]="a",(e.prototype=Fe(HTMLAnchorElement.prototype)).constructor=e,K.customElements.define(l,e,o),p.call(B.createElement("a",{is:l}),"is")!==l||Ke&&p.call(new e,"is")!==l)throw o}(function e(){return Reflect.construct(HTMLAnchorElement,[],e)},{},"document-register-element-a")}catch(e){I()}if(!ye.noBuiltIn)try{V.call(B,"a","a")}catch(e){Ge=function(o){return{is:o.toLowerCase()}}}}(window)},8583:()=>{"use strict";!function(t){const r=t.performance;function a(x){r&&r.mark&&r.mark(x)}function i(x,k){r&&r.measure&&r.measure(x,k)}a("Zone");const u=t.__Zone_symbol_prefix||"__zone_symbol__";function f(x){return u+x}const b=!0===t[f("forceDuplicateZoneCheck")];if(t.Zone){if(b||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}let p=(()=>{class x{constructor(n,s){this._parent=n,this._name=s?s.name||"unnamed":"<root>",this._properties=s&&s.properties||{},this._zoneDelegate=new D(this,this._parent&&this._parent._zoneDelegate,s)}static assertZonePatched(){if(t.Promise!==Te.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let n=x.current;for(;n.parent;)n=n.parent;return n}static get current(){return Q.zone}static get currentTask(){return Oe}static __load_patch(n,s,P=!1){if(Te.hasOwnProperty(n)){if(!P&&b)throw Error("Already loaded patch: "+n)}else if(!t["__Zone_disable_"+n]){const R="Zone:"+n;a(R),Te[n]=s(t,x,ie),i(R,R)}}get parent(){return this._parent}get name(){return this._name}get(n){const s=this.getZoneWith(n);if(s)return s._properties[n]}getZoneWith(n){let s=this;for(;s;){if(s._properties.hasOwnProperty(n))return s;s=s._parent}return null}fork(n){if(!n)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,n)}wrap(n,s){if("function"!=typeof n)throw new Error("Expecting function got: "+n);const P=this._zoneDelegate.intercept(this,n,s),R=this;return function(){return R.runGuarded(P,this,arguments,s)}}run(n,s,P,R){Q={parent:Q,zone:this};try{return this._zoneDelegate.invoke(this,n,s,P,R)}finally{Q=Q.parent}}runGuarded(n,s=null,P,R){Q={parent:Q,zone:this};try{try{return this._zoneDelegate.invoke(this,n,s,P,R)}catch(de){if(this._zoneDelegate.handleError(this,de))throw de}}finally{Q=Q.parent}}runTask(n,s,P){if(n.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(n.zone||se).name+"; Execution: "+this.name+")");if(n.state===z&&(n.type===ae||n.type===A))return;const R=n.state!=v;R&&n._transitionTo(v,q),n.runCount++;const de=Oe;Oe=n,Q={parent:Q,zone:this};try{n.type==A&&n.data&&!n.data.isPeriodic&&(n.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,n,s,P)}catch(E){if(this._zoneDelegate.handleError(this,E))throw E}}finally{n.state!==z&&n.state!==_&&(n.type==ae||n.data&&n.data.isPeriodic?R&&n._transitionTo(q,v):(n.runCount=0,this._updateTaskCount(n,-1),R&&n._transitionTo(z,v,z))),Q=Q.parent,Oe=de}}scheduleTask(n){if(n.zone&&n.zone!==this){let P=this;for(;P;){if(P===n.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${n.zone.name}`);P=P.parent}}n._transitionTo(ne,z);const s=[];n._zoneDelegates=s,n._zone=this;try{n=this._zoneDelegate.scheduleTask(this,n)}catch(P){throw n._transitionTo(_,ne,z),this._zoneDelegate.handleError(this,P),P}return n._zoneDelegates===s&&this._updateTaskCount(n,1),n.state==ne&&n._transitionTo(q,ne),n}scheduleMicroTask(n,s,P,R){return this.scheduleTask(new L(j,n,s,P,R,void 0))}scheduleMacroTask(n,s,P,R,de){return this.scheduleTask(new L(A,n,s,P,R,de))}scheduleEventTask(n,s,P,R,de){return this.scheduleTask(new L(ae,n,s,P,R,de))}cancelTask(n){if(n.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(n.zone||se).name+"; Execution: "+this.name+")");n._transitionTo(Y,q,v);try{this._zoneDelegate.cancelTask(this,n)}catch(s){throw n._transitionTo(_,Y),this._zoneDelegate.handleError(this,s),s}return this._updateTaskCount(n,-1),n._transitionTo(z,Y),n.runCount=0,n}_updateTaskCount(n,s){const P=n._zoneDelegates;-1==s&&(n._zoneDelegates=null);for(let R=0;R<P.length;R++)P[R]._updateTaskCount(n.type,s)}}return x.__symbol__=f,x})();const N={name:"",onHasTask:(x,k,n,s)=>x.hasTask(n,s),onScheduleTask:(x,k,n,s)=>x.scheduleTask(n,s),onInvokeTask:(x,k,n,s,P,R)=>x.invokeTask(n,s,P,R),onCancelTask:(x,k,n,s)=>x.cancelTask(n,s)};class D{constructor(k,n,s){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=k,this._parentDelegate=n,this._forkZS=s&&(s&&s.onFork?s:n._forkZS),this._forkDlgt=s&&(s.onFork?n:n._forkDlgt),this._forkCurrZone=s&&(s.onFork?this.zone:n._forkCurrZone),this._interceptZS=s&&(s.onIntercept?s:n._interceptZS),this._interceptDlgt=s&&(s.onIntercept?n:n._interceptDlgt),this._interceptCurrZone=s&&(s.onIntercept?this.zone:n._interceptCurrZone),this._invokeZS=s&&(s.onInvoke?s:n._invokeZS),this._invokeDlgt=s&&(s.onInvoke?n:n._invokeDlgt),this._invokeCurrZone=s&&(s.onInvoke?this.zone:n._invokeCurrZone),this._handleErrorZS=s&&(s.onHandleError?s:n._handleErrorZS),this._handleErrorDlgt=s&&(s.onHandleError?n:n._handleErrorDlgt),this._handleErrorCurrZone=s&&(s.onHandleError?this.zone:n._handleErrorCurrZone),this._scheduleTaskZS=s&&(s.onScheduleTask?s:n._scheduleTaskZS),this._scheduleTaskDlgt=s&&(s.onScheduleTask?n:n._scheduleTaskDlgt),this._scheduleTaskCurrZone=s&&(s.onScheduleTask?this.zone:n._scheduleTaskCurrZone),this._invokeTaskZS=s&&(s.onInvokeTask?s:n._invokeTaskZS),this._invokeTaskDlgt=s&&(s.onInvokeTask?n:n._invokeTaskDlgt),this._invokeTaskCurrZone=s&&(s.onInvokeTask?this.zone:n._invokeTaskCurrZone),this._cancelTaskZS=s&&(s.onCancelTask?s:n._cancelTaskZS),this._cancelTaskDlgt=s&&(s.onCancelTask?n:n._cancelTaskDlgt),this._cancelTaskCurrZone=s&&(s.onCancelTask?this.zone:n._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const P=s&&s.onHasTask;(P||n&&n._hasTaskZS)&&(this._hasTaskZS=P?s:N,this._hasTaskDlgt=n,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=k,s.onScheduleTask||(this._scheduleTaskZS=N,this._scheduleTaskDlgt=n,this._scheduleTaskCurrZone=this.zone),s.onInvokeTask||(this._invokeTaskZS=N,this._invokeTaskDlgt=n,this._invokeTaskCurrZone=this.zone),s.onCancelTask||(this._cancelTaskZS=N,this._cancelTaskDlgt=n,this._cancelTaskCurrZone=this.zone))}fork(k,n){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,k,n):new p(k,n)}intercept(k,n,s){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,k,n,s):n}invoke(k,n,s,P,R){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,k,n,s,P,R):n.apply(s,P)}handleError(k,n){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,k,n)}scheduleTask(k,n){let s=n;if(this._scheduleTaskZS)this._hasTaskZS&&s._zoneDelegates.push(this._hasTaskDlgtOwner),s=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,k,n),s||(s=n);else if(n.scheduleFn)n.scheduleFn(n);else{if(n.type!=j)throw new Error("Task is missing scheduleFn.");w(n)}return s}invokeTask(k,n,s,P){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,k,n,s,P):n.callback.apply(s,P)}cancelTask(k,n){let s;if(this._cancelTaskZS)s=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,k,n);else{if(!n.cancelFn)throw Error("Task is not cancelable");s=n.cancelFn(n)}return s}hasTask(k,n){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,k,n)}catch(s){this.handleError(k,s)}}_updateTaskCount(k,n){const s=this._taskCounts,P=s[k],R=s[k]=P+n;if(R<0)throw new Error("More tasks executed then were scheduled.");0!=P&&0!=R||this.hasTask(this.zone,{microTask:s.microTask>0,macroTask:s.macroTask>0,eventTask:s.eventTask>0,change:k})}}class L{constructor(k,n,s,P,R,de){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=k,this.source=n,this.data=P,this.scheduleFn=R,this.cancelFn=de,!s)throw new Error("callback is not defined");this.callback=s;const E=this;this.invoke=k===ae&&P&&P.useG?L.invokeTask:function(){return L.invokeTask.call(t,E,this,arguments)}}static invokeTask(k,n,s){k||(k=this),pe++;try{return k.runCount++,k.zone.runTask(k,n,s)}finally{1==pe&&y(),pe--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(z,ne)}_transitionTo(k,n,s){if(this._state!==n&&this._state!==s)throw new Error(`${this.type} '${this.source}': can not transition to '${k}', expecting state '${n}'${s?" or '"+s+"'":""}, was '${this._state}'.`);this._state=k,k==z&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const V=f("setTimeout"),Z=f("Promise"),F=f("then");let ce,$=[],W=!1;function oe(x){if(ce||t[Z]&&(ce=t[Z].resolve(0)),ce){let k=ce[F];k||(k=ce.then),k.call(ce,x)}else t[V](x,0)}function w(x){0===pe&&0===$.length&&oe(y),x&&$.push(x)}function y(){if(!W){for(W=!0;$.length;){const x=$;$=[];for(let k=0;k<x.length;k++){const n=x[k];try{n.zone.runTask(n,null,null)}catch(s){ie.onUnhandledError(s)}}}ie.microtaskDrainDone(),W=!1}}const se={name:"NO ZONE"},z="notScheduled",ne="scheduling",q="scheduled",v="running",Y="canceling",_="unknown",j="microTask",A="macroTask",ae="eventTask",Te={},ie={symbol:f,currentZoneFrame:()=>Q,onUnhandledError:ee,microtaskDrainDone:ee,scheduleMicroTask:w,showUncaughtError:()=>!p[f("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:ee,patchMethod:()=>ee,bindArguments:()=>[],patchThen:()=>ee,patchMacroTask:()=>ee,patchEventPrototype:()=>ee,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>ee,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>ee,wrapWithCurrentZone:()=>ee,filterProperties:()=>[],attachOriginToPatched:()=>ee,_redefineProperty:()=>ee,patchCallbacks:()=>ee,nativeScheduleMicroTask:oe};let Q={parent:null,zone:new p(null,null)},Oe=null,pe=0;function ee(){}i("Zone","Zone"),t.Zone=p}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const K=Object.getOwnPropertyDescriptor,ye=Object.defineProperty,B=Object.getPrototypeOf,Ee=Object.create,Et=Array.prototype.slice,we="addEventListener",ke="removeEventListener",Le=Zone.__symbol__(we),Me=Zone.__symbol__(ke),me="true",ue="false",Re=Zone.__symbol__("");function Pe(t,r){return Zone.current.wrap(t,r)}function ct(t,r,a,i,u){return Zone.current.scheduleMacroTask(t,r,a,i,u)}const X=Zone.__symbol__,$e="undefined"!=typeof window,De=$e?window:void 0,fe=$e&&De||"object"==typeof self&&self||global;function Je(t,r){for(let a=t.length-1;a>=0;a--)"function"==typeof t[a]&&(t[a]=Pe(t[a],r+"_"+a));return t}function Ze(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}const lt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,rt=!("nw"in fe)&&void 0!==fe.process&&"[object process]"==={}.toString.call(fe.process),Be=!rt&&!lt&&!(!$e||!De.HTMLElement),Qe=void 0!==fe.process&&"[object process]"==={}.toString.call(fe.process)&&!lt&&!(!$e||!De.HTMLElement),ot={},Tt=function(t){if(!(t=t||fe.event))return;let r=ot[t.type];r||(r=ot[t.type]=X("ON_PROPERTY"+t.type));const a=this||t.target||fe,i=a[r];let u;if(Be&&a===De&&"error"===t.type){const f=t;u=i&&i.call(this,f.message,f.filename,f.lineno,f.colno,f.error),!0===u&&t.preventDefault()}else u=i&&i.apply(this,arguments),null!=u&&!u&&t.preventDefault();return u};function je(t,r,a){let i=K(t,r);if(!i&&a&&K(a,r)&&(i={enumerable:!0,configurable:!0}),!i||!i.configurable)return;const u=X("on"+r+"patched");if(t.hasOwnProperty(u)&&t[u])return;delete i.writable,delete i.value;const f=i.get,b=i.set,p=r.substr(2);let N=ot[p];N||(N=ot[p]=X("ON_PROPERTY"+p)),i.set=function(D){let L=this;!L&&t===fe&&(L=fe),L&&("function"==typeof L[N]&&L.removeEventListener(p,Tt),b&&b.call(L,null),L[N]=D,"function"==typeof D&&L.addEventListener(p,Tt,!1))},i.get=function(){let D=this;if(!D&&t===fe&&(D=fe),!D)return null;const L=D[N];if(L)return L;if(f){let V=f.call(this);if(V)return i.set.call(this,V),"function"==typeof D.removeAttribute&&D.removeAttribute(r),V}return null},ye(t,r,i),t[u]=!0}function Xe(t,r,a){if(r)for(let i=0;i<r.length;i++)je(t,"on"+r[i],a);else{const i=[];for(const u in t)"on"==u.substr(0,2)&&i.push(u);for(let u=0;u<i.length;u++)je(t,i[u],a)}}const re=X("originalInstance");function Ae(t){const r=fe[t];if(!r)return;fe[X(t)]=r,fe[t]=function(){const u=Je(arguments,t);switch(u.length){case 0:this[re]=new r;break;case 1:this[re]=new r(u[0]);break;case 2:this[re]=new r(u[0],u[1]);break;case 3:this[re]=new r(u[0],u[1],u[2]);break;case 4:this[re]=new r(u[0],u[1],u[2],u[3]);break;default:throw new Error("Arg list too long.")}},Ce(fe[t],r);const a=new r(function(){});let i;for(i in a)"XMLHttpRequest"===t&&"responseBlob"===i||function(u){"function"==typeof a[u]?fe[t].prototype[u]=function(){return this[re][u].apply(this[re],arguments)}:ye(fe[t].prototype,u,{set:function(f){"function"==typeof f?(this[re][u]=Pe(f,t+"."+u),Ce(this[re][u],f)):this[re][u]=f},get:function(){return this[re][u]}})}(i);for(i in r)"prototype"!==i&&r.hasOwnProperty(i)&&(fe[t][i]=r[i])}function he(t,r,a){let i=t;for(;i&&!i.hasOwnProperty(r);)i=B(i);!i&&t[r]&&(i=t);const u=X(r);let f=null;if(i&&(!(f=i[u])||!i.hasOwnProperty(u))&&(f=i[u]=i[r],Ze(i&&K(i,r)))){const p=a(f,u,r);i[r]=function(){return p(this,arguments)},Ce(i[r],f)}return f}function ut(t,r,a){let i=null;function u(f){const b=f.data;return b.args[b.cbIdx]=function(){f.invoke.apply(this,arguments)},i.apply(b.target,b.args),f}i=he(t,r,f=>function(b,p){const N=a(b,p);return N.cbIdx>=0&&"function"==typeof p[N.cbIdx]?ct(N.name,p[N.cbIdx],N,u):f.apply(b,p)})}function Ce(t,r){t[X("OriginalDelegate")]=r}let et=!1,Se=!1;function st(){if(et)return Se;et=!0;try{const t=De.navigator.userAgent;(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/")||-1!==t.indexOf("Edge/"))&&(Se=!0)}catch(t){}return Se}Zone.__load_patch("ZoneAwarePromise",(t,r,a)=>{const i=Object.getOwnPropertyDescriptor,u=Object.defineProperty,b=a.symbol,p=[],N=!0===t[b("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],D=b("Promise"),L=b("then");a.onUnhandledError=E=>{if(a.showUncaughtError()){const T=E&&E.rejection;T?console.error("Unhandled Promise rejection:",T instanceof Error?T.message:T,"; Zone:",E.zone.name,"; Task:",E.task&&E.task.source,"; Value:",T,T instanceof Error?T.stack:void 0):console.error(E)}},a.microtaskDrainDone=()=>{for(;p.length;){const E=p.shift();try{E.zone.runGuarded(()=>{throw E.throwOriginal?E.rejection:E})}catch(T){F(T)}}};const Z=b("unhandledPromiseRejectionHandler");function F(E){a.onUnhandledError(E);try{const T=r[Z];"function"==typeof T&&T.call(this,E)}catch(T){}}function $(E){return E&&E.then}function W(E){return E}function ce(E){return n.reject(E)}const oe=b("state"),w=b("value"),y=b("finally"),se=b("parentPromiseValue"),z=b("parentPromiseState"),q=null,v=!0,Y=!1;function j(E,T){return c=>{try{ie(E,T,c)}catch(m){ie(E,!1,m)}}}const Te=b("currentTaskTrace");function ie(E,T,c){const m=function(){let E=!1;return function(c){return function(){E||(E=!0,c.apply(null,arguments))}}}();if(E===c)throw new TypeError("Promise resolved with itself");if(E[oe]===q){let O=null;try{("object"==typeof c||"function"==typeof c)&&(O=c&&c.then)}catch(H){return m(()=>{ie(E,!1,H)})(),E}if(T!==Y&&c instanceof n&&c.hasOwnProperty(oe)&&c.hasOwnProperty(w)&&c[oe]!==q)Oe(c),ie(E,c[oe],c[w]);else if(T!==Y&&"function"==typeof O)try{O.call(c,m(j(E,T)),m(j(E,!1)))}catch(H){m(()=>{ie(E,!1,H)})()}else{E[oe]=T;const H=E[w];if(E[w]=c,E[y]===y&&T===v&&(E[oe]=E[z],E[w]=E[se]),T===Y&&c instanceof Error){const M=r.currentTask&&r.currentTask.data&&r.currentTask.data.__creationTrace__;M&&u(c,Te,{configurable:!0,enumerable:!1,writable:!0,value:M})}for(let M=0;M<H.length;)pe(E,H[M++],H[M++],H[M++],H[M++]);if(0==H.length&&T==Y){E[oe]=0;let M=c;try{throw new Error("Uncaught (in promise): "+function f(E){return E&&E.toString===Object.prototype.toString?(E.constructor&&E.constructor.name||"")+": "+JSON.stringify(E):E?E.toString():Object.prototype.toString.call(E)}(c)+(c&&c.stack?"\n"+c.stack:""))}catch(S){M=S}N&&(M.throwOriginal=!0),M.rejection=c,M.promise=E,M.zone=r.current,M.task=r.currentTask,p.push(M),a.scheduleMicroTask()}}}return E}const Q=b("rejectionHandledHandler");function Oe(E){if(0===E[oe]){try{const T=r[Q];T&&"function"==typeof T&&T.call(this,{rejection:E[w],promise:E})}catch(T){}E[oe]=Y;for(let T=0;T<p.length;T++)E===p[T].promise&&p.splice(T,1)}}function pe(E,T,c,m,O){Oe(E);const H=E[oe],M=H?"function"==typeof m?m:W:"function"==typeof O?O:ce;T.scheduleMicroTask("Promise.then",()=>{try{const S=E[w],I=!!c&&y===c[y];I&&(c[se]=S,c[z]=H);const e=T.run(M,void 0,I&&M!==ce&&M!==W?[]:[S]);ie(c,!0,e)}catch(S){ie(c,!1,S)}},c)}const x=function(){},k=t.AggregateError;class n{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(T){return ie(new this(null),v,T)}static reject(T){return ie(new this(null),Y,T)}static any(T){if(!T||"function"!=typeof T[Symbol.iterator])return Promise.reject(new k([],"All promises were rejected"));const c=[];let m=0;try{for(let M of T)m++,c.push(n.resolve(M))}catch(M){return Promise.reject(new k([],"All promises were rejected"))}if(0===m)return Promise.reject(new k([],"All promises were rejected"));let O=!1;const H=[];return new n((M,S)=>{for(let I=0;I<c.length;I++)c[I].then(e=>{O||(O=!0,M(e))},e=>{H.push(e),m--,0===m&&(O=!0,S(new k(H,"All promises were rejected")))})})}static race(T){let c,m,O=new this((S,I)=>{c=S,m=I});function H(S){c(S)}function M(S){m(S)}for(let S of T)$(S)||(S=this.resolve(S)),S.then(H,M);return O}static all(T){return n.allWithCallback(T)}static allSettled(T){return(this&&this.prototype instanceof n?this:n).allWithCallback(T,{thenCallback:m=>({status:"fulfilled",value:m}),errorCallback:m=>({status:"rejected",reason:m})})}static allWithCallback(T,c){let m,O,H=new this((e,o)=>{m=e,O=o}),M=2,S=0;const I=[];for(let e of T){$(e)||(e=this.resolve(e));const o=S;try{e.then(l=>{I[o]=c?c.thenCallback(l):l,M--,0===M&&m(I)},l=>{c?(I[o]=c.errorCallback(l),M--,0===M&&m(I)):O(l)})}catch(l){O(l)}M++,S++}return M-=2,0===M&&m(I),H}constructor(T){const c=this;if(!(c instanceof n))throw new Error("Must be an instanceof Promise.");c[oe]=q,c[w]=[];try{T&&T(j(c,v),j(c,Y))}catch(m){ie(c,!1,m)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return n}then(T,c){let m=this.constructor[Symbol.species];(!m||"function"!=typeof m)&&(m=this.constructor||n);const O=new m(x),H=r.current;return this[oe]==q?this[w].push(H,O,T,c):pe(this,H,O,T,c),O}catch(T){return this.then(null,T)}finally(T){let c=this.constructor[Symbol.species];(!c||"function"!=typeof c)&&(c=n);const m=new c(x);m[y]=y;const O=r.current;return this[oe]==q?this[w].push(O,m,T,T):pe(this,O,m,T,T),m}}n.resolve=n.resolve,n.reject=n.reject,n.race=n.race,n.all=n.all;const s=t[D]=t.Promise;t.Promise=n;const P=b("thenPatched");function R(E){const T=E.prototype,c=i(T,"then");if(c&&(!1===c.writable||!c.configurable))return;const m=T.then;T[L]=m,E.prototype.then=function(O,H){return new n((S,I)=>{m.call(this,S,I)}).then(O,H)},E[P]=!0}return a.patchThen=R,s&&(R(s),he(t,"fetch",E=>function de(E){return function(T,c){let m=E.apply(T,c);if(m instanceof n)return m;let O=m.constructor;return O[P]||R(O),m}}(E))),Promise[r.__symbol__("uncaughtPromiseErrors")]=p,n}),Zone.__load_patch("toString",t=>{const r=Function.prototype.toString,a=X("OriginalDelegate"),i=X("Promise"),u=X("Error"),f=function(){if("function"==typeof this){const D=this[a];if(D)return"function"==typeof D?r.call(D):Object.prototype.toString.call(D);if(this===Promise){const L=t[i];if(L)return r.call(L)}if(this===Error){const L=t[u];if(L)return r.call(L)}}return r.call(this)};f[a]=r,Function.prototype.toString=f;const b=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":b.call(this)}});let Ue=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){Ue=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){Ue=!1}const pt={useG:!0},ve={},ht={},mt=new RegExp("^"+Re+"(\\w+)(true|false)$"),ze=X("propagationStopped");function Ne(t,r){const a=(r?r(t):t)+ue,i=(r?r(t):t)+me,u=Re+a,f=Re+i;ve[t]={},ve[t][ue]=u,ve[t][me]=f}function Ke(t,r,a,i){const u=i&&i.add||we,f=i&&i.rm||ke,b=i&&i.listeners||"eventListeners",p=i&&i.rmAll||"removeAllListeners",N=X(u),D="."+u+":",Z=function(w,y,se){if(w.isRemoved)return;const z=w.callback;let ne;"object"==typeof z&&z.handleEvent&&(w.callback=v=>z.handleEvent(v),w.originalDelegate=z);try{w.invoke(w,y,[se])}catch(v){ne=v}const q=w.options;return q&&"object"==typeof q&&q.once&&y[f].call(y,se.type,w.originalDelegate?w.originalDelegate:w.callback,q),ne};function F(w,y,se){if(!(y=y||t.event))return;const z=w||y.target||t,ne=z[ve[y.type][se?me:ue]];if(ne){const q=[];if(1===ne.length){const v=Z(ne[0],z,y);v&&q.push(v)}else{const v=ne.slice();for(let Y=0;Y<v.length&&(!y||!0!==y[ze]);Y++){const _=Z(v[Y],z,y);_&&q.push(_)}}if(1===q.length)throw q[0];for(let v=0;v<q.length;v++){const Y=q[v];r.nativeScheduleMicroTask(()=>{throw Y})}}}const $=function(w){return F(this,w,!1)},W=function(w){return F(this,w,!0)};function ce(w,y){if(!w)return!1;let se=!0;y&&void 0!==y.useG&&(se=y.useG);const z=y&&y.vh;let ne=!0;y&&void 0!==y.chkDup&&(ne=y.chkDup);let q=!1;y&&void 0!==y.rt&&(q=y.rt);let v=w;for(;v&&!v.hasOwnProperty(u);)v=B(v);if(!v&&w[u]&&(v=w),!v||v[N])return!1;const Y=y&&y.eventNameToString,_={},j=v[N]=v[u],A=v[X(f)]=v[f],ae=v[X(b)]=v[b],Te=v[X(p)]=v[p];let ie;function Q(c,m){return!Ue&&"object"==typeof c&&c?!!c.capture:Ue&&m?"boolean"==typeof c?{capture:c,passive:!0}:c?"object"==typeof c&&!1!==c.passive?Object.assign(Object.assign({},c),{passive:!0}):c:{passive:!0}:c}y&&y.prepend&&(ie=v[X(y.prepend)]=v[y.prepend]);const n=se?function(c){if(!_.isExisting)return j.call(_.target,_.eventName,_.capture?W:$,_.options)}:function(c){return j.call(_.target,_.eventName,c.invoke,_.options)},s=se?function(c){if(!c.isRemoved){const m=ve[c.eventName];let O;m&&(O=m[c.capture?me:ue]);const H=O&&c.target[O];if(H)for(let M=0;M<H.length;M++)if(H[M]===c){H.splice(M,1),c.isRemoved=!0,0===H.length&&(c.allRemoved=!0,c.target[O]=null);break}}if(c.allRemoved)return A.call(c.target,c.eventName,c.capture?W:$,c.options)}:function(c){return A.call(c.target,c.eventName,c.invoke,c.options)},R=y&&y.diff?y.diff:function(c,m){const O=typeof m;return"function"===O&&c.callback===m||"object"===O&&c.originalDelegate===m},de=Zone[X("UNPATCHED_EVENTS")],E=t[X("PASSIVE_EVENTS")],T=function(c,m,O,H,M=!1,S=!1){return function(){const I=this||t;let e=arguments[0];y&&y.transferEventName&&(e=y.transferEventName(e));let o=arguments[1];if(!o)return c.apply(this,arguments);if(rt&&"uncaughtException"===e)return c.apply(this,arguments);let l=!1;if("function"!=typeof o){if(!o.handleEvent)return c.apply(this,arguments);l=!0}if(z&&!z(c,o,I,arguments))return;const d=Ue&&!!E&&-1!==E.indexOf(e),h=Q(arguments[2],d);if(de)for(let qe=0;qe<de.length;qe++)if(e===de[qe])return d?c.call(I,e,o,h):c.apply(this,arguments);const g=!!h&&("boolean"==typeof h||h.capture),C=!(!h||"object"!=typeof h)&&h.once,U=Zone.current;let te=ve[e];te||(Ne(e,Y),te=ve[e]);const G=te[g?me:ue];let ge,le=I[G],J=!1;if(le){if(J=!0,ne)for(let qe=0;qe<le.length;qe++)if(R(le[qe],o))return}else le=I[G]=[];const be=I.constructor.name,xe=ht[be];xe&&(ge=xe[e]),ge||(ge=be+m+(Y?Y(e):e)),_.options=h,C&&(_.options.once=!1),_.target=I,_.capture=g,_.eventName=e,_.isExisting=J;const Ie=se?pt:void 0;Ie&&(Ie.taskData=_);const He=U.scheduleEventTask(ge,o,Ie,O,H);return _.target=null,Ie&&(Ie.taskData=null),C&&(h.once=!0),!Ue&&"boolean"==typeof He.options||(He.options=h),He.target=I,He.capture=g,He.eventName=e,l&&(He.originalDelegate=o),S?le.unshift(He):le.push(He),M?I:void 0}};return v[u]=T(j,D,n,s,q),ie&&(v.prependListener=T(ie,".prependListener:",function(c){return ie.call(_.target,_.eventName,c.invoke,_.options)},s,q,!0)),v[f]=function(){const c=this||t;let m=arguments[0];y&&y.transferEventName&&(m=y.transferEventName(m));const O=arguments[2],H=!!O&&("boolean"==typeof O||O.capture),M=arguments[1];if(!M)return A.apply(this,arguments);if(z&&!z(A,M,c,arguments))return;const S=ve[m];let I;S&&(I=S[H?me:ue]);const e=I&&c[I];if(e)for(let o=0;o<e.length;o++){const l=e[o];if(R(l,M))return e.splice(o,1),l.isRemoved=!0,0===e.length&&(l.allRemoved=!0,c[I]=null,"string"==typeof m)&&(c[Re+"ON_PROPERTY"+m]=null),l.zone.cancelTask(l),q?c:void 0}return A.apply(this,arguments)},v[b]=function(){const c=this||t;let m=arguments[0];y&&y.transferEventName&&(m=y.transferEventName(m));const O=[],H=dt(c,Y?Y(m):m);for(let M=0;M<H.length;M++){const S=H[M];O.push(S.originalDelegate?S.originalDelegate:S.callback)}return O},v[p]=function(){const c=this||t;let m=arguments[0];if(m){y&&y.transferEventName&&(m=y.transferEventName(m));const O=ve[m];if(O){const S=c[O[ue]],I=c[O[me]];if(S){const e=S.slice();for(let o=0;o<e.length;o++){const l=e[o];this[f].call(this,m,l.originalDelegate?l.originalDelegate:l.callback,l.options)}}if(I){const e=I.slice();for(let o=0;o<e.length;o++){const l=e[o];this[f].call(this,m,l.originalDelegate?l.originalDelegate:l.callback,l.options)}}}}else{const O=Object.keys(c);for(let H=0;H<O.length;H++){const S=mt.exec(O[H]);let I=S&&S[1];I&&"removeListener"!==I&&this[p].call(this,I)}this[p].call(this,"removeListener")}if(q)return this},Ce(v[u],j),Ce(v[f],A),Te&&Ce(v[p],Te),ae&&Ce(v[b],ae),!0}let oe=[];for(let w=0;w<a.length;w++)oe[w]=ce(a[w],i);return oe}function dt(t,r){if(!r){const f=[];for(let b in t){const p=mt.exec(b);let N=p&&p[1];if(N&&(!r||N===r)){const D=t[b];if(D)for(let L=0;L<D.length;L++)f.push(D[L])}}return f}let a=ve[r];a||(Ne(r),a=ve[r]);const i=t[a[ue]],u=t[a[me]];return i?u?i.concat(u):i.slice():u?u.slice():[]}function gt(t,r){const a=t.Event;a&&a.prototype&&r.patchMethod(a.prototype,"stopImmediatePropagation",i=>function(u,f){u[ze]=!0,i&&i.apply(u,f)})}function _t(t,r,a,i,u){const f=Zone.__symbol__(i);if(r[f])return;const b=r[f]=r[i];r[i]=function(p,N,D){return N&&N.prototype&&u.forEach(function(L){const V=`${a}.${i}::`+L,Z=N.prototype;if(Z.hasOwnProperty(L)){const F=t.ObjectGetOwnPropertyDescriptor(Z,L);F&&F.value?(F.value=t.wrapWithCurrentZone(F.value,V),t._redefineProperty(N.prototype,L,F)):Z[L]&&(Z[L]=t.wrapWithCurrentZone(Z[L],V))}else Z[L]&&(Z[L]=t.wrapWithCurrentZone(Z[L],V))}),b.call(r,p,N,D)},t.attachOriginToPatched(r[i],b)}function tt(t,r,a){if(!a||0===a.length)return r;const i=a.filter(f=>f.target===t);if(!i||0===i.length)return r;const u=i[0].ignoreProperties;return r.filter(f=>-1===u.indexOf(f))}function Ye(t,r,a,i){t&&Xe(t,tt(t,r,a),i)}function Ve(t){return Object.getOwnPropertyNames(t).filter(r=>r.startsWith("on")&&r.length>2).map(r=>r.substring(2))}Zone.__load_patch("util",(t,r,a)=>{const i=Ve(t);a.patchOnProperties=Xe,a.patchMethod=he,a.bindArguments=Je,a.patchMacroTask=ut;const u=r.__symbol__("BLACK_LISTED_EVENTS"),f=r.__symbol__("UNPATCHED_EVENTS");t[f]&&(t[u]=t[f]),t[u]&&(r[u]=r[f]=t[u]),a.patchEventPrototype=gt,a.patchEventTarget=Ke,a.isIEOrEdge=st,a.ObjectDefineProperty=ye,a.ObjectGetOwnPropertyDescriptor=K,a.ObjectCreate=Ee,a.ArraySlice=Et,a.patchClass=Ae,a.wrapWithCurrentZone=Pe,a.filterProperties=tt,a.attachOriginToPatched=Ce,a._redefineProperty=Object.defineProperty,a.patchCallbacks=_t,a.getGlobalObjects=()=>({globalSources:ht,zoneSymbolEventNames:ve,eventNames:i,isBrowser:Be,isMix:Qe,isNode:rt,TRUE_STR:me,FALSE_STR:ue,ZONE_SYMBOL_PREFIX:Re,ADD_EVENT_LISTENER_STR:we,REMOVE_EVENT_LISTENER_STR:ke})});const Ge=X("zoneTask");function Fe(t,r,a,i){let u=null,f=null;a+=i;const b={};function p(D){const L=D.data;return L.args[0]=function(){return D.invoke.apply(this,arguments)},L.handleId=u.apply(t,L.args),D}function N(D){return f.call(t,D.data.handleId)}u=he(t,r+=i,D=>function(L,V){if("function"==typeof V[0]){const Z={isPeriodic:"Interval"===i,delay:"Timeout"===i||"Interval"===i?V[1]||0:void 0,args:V},F=V[0];V[0]=function(){try{return F.apply(this,arguments)}finally{Z.isPeriodic||("number"==typeof Z.handleId?delete b[Z.handleId]:Z.handleId&&(Z.handleId[Ge]=null))}};const $=ct(r,V[0],Z,p,N);if(!$)return $;const W=$.data.handleId;return"number"==typeof W?b[W]=$:W&&(W[Ge]=$),W&&W.ref&&W.unref&&"function"==typeof W.ref&&"function"==typeof W.unref&&($.ref=W.ref.bind(W),$.unref=W.unref.bind(W)),"number"==typeof W||W?W:$}return D.apply(t,V)}),f=he(t,a,D=>function(L,V){const Z=V[0];let F;"number"==typeof Z?F=b[Z]:(F=Z&&Z[Ge],F||(F=Z)),F&&"string"==typeof F.type?"notScheduled"!==F.state&&(F.cancelFn&&F.data.isPeriodic||0===F.runCount)&&("number"==typeof Z?delete b[Z]:Z&&(Z[Ge]=null),F.zone.cancelTask(F)):D.apply(t,V)})}Zone.__load_patch("legacy",t=>{const r=t[Zone.__symbol__("legacyPatch")];r&&r()}),Zone.__load_patch("queueMicrotask",(t,r,a)=>{a.patchMethod(t,"queueMicrotask",i=>function(u,f){r.current.scheduleMicroTask("queueMicrotask",f[0])})}),Zone.__load_patch("timers",t=>{const r="set",a="clear";Fe(t,r,a,"Timeout"),Fe(t,r,a,"Interval"),Fe(t,r,a,"Immediate")}),Zone.__load_patch("requestAnimationFrame",t=>{Fe(t,"request","cancel","AnimationFrame"),Fe(t,"mozRequest","mozCancel","AnimationFrame"),Fe(t,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(t,r)=>{const a=["alert","prompt","confirm"];for(let i=0;i<a.length;i++)he(t,a[i],(f,b,p)=>function(N,D){return r.current.run(f,t,D,p)})}),Zone.__load_patch("EventTarget",(t,r,a)=>{(function _e(t,r){r.patchEventPrototype(t,r)})(t,a),function We(t,r){if(Zone[r.symbol("patchEventTarget")])return;const{eventNames:a,zoneSymbolEventNames:i,TRUE_STR:u,FALSE_STR:f,ZONE_SYMBOL_PREFIX:b}=r.getGlobalObjects();for(let N=0;N<a.length;N++){const D=a[N],Z=b+(D+f),F=b+(D+u);i[D]={},i[D][f]=Z,i[D][u]=F}const p=t.EventTarget;p&&p.prototype&&r.patchEventTarget(t,r,[p&&p.prototype])}(t,a);const i=t.XMLHttpRequestEventTarget;i&&i.prototype&&a.patchEventTarget(t,a,[i.prototype])}),Zone.__load_patch("MutationObserver",(t,r,a)=>{Ae("MutationObserver"),Ae("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(t,r,a)=>{Ae("IntersectionObserver")}),Zone.__load_patch("FileReader",(t,r,a)=>{Ae("FileReader")}),Zone.__load_patch("on_property",(t,r,a)=>{!function it(t,r){if(rt&&!Qe||Zone[t.symbol("patchEvents")])return;const a=r.__Zone_ignore_on_properties;let i=[];if(Be){const u=window;i=i.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const f=function ft(){try{const t=De.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}()?[{target:u,ignoreProperties:["error"]}]:[];Ye(u,Ve(u),a&&a.concat(f),B(u))}i=i.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let u=0;u<i.length;u++){const f=r[i[u]];f&&f.prototype&&Ye(f.prototype,Ve(f.prototype),a)}}(a,t)}),Zone.__load_patch("customElements",(t,r,a)=>{!function yt(t,r){const{isBrowser:a,isMix:i}=r.getGlobalObjects();(a||i)&&t.customElements&&"customElements"in t&&r.patchCallbacks(r,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,a)}),Zone.__load_patch("XHR",(t,r)=>{!function N(D){const L=D.XMLHttpRequest;if(!L)return;const V=L.prototype;let F=V[Le],$=V[Me];if(!F){const _=D.XMLHttpRequestEventTarget;if(_){const j=_.prototype;F=j[Le],$=j[Me]}}const W="readystatechange",ce="scheduled";function oe(_){const j=_.data,A=j.target;A[f]=!1,A[p]=!1;const ae=A[u];F||(F=A[Le],$=A[Me]),ae&&$.call(A,W,ae);const Te=A[u]=()=>{if(A.readyState===A.DONE)if(!j.aborted&&A[f]&&_.state===ce){const Q=A[r.__symbol__("loadfalse")];if(0!==A.status&&Q&&Q.length>0){const Oe=_.invoke;_.invoke=function(){const pe=A[r.__symbol__("loadfalse")];for(let ee=0;ee<pe.length;ee++)pe[ee]===_&&pe.splice(ee,1);!j.aborted&&_.state===ce&&Oe.call(_)},Q.push(_)}else _.invoke()}else!j.aborted&&!1===A[f]&&(A[p]=!0)};return F.call(A,W,Te),A[a]||(A[a]=_),v.apply(A,j.args),A[f]=!0,_}function w(){}function y(_){const j=_.data;return j.aborted=!0,Y.apply(j.target,j.args)}const se=he(V,"open",()=>function(_,j){return _[i]=0==j[2],_[b]=j[1],se.apply(_,j)}),ne=X("fetchTaskAborting"),q=X("fetchTaskScheduling"),v=he(V,"send",()=>function(_,j){if(!0===r.current[q]||_[i])return v.apply(_,j);{const A={target:_,url:_[b],isPeriodic:!1,args:j,aborted:!1},ae=ct("XMLHttpRequest.send",w,A,oe,y);_&&!0===_[p]&&!A.aborted&&ae.state===ce&&ae.invoke()}}),Y=he(V,"abort",()=>function(_,j){const A=function Z(_){return _[a]}(_);if(A&&"string"==typeof A.type){if(null==A.cancelFn||A.data&&A.data.aborted)return;A.zone.cancelTask(A)}else if(!0===r.current[ne])return Y.apply(_,j)})}(t);const a=X("xhrTask"),i=X("xhrSync"),u=X("xhrListener"),f=X("xhrScheduled"),b=X("xhrURL"),p=X("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&function at(t,r){const a=t.constructor.name;for(let i=0;i<r.length;i++){const u=r[i],f=t[u];if(f){if(!Ze(K(t,u)))continue;t[u]=(p=>{const N=function(){return p.apply(this,Je(arguments,a+"."+u))};return Ce(N,p),N})(f)}}}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(t,r)=>{function a(i){return function(u){dt(t,i).forEach(b=>{const p=t.PromiseRejectionEvent;if(p){const N=new p(i,{promise:u.promise,reason:u.rejection});b.invoke(N)}})}}t.PromiseRejectionEvent&&(r[X("unhandledPromiseRejectionHandler")]=a("unhandledrejection"),r[X("rejectionHandledHandler")]=a("rejectionhandled"))})}},K=>{K(K.s=7435)}]);
"use strict";(self.webpackChunkchat_pop_up=self.webpackChunkchat_pop_up||[]).push([[568],{7568:(ee,O,c)=>{c.r(O);var y=c(3942),a=c(5861),g=c(9681),f=c(2090),v=c(4859);function I(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function m(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e)||!0===e||!1===e||"[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>m(t));if("function"==typeof e||"object"==typeof e)return I(e,t=>m(t));throw new Error("Data cannot be encoded in JSON: "+e)}function p(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>p(t)):"function"==typeof e||"object"==typeof e?I(e,t=>p(t)):e}const E="functions",k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class l extends f.ZR{constructor(t,n,r){super(`${E}/${t}`,n||""),this.details=r}}function L(e,t){let i,n=function R(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=n;try{const o=t&&t.error;if(o){const u=o.status;if("string"==typeof u){if(!k[u])return new l("internal","internal");n=k[u],r=u}const s=o.message;"string"==typeof s&&(r=s),i=o.details,void 0!==i&&(i=p(i))}}catch(o){}return"ok"===n?null:new l(n,r,i)}class U{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var t=this;return(0,a.Z)(function*(){if(t.auth)try{const n=yield t.auth.getToken();return null==n?void 0:n.accessToken}catch(n){return}})()}getMessagingToken(){var t=this;return(0,a.Z)(function*(){if(t.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield t.messaging.getToken()}catch(n){return}})()}getAppCheckToken(){var t=this;return(0,a.Z)(function*(){if(t.appCheck){const n=yield t.appCheck.getToken();return n.error?null:n.token}return null})()}getContext(){var t=this;return(0,a.Z)(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken()}})()}}const N="us-central1";function $(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new l("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class M{constructor(t,n,r,i,o=N,u){this.app=t,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new U(n,r,i),this.cancelAllRequests=new Promise(s=>{this.deleteService=()=>Promise.resolve(s())});try{const s=new URL(o);this.customDomain=s.origin,this.region=N}catch(s){this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:null!==this.customDomain?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function V(e,t,n,r){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(function*(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=yield r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(u){return{status:0,json:null}}let o=null;try{o=yield i.json()}catch(u){}return{status:i.status,json:o}})).apply(this,arguments)}function T(){return(T=(0,a.Z)(function*(e,t,n,r){const i=e._url(t),o={data:n=m(n)},u={},s=yield e.contextProvider.getContext();s.authToken&&(u.Authorization="Bearer "+s.authToken),s.messagingToken&&(u["Firebase-Instance-ID-Token"]=s.messagingToken),null!==s.appCheckToken&&(u["X-Firebase-AppCheck"]=s.appCheckToken);const D=$(r.timeout||7e4),d=yield Promise.race([V(i,o,u,e.fetchImpl),D.promise,e.cancelAllRequests]);if(D.cancel(),!d)throw new l("cancelled","Firebase Functions instance was deleted.");const S=L(d.status,d.json);if(S)throw S;if(!d.json)throw new l("internal","Response is not valid JSON object.");let h=d.json.data;if(void 0===h&&(h=d.json.result),void 0===h)throw new l("internal","Response is missing data field.");return{data:p(h)}})).apply(this,arguments)}const w="@firebase/functions",x="0.7.10";function C(e,t,n){!function Z(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}((0,f.m9)(e),t,n)}!function Y(e,t){(0,g._registerComponent)(new v.wA(E,(r,{instanceIdentifier:i})=>{const o=r.getProvider("app").getImmediate(),u=r.getProvider("auth-internal"),s=r.getProvider("messaging-internal"),A=r.getProvider("app-check-internal");return new M(o,u,s,A,i,e)},"PUBLIC").setMultipleInstances(!0)),(0,g.registerVersion)(w,x,t),(0,g.registerVersion)(w,x,"esm2017")}(fetch.bind(self));class P{constructor(t,n){this.app=t,this._delegate=n,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(t,n){return function j(e,t,n){return function G(e,t,n){return r=>function J(e,t,n,r){return T.apply(this,arguments)}(e,t,r,n||{})}((0,f.m9)(e),t,n)}(this._delegate,t,n)}useFunctionsEmulator(t){const n=t.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==n)throw new f.ZR("functions","No origin provided to useFunctionsEmulator()");if(null==n[2])throw new f.ZR("functions","Port missing in origin provided to useFunctionsEmulator()");return C(this._delegate,n[1],Number(n[2]))}useEmulator(t,n){return C(this._delegate,t,n)}}const Q=(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("functions").getImmediate({identifier:null!=t?t:"us-central1"});return new P(n,r)};(function q(){const e={Functions:P};y.Z.INTERNAL.registerComponent(new v.wA("functions-compat",Q,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))})(),y.Z.registerVersion("@firebase/functions-compat","0.1.11")}}]);
"use strict";(self.webpackChunkchat_pop_up=self.webpackChunkchat_pop_up||[]).push([[179],{2011:(ct,Ie,F)=>{F.d(Ie,{hO:()=>qe,xv:()=>ye,Dh:()=>he,GT:()=>_e,cc:()=>Oe,on:()=>W,pX:()=>se});var c=F(5e3),H=F(127),k=F(5813);ct=F.hmd(ct);const oe=["ngOnDestroy"],se=(De,nt,He,Re={})=>new Proxy(De,{get:(Me,Ce)=>He.runOutsideAngular(()=>{var Ye;if(De[Ce])return(null===(Ye=null==Re?void 0:Re.spy)||void 0===Ye?void 0:Ye.get)&&Re.spy.get(Ce,De[Ce]),De[Ce];if(oe.indexOf(Ce)>-1)return()=>{};const ie=nt.toPromise().then(Qe=>{const J=Qe&&Qe[Ce];return"function"==typeof J?J.bind(Qe):J&&J.then?J.then(pe=>He.run(()=>pe)):He.run(()=>J)});return new Proxy(()=>{},{get:(Qe,J)=>ie[J],apply:(Qe,J,pe)=>ie.then(de=>{var me;const Pe=de&&de(...pe);return(null===(me=null==Re?void 0:Re.spy)||void 0===me?void 0:me.apply)&&Re.spy.apply(Ce,pe,Pe),Pe})})})}),_e=(De,nt)=>{nt.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Re=>{Object.defineProperty(De.prototype,Re,Object.getOwnPropertyDescriptor(He.prototype||He,Re))})})};class re{constructor(nt){return nt}}const he=new c.OlP("angularfire2.app.options"),ye=new c.OlP("angularfire2.app.name");function W(De,nt,He){const Me="object"==typeof He&&He||{};Me.name=Me.name||"string"==typeof He&&He||"[DEFAULT]";const Ye=H.Z.apps.filter(ie=>ie&&ie.name===Me.name)[0]||nt.runOutsideAngular(()=>H.Z.initializeApp(De,Me));try{JSON.stringify(De)!==JSON.stringify(Ye.options)&&z("error",`${Ye.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ie){}return new re(Ye)}const z=(De,...nt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[De](...nt)},ne={provide:re,useFactory:W,deps:[he,c.R0b,[new c.FiY,ye]]};let qe=(()=>{class De{constructor(He){H.Z.registerVersion("angularfire",k.q4.full,"core"),H.Z.registerVersion("angularfire",k.q4.full,"app-compat"),H.Z.registerVersion("angular",c.q4F.full,He.toString())}static initializeApp(He,Re){return{ngModule:De,providers:[{provide:he,useValue:He},{provide:ye,useValue:Re}]}}}return De.\u0275fac=function(He){return new(He||De)(c.LFG(c.Lbi))},De.\u0275mod=c.oAB({type:De}),De.\u0275inj=c.cJS({providers:[ne]}),De})();function Oe(De,nt,He,Re,Me){const[,Ce,Ye]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===De)||[];if(Ce)return function Ne(De,nt){try{return De.toString()===nt.toString()}catch(He){return De===nt}}(Me,Ye)||(we("error",`${nt} was already initialized on the ${He} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Me,was:Ye})),Ce;{const ie=Re();return globalThis.\u0275AngularfireInstanceCache.push([De,ie,Me]),ie}}const je=!!ct.hot,we=(De,...nt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[De](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ct,Ie,F)=>{F.d(Ie,{q4:()=>Di,iC:()=>Tr,HU:()=>Mu,vb:()=>Ma,JM:()=>Wf,u3:()=>Dl});var c=F(5e3),H=F(5867),k=F(5861),oe=F(9681),se=F(2090),_e=F(4859),re=F(1877);const he="@firebase/installations",z="w:0.5.7",ne="FIS_v2",De=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(D){return D instanceof se.ZR&&D.code.includes("request-failed")}function He({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Re(D){return{token:D.token,requestStatus:2,expiresIn:pe(D.expiresIn),creationTime:Date.now()}}function Me(D,x){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,k.Z)(function*(D,x){const j=(yield x.json()).error;return De.create("request-failed",{requestName:D,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function Ye({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ie(D,{refreshToken:x}){const O=Ye(D);return O.append("Authorization",function de(D){return`${ne} ${D}`}(x)),O}function Qe(D){return J.apply(this,arguments)}function J(){return(J=(0,k.Z)(function*(D){const x=yield D();return x.status>=500&&x.status<600?D():x})).apply(this,arguments)}function pe(D){return Number(D.replace("s","000"))}function me(D,x){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:x},{fid:O}){const j=He(D),X=Ye(D),ae=x.getImmediate({optional:!0});if(ae){const yt=yield ae.getHeartbeatsHeader();yt&&X.append("x-firebase-client",yt)}const Ge={method:"POST",headers:X,body:JSON.stringify({fid:O,authVersion:ne,appId:D.appId,sdkVersion:z})},It=yield Qe(()=>fetch(j,Ge));if(It.ok){const yt=yield It.json();return{fid:yt.fid||O,registrationStatus:2,refreshToken:yt.refreshToken,authToken:Re(yt.authToken)}}throw yield Me("Create Installation",It)})).apply(this,arguments)}function le(D){return new Promise(x=>{setTimeout(x,D)})}const Jt=/^[cdef][\w-]{21}$/;function dt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function pt(D){return function xt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Jt.test(O)?O:""}catch(D){return""}}function pn(D){return`${D.appName}!${D.appId}`}const hn=new Map;function or(D,x){const O=pn(D);en(O,x),function In(D,x){const O=function Si(){return!ai&&"BroadcastChannel"in self&&(ai=new BroadcastChannel("[Firebase] FID Change"),ai.onmessage=D=>{en(D.data.key,D.data.fid)}),ai}();O&&O.postMessage({key:D,fid:x}),function bi(){0===hn.size&&ai&&(ai.close(),ai=null)}()}(O,x)}function en(D,x){const O=hn.get(D);if(O)for(const j of O)j(x)}let ai=null;const li="firebase-installations-store";let wi=null;function rs(){return wi||(wi=(0,se.X3)("firebase-installations-database",1,(D,x)=>{0===x&&D.createObjectStore(li)})),wi}function gt(D,x){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,k.Z)(function*(D,x){const O=pn(D),X=(yield rs()).transaction(li,"readwrite"),ae=X.objectStore(li),ke=yield ae.get(O);return yield ae.put(x,O),yield X.complete,(!ke||ke.fid!==x.fid)&&or(D,x.fid),x})).apply(this,arguments)}function On(D){return rn.apply(this,arguments)}function rn(){return(rn=(0,k.Z)(function*(D){const x=pn(D),j=(yield rs()).transaction(li,"readwrite");yield j.objectStore(li).delete(x),yield j.complete})).apply(this,arguments)}function Un(D,x){return lr.apply(this,arguments)}function lr(){return(lr=(0,k.Z)(function*(D,x){const O=pn(D),X=(yield rs()).transaction(li,"readwrite"),ae=X.objectStore(li),ke=yield ae.get(O),Ge=x(ke);return void 0===Ge?yield ae.delete(O):yield ae.put(Ge,O),yield X.complete,Ge&&(!ke||ke.fid!==Ge.fid)&&or(D,Ge.fid),Ge})).apply(this,arguments)}function kn(D){return An.apply(this,arguments)}function An(){return(An=(0,k.Z)(function*(D){let x;const O=yield Un(D.appConfig,j=>{const X=Li(j),ae=Xs(D,X);return x=ae.registrationPromise,ae.installationEntry});return""===O.fid?{installationEntry:yield x}:{installationEntry:O,registrationPromise:x}})).apply(this,arguments)}function Li(D){return qt(D||{fid:dt(),registrationStatus:0})}function Xs(D,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(De.create("app-offline"))};const O={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},j=function $t(D,x){return ht.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:j}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:st(D)}:{installationEntry:x}}function ht(){return(ht=(0,k.Z)(function*(D,x){try{const O=yield me(D,x);return gt(D.appConfig,O)}catch(O){throw nt(O)&&409===O.customData.serverCode?yield On(D.appConfig):yield gt(D.appConfig,{fid:x.fid,registrationStatus:0}),O}})).apply(this,arguments)}function st(D){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,k.Z)(function*(D){let x=yield Gr(D.appConfig);for(;1===x.registrationStatus;)yield le(100),x=yield Gr(D.appConfig);if(0===x.registrationStatus){const{installationEntry:O,registrationPromise:j}=yield kn(D);return j||O}return x})).apply(this,arguments)}function Gr(D){return Un(D,x=>{if(!x)throw De.create("installation-not-found");return qt(x)})}function qt(D){return function Hr(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Fn(D,x){return on.apply(this,arguments)}function on(){return(on=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:x},O){const j=_t(D,O),X=ie(D,O),ae=x.getImmediate({optional:!0});if(ae){const yt=yield ae.getHeartbeatsHeader();yt&&X.append("x-firebase-client",yt)}const Ge={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:z,appId:D.appId}})},It=yield Qe(()=>fetch(j,Ge));if(It.ok)return Re(yield It.json());throw yield Me("Generate Auth Token",It)})).apply(this,arguments)}function _t(D,{fid:x}){return`${He(D)}/${x}/authTokens:generate`}function Pn(D){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,k.Z)(function*(D,x=!1){let O;const j=yield Un(D.appConfig,ae=>{if(!Lt(ae))throw De.create("not-registered");const ke=ae.authToken;if(!x&&q(ke))return ae;if(1===ke.requestStatus)return O=ze(D,x),ae;{if(!navigator.onLine)throw De.create("app-offline");const Ge=Y(ae);return O=ft(D,Ge),Ge}});return O?yield O:j.authToken})).apply(this,arguments)}function ze(D,x){return xe.apply(this,arguments)}function xe(){return(xe=(0,k.Z)(function*(D,x){let O=yield et(D.appConfig);for(;1===O.authToken.requestStatus;)yield le(100),O=yield et(D.appConfig);const j=O.authToken;return 0===j.requestStatus?Pn(D,x):j})).apply(this,arguments)}function et(D){return Un(D,x=>{if(!Lt(x))throw De.create("not-registered");return function ge(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function ft(D,x){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,k.Z)(function*(D,x){try{const O=yield Fn(D,x),j=Object.assign(Object.assign({},x),{authToken:O});return yield gt(D.appConfig,j),O}catch(O){if(!nt(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const j=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield gt(D.appConfig,j)}else yield On(D.appConfig);throw O}})).apply(this,arguments)}function Lt(D){return void 0!==D&&2===D.registrationStatus}function q(D){return 2===D.requestStatus&&!function B(D){const x=Date.now();return x<D.creationTime||D.creationTime+D.expiresIn<x+36e5}(D)}function Y(D){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:x})}function V(){return(V=(0,k.Z)(function*(D){const x=D,{installationEntry:O,registrationPromise:j}=yield kn(x);return j?j.catch(console.error):Pn(x).catch(console.error),O.fid})).apply(this,arguments)}function ue(){return(ue=(0,k.Z)(function*(D,x=!1){const O=D;return yield Ue(O),(yield Pn(O,x)).token})).apply(this,arguments)}function Ue(D){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,k.Z)(function*(D){const{registrationPromise:x}=yield kn(D);x&&(yield x)})).apply(this,arguments)}function zn(D){return De.create("missing-app-config-values",{valueName:D})}const il="installations",Ze=D=>{const x=D.getProvider("app").getImmediate(),O=function Er(D){if(!D||!D.options)throw zn("App Configuration");if(!D.name)throw zn("App Name");const x=["projectId","apiKey","appId"];for(const O of x)if(!D.options[O])throw zn(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(x);return{app:x,appConfig:O,heartbeatServiceProvider:(0,oe._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},zt=D=>{const x=D.getProvider("app").getImmediate(),O=(0,oe._getProvider)(x,il).getImmediate();return{getId:()=>function P(D){return V.apply(this,arguments)}(O),getToken:X=>function U(D){return ue.apply(this,arguments)}(O,X)}};(function mn(){(0,oe._registerComponent)(new _e.wA(il,Ze,"PUBLIC")),(0,oe._registerComponent)(new _e.wA("installations-internal",zt,"PRIVATE"))})(),(0,oe.registerVersion)(he,"0.5.7"),(0,oe.registerVersion)(he,"0.5.7","esm2017");const Ri="@firebase/remote-config",Nn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class aa{constructor(x,O,j,X){this.client=x,this.storage=O,this.storageCache=j,this.logger=X}isCachedDataFresh(x,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-O,X=j<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${X}.`),X}fetch(x){var O=this;return(0,k.Z)(function*(){const[j,X]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(X&&O.isCachedDataFresh(x.cacheMaxAgeMillis,j))return X;x.eTag=X&&X.eTag;const ae=yield O.client.fetch(x),ke=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&ke.push(O.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(ke),ae})()}}function ol(D=navigator){return D.languages&&D.languages[0]||D.language}class Is{constructor(x,O,j,X,ae,ke){this.firebaseInstallations=x,this.sdkVersion=O,this.namespace=j,this.projectId=X,this.apiKey=ae,this.appId=ke}fetch(x){var O=this;return(0,k.Z)(function*(){const[j,X]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},It={sdk_version:O.sdkVersion,app_instance_id:j,app_instance_id_token:X,app_id:O.appId,language_code:ol()},yt={method:"POST",headers:Ge,body:JSON.stringify(It)},Ft=fetch(ke,yt),vt=new Promise((gs,tr)=>{x.signal.addEventListener(()=>{const Dc=new Error("The operation was aborted.");Dc.name="AbortError",tr(Dc)})});let Hi;try{yield Promise.race([Ft,vt]),Hi=yield Ft}catch(gs){let tr="fetch-client-network";throw"AbortError"===gs.name&&(tr="fetch-timeout"),Nn.create(tr,{originalErrorMessage:gs.message})}let Gn=Hi.status;const fo=Hi.headers.get("ETag")||void 0;let Gs,er;if(200===Hi.status){let gs;try{gs=yield Hi.json()}catch(tr){throw Nn.create("fetch-client-parse",{originalErrorMessage:tr.message})}Gs=gs.entries,er=gs.state}if("INSTANCE_STATE_UNSPECIFIED"===er?Gn=500:"NO_CHANGE"===er?Gn=304:("NO_TEMPLATE"===er||"EMPTY_CONFIG"===er)&&(Gs={}),304!==Gn&&200!==Gn)throw Nn.create("fetch-status",{httpStatus:Gn});return{status:Gn,eTag:fo,config:Gs}})()}}class os{constructor(x,O){this.client=x,this.storage=O}fetch(x){var O=this;return(0,k.Z)(function*(){const j=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(x,j)})()}attemptFetch(x,{throttleEndTimeMillis:O,backoffCount:j}){var X=this;return(0,k.Z)(function*(){yield function Qi(D,x){return new Promise((O,j)=>{const X=Math.max(x-Date.now(),0),ae=setTimeout(O,X);D.addEventListener(()=>{clearTimeout(ae),j(Nn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,O);try{const ae=yield X.client.fetch(x);return yield X.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function Lf(D){if(!(D instanceof se.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ae))throw ae;const ke={throttleEndTimeMillis:Date.now()+(0,se.$s)(j),backoffCount:j+1};return yield X.storage.setThrottleMetadata(ke),X.attemptFetch(x,ke)}})()}}class Bd{constructor(x,O,j,X,ae){this.app=x,this._client=O,this._storageCache=j,this._storage=X,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function la(D,x){const O=D.target.error||void 0;return Nn.create(x,{originalErrorMessage:O&&O.message})}const Ao="app_namespace_store";class al{constructor(x,O,j,X=function Uf(){return new Promise((D,x)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=j=>{x(la(j,"storage-open"))},O.onsuccess=j=>{D(j.target.result)},O.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(Ao,{keyPath:"compositeKey"})}}catch(O){x(Nn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=x,this.appName=O,this.namespace=j,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var O=this;return(0,k.Z)(function*(){const j=yield O.openDbPromise;return new Promise((X,ae)=>{const Ge=j.transaction([Ao],"readonly").objectStore(Ao),It=O.createCompositeKey(x);try{const yt=Ge.get(It);yt.onerror=Ft=>{ae(la(Ft,"storage-get"))},yt.onsuccess=Ft=>{const vt=Ft.target.result;X(vt?vt.value:void 0)}}catch(yt){ae(Nn.create("storage-get",{originalErrorMessage:yt&&yt.message}))}})})()}set(x,O){var j=this;return(0,k.Z)(function*(){const X=yield j.openDbPromise;return new Promise((ae,ke)=>{const It=X.transaction([Ao],"readwrite").objectStore(Ao),yt=j.createCompositeKey(x);try{const Ft=It.put({compositeKey:yt,value:O});Ft.onerror=vt=>{ke(la(vt,"storage-set"))},Ft.onsuccess=()=>{ae()}}catch(Ft){ke(Nn.create("storage-set",{originalErrorMessage:Ft&&Ft.message}))}})})()}delete(x){var O=this;return(0,k.Z)(function*(){const j=yield O.openDbPromise;return new Promise((X,ae)=>{const Ge=j.transaction([Ao],"readwrite").objectStore(Ao),It=O.createCompositeKey(x);try{const yt=Ge.delete(It);yt.onerror=Ft=>{ae(la(Ft,"storage-delete"))},yt.onsuccess=()=>{X()}}catch(yt){ae(Nn.create("storage-delete",{originalErrorMessage:yt&&yt.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class So{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,k.Z)(function*(){const O=x.storage.getLastFetchStatus(),j=x.storage.getLastSuccessfulFetchTimestampMillis(),X=x.storage.getActiveConfig(),ae=yield O;ae&&(x.lastFetchStatus=ae);const ke=yield j;ke&&(x.lastSuccessfulFetchTimestampMillis=ke);const Ge=yield X;Ge&&(x.activeConfig=Ge)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function cc(){return ll.apply(this,arguments)}function ll(){return(ll=(0,k.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}!function jf(){(0,oe._registerComponent)(new _e.wA("remote-config",function D(x,{instanceIdentifier:O}){const j=x.getProvider("app").getImmediate(),X=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Nn.create("registration-window");if(!(0,se.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:ae,apiKey:ke,appId:Ge}=j.options;if(!ae)throw Nn.create("registration-project-id");if(!ke)throw Nn.create("registration-api-key");if(!Ge)throw Nn.create("registration-app-id");const It=new al(Ge,j.name,O=O||"firebase"),yt=new So(It),Ft=new re.Yd(Ri);Ft.logLevel=re.in.ERROR;const vt=new Is(X,oe.SDK_VERSION,O,ae,ke,Ge),Hi=new os(vt,It),Gn=new aa(Hi,It,yt,Ft),fo=new Bd(j,Gn,yt,It,Ft);return function ki(D){const x=(0,se.m9)(D);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(fo),fo},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Ri,"0.3.6"),(0,oe.registerVersion)(Ri,"0.3.6","esm2017")}();const as="/firebase-messaging-sw.js",ua="/firebase-cloud-messaging-push-scope",cr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",To="google.c.a.c_id",ul="google.c.a.c_l",Ud="google.c.a.ts",ca="google.c.a.e";var xr=(()=>{return(D=xr||(xr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",xr;var D})();function ls(D){const x=new Uint8Array(D);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cl(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(O),X=new Uint8Array(j.length);for(let ae=0;ae<j.length;++ae)X[ae]=j.charCodeAt(ae);return X}const da="fcm_token_details_db",dr="fcm_token_object_Store";function Gf(D){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(da))return null;let x=null;return(yield(0,se.X3)(da,5,function(){var j=(0,k.Z)(function*(X,ae,ke,Ge){var It;if(ae<2||!X.objectStoreNames.contains(dr))return;const yt=Ge.objectStore(dr),Ft=yield yt.index("fcmSenderId").get(D);if(yield yt.clear(),Ft)if(2===ae){const vt=Ft;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;x={token:vt.fcmToken,createTime:null!==(It=vt.createTime)&&void 0!==It?It:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:ls(vt.vapidKey)}}}else if(3===ae){const vt=Ft;x={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:ls(vt.auth),p256dh:ls(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:ls(vt.vapidKey)}}}else if(4===ae){const vt=Ft;x={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:ls(vt.auth),p256dh:ls(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:ls(vt.vapidKey)}}}});return function(X,ae,ke,Ge){return j.apply(this,arguments)}}())).close(),yield(0,se.Lj)(da),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),su(x)?x:null}),Mo.apply(this,arguments)}function su(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:x}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Ss="firebase-messaging-store";let to=null;function au(){return to||(to=(0,se.X3)("firebase-messaging-database",1,(D,x)=>{0===x&&D.createObjectStore(Ss)})),to}function wn(D){return no.apply(this,arguments)}function no(){return(no=(0,k.Z)(function*(D){const x=Ts(D),j=yield(yield au()).transaction(Ss).objectStore(Ss).get(x);if(j)return j;{const X=yield Gf(D.appConfig.senderId);if(X)return yield io(D,X),X}})).apply(this,arguments)}function io(D,x){return yn.apply(this,arguments)}function yn(){return(yn=(0,k.Z)(function*(D,x){const O=Ts(D),X=(yield au()).transaction(Ss,"readwrite");return yield X.objectStore(Ss).put(x,O),yield X.complete,x})).apply(this,arguments)}function lu(D){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,k.Z)(function*(D){const x=Ts(D),j=(yield au()).transaction(Ss,"readwrite");yield j.objectStore(Ss).delete(x),yield j.complete})).apply(this,arguments)}function Ts({appConfig:D}){return D.appId}const Wn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function dl(D,x){return hr.apply(this,arguments)}function hr(){return(hr=(0,k.Z)(function*(D,x){const O=yield zr(D),j=Et(x),X={method:"POST",headers:O,body:JSON.stringify(j)};let ae;try{ae=yield(yield fetch(Ir(D.appConfig),X)).json()}catch(ke){throw Wn.create("token-subscribe-failed",{errorInfo:ke})}if(ae.error)throw Wn.create("token-subscribe-failed",{errorInfo:ae.error.message});if(!ae.token)throw Wn.create("token-subscribe-no-token");return ae.token})).apply(this,arguments)}function Bi(D,x){return us.apply(this,arguments)}function us(){return(us=(0,k.Z)(function*(D,x){const O=yield zr(D),j=Et(x.subscriptionOptions),X={method:"PATCH",headers:O,body:JSON.stringify(j)};let ae;try{ae=yield(yield fetch(`${Ir(D.appConfig)}/${x.token}`,X)).json()}catch(ke){throw Wn.create("token-update-failed",{errorInfo:ke})}if(ae.error)throw Wn.create("token-update-failed",{errorInfo:ae.error.message});if(!ae.token)throw Wn.create("token-update-no-token");return ae.token})).apply(this,arguments)}function ro(D,x){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,k.Z)(function*(D,x){const j={method:"DELETE",headers:yield zr(D)};try{const ae=yield(yield fetch(`${Ir(D.appConfig)}/${x}`,j)).json();if(ae.error)throw Wn.create("token-unsubscribe-failed",{errorInfo:ae.error.message})}catch(X){throw Wn.create("token-unsubscribe-failed",{errorInfo:X})}})).apply(this,arguments)}function Ir({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function zr(D){return cs.apply(this,arguments)}function cs(){return(cs=(0,k.Z)(function*({appConfig:D,installations:x}){const O=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Et({p256dh:D,auth:x,endpoint:O,vapidKey:j}){const X={web:{endpoint:O,auth:x,p256dh:D}};return j!==cr&&(X.web.applicationPubKey=j),X}const ha=6048e5;function hc(D){return ko.apply(this,arguments)}function ko(){return(ko=(0,k.Z)(function*(D){const x=yield Hd(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:x.endpoint,auth:ls(x.getKey("auth")),p256dh:ls(x.getKey("p256dh"))},j=yield wn(D.firebaseDependencies);if(j){if(hl(j.subscriptionOptions,O))return Date.now()>=j.createTime+ha?Gd(D,{token:j.token,createTime:Date.now(),subscriptionOptions:O}):j.token;try{yield ro(D.firebaseDependencies,j.token)}catch(X){console.warn(X)}return Ae(D.firebaseDependencies,O)}return Ae(D.firebaseDependencies,O)})).apply(this,arguments)}function fc(D){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,k.Z)(function*(D){const x=yield wn(D.firebaseDependencies);x&&(yield ro(D.firebaseDependencies,x.token),yield lu(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Gd(D,x){return fa.apply(this,arguments)}function fa(){return(fa=(0,k.Z)(function*(D,x){try{const O=yield Bi(D.firebaseDependencies,x),j=Object.assign(Object.assign({},x),{token:O,createTime:Date.now()});return yield io(D.firebaseDependencies,j),O}catch(O){throw yield fc(D),O}})).apply(this,arguments)}function Ae(D,x){return jt.apply(this,arguments)}function jt(){return(jt=(0,k.Z)(function*(D,x){const j={token:yield dl(D,x),createTime:Date.now(),subscriptionOptions:x};return yield io(D,j),j.token})).apply(this,arguments)}function Hd(D,x){return bn.apply(this,arguments)}function bn(){return(bn=(0,k.Z)(function*(D,x){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cl(x)})})).apply(this,arguments)}function hl(D,x){return x.vapidKey===D.vapidKey&&x.endpoint===D.endpoint&&x.auth===D.auth&&x.p256dh===D.p256dh}function Ms(D){const x={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Ar(D,x){if(!x.notification)return;D.notification={};const O=x.notification.title;O&&(D.notification.title=O);const j=x.notification.body;j&&(D.notification.body=j);const X=x.notification.image;X&&(D.notification.image=X)}(x,D),function uu(D,x){!x.data||(D.data=x.data)}(x,D),function pa(D,x){if(!x.fcmOptions)return;D.fcmOptions={};const O=x.fcmOptions.link;O&&(D.fcmOptions.link=O);const j=x.fcmOptions.analytics_label;j&&(D.fcmOptions.analyticsLabel=j)}(x,D),x}function Hf(D){return"object"==typeof D&&!!D&&To in D}function cu(D,x){const O=[];for(let j=0;j<D.length;j++)O.push(D.charAt(j)),j<x.length&&O.push(x.charAt(j));return O.join("")}function No(D){return Wn.create("missing-app-config-values",{valueName:D})}cu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),cu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ni{constructor(x,O,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function Po(D){if(!D||!D.options)throw No("App Configuration Object");if(!D.name)throw No("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const j of x)if(!O[j])throw No(j);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:X,installations:O,analyticsProvider:j}}_delete(){return Promise.resolve()}}function Wr(D){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(as,{scope:ua}),D.swRegistration.update().catch(()=>{})}catch(x){throw Wn.create("failed-service-worker-registration",{browserErrorMessage:x.message})}})).apply(this,arguments)}function Vo(D,x){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,k.Z)(function*(D,x){if(!x&&!D.swRegistration&&(yield Wr(D)),x||!D.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Wn.create("invalid-sw-registration");D.swRegistration=x}})).apply(this,arguments)}function $d(D,x){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,k.Z)(function*(D,x){x?D.vapidKey=x:D.vapidKey||(D.vapidKey=cr)})).apply(this,arguments)}function ga(){return(ga=(0,k.Z)(function*(D,x){if(!navigator)throw Wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wn.create("permission-blocked");return yield $d(D,null==x?void 0:x.vapidKey),yield Vo(D,null==x?void 0:x.serviceWorkerRegistration),hc(D)})).apply(this,arguments)}function du(D,x,O){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,k.Z)(function*(D,x,O){const j=zd(x);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:O[To],message_name:O[ul],message_time:O[Ud],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zd(D){switch(D){case xr.NOTIFICATION_CLICKED:return"notification_open";case xr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fu(){return(fu=(0,k.Z)(function*(D,x){const O=x.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===xr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ms(O)):D.onMessageHandler.next(Ms(O)));const j=O.data;Hf(j)&&"1"===j[ca]&&(yield du(D,O.messageType,j))})).apply(this,arguments)}const fl="@firebase/messaging",so=D=>{const x=new ni(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function hu(D,x){return fu.apply(this,arguments)}(x,O)),x},pu=D=>{const x=D.getProvider("messaging").getImmediate();return{getToken:j=>function pc(D,x){return ga.apply(this,arguments)}(x,j)}};function gc(){return oo.apply(this,arguments)}function oo(){return(oo=(0,k.Z)(function*(){try{yield(0,se.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wd(){(0,oe._registerComponent)(new _e.wA("messaging",so,"PUBLIC")),(0,oe._registerComponent)(new _e.wA("messaging-internal",pu,"PRIVATE")),(0,oe.registerVersion)(fl,"0.9.11"),(0,oe.registerVersion)(fl,"0.9.11","esm2017")}();const mu="analytics",mc="firebase_id",yu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pl="https://www.googletagmanager.com/gtag/js",qn=new re.Yd("@firebase/analytics");function yc(D){return Promise.all(D.map(x=>x.catch(O=>O)))}function _c(D,x){const O=document.createElement("script");O.src=`${pl}?l=${D}&id=${x}`,O.async=!0,document.head.appendChild(O)}function gl(D,x,O,j,X,ae){return _a.apply(this,arguments)}function _a(){return(_a=(0,k.Z)(function*(D,x,O,j,X,ae){const ke=j[X];try{if(ke)yield x[ke];else{const It=(yield yc(O)).find(yt=>yt.measurementId===X);It&&(yield x[It.appId])}}catch(Ge){qn.error(Ge)}D("config",X,ae)})).apply(this,arguments)}function Kd(D,x,O,j,X){return qr.apply(this,arguments)}function qr(){return(qr=(0,k.Z)(function*(D,x,O,j,X){try{let ae=[];if(X&&X.send_to){let ke=X.send_to;Array.isArray(ke)||(ke=[ke]);const Ge=yield yc(O);for(const It of ke){const yt=Ge.find(vt=>vt.measurementId===It),Ft=yt&&x[yt.appId];if(!Ft){ae=[];break}ae.push(Ft)}}0===ae.length&&(ae=Object.values(x)),yield Promise.all(ae),D("event",j,X||{})}catch(ae){qn.error(ae)}})).apply(this,arguments)}function dm(){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(pl))return x;return null}const Sr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Fs=new class va{constructor(x={},O=1e3){this.throttleMetadata=x,this.intervalMillis=O}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,O){this.throttleMetadata[x]=O}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function bu(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function ln(D){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,k.Z)(function*(D){var x;const{appId:O,apiKey:j}=D,X={method:"GET",headers:bu(j)},ae=yu.replace("{app-id}",O),ke=yield fetch(ae,X);if(200!==ke.status&&304!==ke.status){let Ge="";try{const It=yield ke.json();(null===(x=It.error)||void 0===x?void 0:x.message)&&(Ge=It.error.message)}catch(It){}throw Sr.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:Ge})}return ke.json()})).apply(this,arguments)}function wu(D){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,k.Z)(function*(D,x=Fs,O){const{appId:j,apiKey:X,measurementId:ae}=D.options;if(!j)throw Sr.create("no-app-id");if(!X){if(ae)return{measurementId:ae,appId:j};throw Sr.create("no-api-key")}const ke=x.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new Yd;return setTimeout((0,k.Z)(function*(){Ge.abort()}),void 0!==O?O:6e4),ba({appId:j,apiKey:X,measurementId:ae},ke,Ge,x)})).apply(this,arguments)}function ba(D,x,O){return wa.apply(this,arguments)}function wa(){return(wa=(0,k.Z)(function*(D,{throttleEndTimeMillis:x,backoffCount:O},j,X=Fs){const{appId:ae,measurementId:ke}=D;try{yield hm(j,x)}catch(Ge){if(ke)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:ae,measurementId:ke};throw Ge}try{const Ge=yield ln(D);return X.deleteThrottleMetadata(ae),Ge}catch(Ge){if(!wc(Ge)){if(X.deleteThrottleMetadata(ae),ke)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:ae,measurementId:ke};throw Ge}const It=503===Number(Ge.customData.httpStatus)?(0,se.$s)(O,X.intervalMillis,30):(0,se.$s)(O,X.intervalMillis),yt={throttleEndTimeMillis:Date.now()+It,backoffCount:O+1};return X.setThrottleMetadata(ae,yt),qn.debug(`Calling attemptFetch again in ${It} millis`),ba(D,yt,j,X)}})).apply(this,arguments)}function hm(D,x){return new Promise((O,j)=>{const X=Math.max(x-Date.now(),0),ae=setTimeout(O,X);D.addEventListener(()=>{clearTimeout(ae),j(Sr.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function wc(D){if(!(D instanceof se.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Yd{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}function Ea(){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,k.Z)(function*(){if(!(0,se.hl)())return qn.warn(Sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(D){return qn.warn(Sr.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Qr(){return(Qr=(0,k.Z)(function*(D,x,O,j,X,ae,ke){var Ge;const It=wu(D);It.then(Gn=>{O[Gn.measurementId]=Gn.appId,D.options.measurementId&&Gn.measurementId!==D.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Gn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Gn=>qn.error(Gn)),x.push(It);const yt=Ea().then(Gn=>{if(Gn)return j.getId()}),[Ft,vt]=yield Promise.all([It,yt]);dm()||_c(ae,Ft.measurementId),X("js",new Date);const Hi=null!==(Ge=null==ke?void 0:ke.config)&&void 0!==Ge?Ge:{};return Hi.origin="firebase",Hi.update=!0,null!=vt&&(Hi[mc]=vt),X("config",Ft.measurementId,Hi),Ft.measurementId})).apply(this,arguments)}class Wt{constructor(x){this.app=x}_delete(){return delete ci[this.app.options.appId],Promise.resolve()}}let ci={},lo=[];const ml={};let yl,Uo,Ca="dataLayer",Eu=!1;function Ia(D,x,O){!function xa(){const D=[];if((0,se.ru)()&&D.push("This is a browser extension environment."),(0,se.zI)()||D.push("Cookies are not available."),D.length>0){const x=D.map((j,X)=>`(${X+1}) ${j}`).join(" "),O=Sr.create("invalid-analytics-context",{errorInfo:x});qn.warn(O.message)}}();const j=D.options.appId;if(!j)throw Sr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Sr.create("no-api-key");qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ci[j])throw Sr.create("already-exists",{id:j});if(!Eu){!function ds(D){let x=[];Array.isArray(window[D])?x=window[D]:window[D]=x}(Ca);const{wrappedGtag:ae,gtagCore:ke}=function vc(D,x,O,j,X){let ae=function(...ke){window[j].push(arguments)};return window[X]&&"function"==typeof window[X]&&(ae=window[X]),window[X]=function _u(D,x,O,j){function ae(){return(ae=(0,k.Z)(function*(ke,Ge,It){try{"event"===ke?yield Kd(D,x,O,Ge,It):"config"===ke?yield gl(D,x,O,j,Ge,It):D("set",Ge)}catch(yt){qn.error(yt)}})).apply(this,arguments)}return function X(ke,Ge,It){return ae.apply(this,arguments)}}(ae,D,x,O),{gtagCore:ae,wrappedGtag:window[X]}}(ci,lo,ml,Ca,"gtag");Uo=ae,yl=ke,Eu=!0}return ci[j]=function Zr(D,x,O,j,X,ae,ke){return Qr.apply(this,arguments)}(D,lo,ml,x,yl,Ca,O),new Wt(D)}function Cu(){return(Cu=(0,k.Z)(function*(D,x,O,j,X){if(X&&X.global)D("event",O,j);else{const ae=yield x;D("event",O,Object.assign(Object.assign({},j),{send_to:ae}))}})).apply(this,arguments)}function Bs(){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,k.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}const Jd="@firebase/analytics";!function zf(){(0,oe._registerComponent)(new _e.wA(mu,(x,{options:O})=>Ia(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,oe._registerComponent)(new _e.wA("analytics-internal",function D(x){try{const O=x.getProvider(mu).getImmediate();return{logEvent:(j,X,ae)=>function Xd(D,x,O,j){D=(0,se.m9)(D),function Zd(D,x,O,j,X){return Cu.apply(this,arguments)}(Uo,ci[D.app.options.appId],x,O,j).catch(X=>qn.error(X))}(O,j,X,ae)}}catch(O){throw Sr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,oe.registerVersion)(Jd,"0.7.7"),(0,oe.registerVersion)(Jd,"0.7.7","esm2017")}();var Cc=F(4408),th=F(7565);const Sa=new class Kn extends th.v{}(class Aa extends Cc.o{constructor(x,O){super(x,O),this.scheduler=x,this.work=O}schedule(x,O=0){return O>0?super.schedule(x,O):(this.delay=O,this.state=x,this.scheduler.flush(this),this)}execute(x,O){return O>0||this.closed?super.execute(x,O):this._execute(x,O)}requestAsyncId(x,O,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(x,O,j):x.flush(this)}});var fs=F(4986),Ho=F(8306),Ci=F(8505),Ji=F(9468),uo=F(5363);const Di=new c.GfV("7.3.0"),Gi="__angularfire_symbol__analyticsIsSupportedValue",Us="__angularfire_symbol__analyticsIsSupported",vl="__angularfire_symbol__remoteConfigIsSupportedValue",bl="__angularfire_symbol__remoteConfigIsSupported",wl="__angularfire_symbol__messagingIsSupportedValue",Au="__angularfire_symbol__messagingIsSupported";function Wf(D,x,O){if(x){if(1===x.length)return x[0];const ae=x.filter(ke=>ke.app===O);if(1===ae.length)return ae[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[Us]||(globalThis[Us]=Bs().then(D=>globalThis[Gi]=D).catch(()=>globalThis[Gi]=!1)),globalThis[Au]||(globalThis[Au]=gc().then(D=>globalThis[wl]=D).catch(()=>globalThis[wl]=!1)),globalThis[bl]||(globalThis[bl]=cc().then(D=>globalThis[vl]=D).catch(()=>globalThis[vl]=!1));const Ma=(D,x)=>{const O=x?[x]:(0,H.C6)(),j=[];return O.forEach(X=>{X.container.getProvider(D).instances.forEach(ke=>{j.includes(ke)||j.push(ke)})}),j};function co(){}class Tu{constructor(x,O=Sa){this.zone=x,this.delegate=O}now(){return this.delegate.now()}schedule(x,O,j){const X=this.zone;return this.delegate.schedule(function(ke){X.runGuarded(()=>{x.apply(this,[ke])})},O,j)}}class El{constructor(x){this.zone=x,this.task=null}call(x,O){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co)),O.pipe((0,Ci.b)({next:j,complete:j,error:j})).subscribe(x).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mu=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Tu(Zone.current)),this.insideAngular=O.run(()=>new Tu(Zone.current,fs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Xr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ru(D){return Xr().ngZone.runOutsideAngular(()=>D())}function ps(D){return Xr().ngZone.run(()=>D())}function Tr(D){return Xr(),function $o(D){return function(O){return(O=O.lift(new El(D.ngZone))).pipe((0,Ji.R)(D.outsideAngular),(0,uo.Q)(D.insideAngular))}}(Xr())(D)}const zo=(D,x)=>function(){const j=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),ps(()=>D.apply(void 0,j))},Dl=(D,x)=>function(){let O;const j=arguments;for(let ae=0;ae<arguments.length;ae++)"function"==typeof j[ae]&&(x&&(O||(O=ps(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co)))),j[ae]=zo(j[ae],O));const X=Ru(()=>D.apply(this,j));if(!x){if(X instanceof Ho.y){const ae=Xr();return X.pipe((0,Ji.R)(ae.outsideAngular),(0,uo.Q)(ae.insideAngular))}return ps(()=>X)}return X instanceof Ho.y?X.pipe(Tr):X instanceof Promise?ps(()=>new Promise((ae,ke)=>X.then(Ge=>ps(()=>ae(Ge)),Ge=>ps(()=>ke(Ge))))):"function"==typeof X&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),X.apply(this,arguments)}:ps(()=>X)}},424:(ct,Ie,F)=>{F.d(Ie,{$:()=>hc,A:()=>z,E:()=>zt,G:()=>Oi,I:()=>os,K:()=>B,L:()=>ll,M:()=>dc,N:()=>To,P:()=>Di,Q:()=>ul,R:()=>eh,T:()=>cr,U:()=>xr,V:()=>ls,W:()=>Gf,X:()=>Ei,Y:()=>dl,Z:()=>Bi,_:()=>Ir,a:()=>ji,a0:()=>fc,a1:()=>Gd,a2:()=>Ae,a3:()=>Hd,a4:()=>hl,a5:()=>Ar,a6:()=>uu,a7:()=>Hf,a8:()=>cu,a9:()=>Wr,aA:()=>vt,aB:()=>$o,aC:()=>gn,aG:()=>Fs,aJ:()=>ca,aa:()=>Vo,ab:()=>$d,ae:()=>du,af:()=>zd,ag:()=>hu,aj:()=>Ss,ak:()=>gu,am:()=>yu,an:()=>gl,ao:()=>En,ap:()=>J,aq:()=>Mt,ar:()=>Ke,as:()=>He,at:()=>Fu,au:()=>nh,av:()=>Re,aw:()=>ie,ax:()=>de,ay:()=>Y,az:()=>er,b:()=>bc,c:()=>Su,d:()=>co,e:()=>Wf,f:()=>D,g:()=>ke,h:()=>j,i:()=>xa,j:()=>yt,k:()=>Fa,l:()=>Kn,m:()=>bm,n:()=>wm,o:()=>he,r:()=>Go,s:()=>Aa,u:()=>Ji,z:()=>Oe});var c=F(5861),H=F(2090),k=F(9681),oe=F(655),se=F(1877),_e=F(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Oe=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},je=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new se.Yd("@firebase/auth");function nt(v,...g){De.logLevel<=se.in.ERROR&&De.error(`Auth (${k.SDK_VERSION}): ${v}`,...g)}function He(v,...g){throw Ye(v,...g)}function Re(v,...g){return Ye(v,...g)}function Me(v,g,m){const w=Object.assign(Object.assign({},Ne()),{[g]:m});return new H.LL("auth","Firebase",w).create(g,{appName:v.name})}function Ce(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&He(v,"argument-error"),Me(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(v,...g){if("string"!=typeof v){const m=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return je.create(v,...g)}function ie(v,g,...m){if(!v)throw Ye(g,...m)}function Qe(v){const g="INTERNAL ASSERTION FAILED: "+v;throw nt(g),new Error(g)}function J(v,g){v||Qe(g)}const pe=new Map;function de(v){J(v instanceof Function,"Expected a class definition");let g=pe.get(v);return g?(J(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,pe.set(v,g),g)}function le(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function xt(){return"http:"===Jt()||"https:"===Jt()}function Jt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class pt{constructor(g,m){this.shortDelay=g,this.longDelay=m,J(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Rn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(v,g){J(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class hn{static initialize(g,m,w){this.fetchImpl=g,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const or={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nn=new pt(3e4,6e4);function Xt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function en(v,g,m,w){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(v,g,m,w,M={}){return ai(v,M,(0,c.Z)(function*(){let N={},te={};w&&("GET"===g?te=w:N={body:JSON.stringify(w)});const Te=(0,H.xO)(Object.assign({key:v.config.apiKey},te)).slice(1),ot=yield v._getAdditionalHeaders();return ot["Content-Type"]="application/json",v.languageCode&&(ot["X-Firebase-Locale"]=v.languageCode),hn.fetch()(ar(v,v.config.apiHost,m,Te),Object.assign({method:g,headers:ot,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function ai(v,g,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(v,g,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},or),g);try{const M=new li(v),N=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const te=yield N.json();if("needConfirmation"in te)throw wi(v,"account-exists-with-different-credential",te);if(N.ok&&!("errorMessage"in te))return te;{const Te=N.ok?te.errorMessage:te.error.message,[ot,bt]=Te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ot)throw wi(v,"credential-already-in-use",te);if("EMAIL_EXISTS"===ot)throw wi(v,"email-already-in-use",te);const Bt=w[ot]||ot.toLowerCase().replace(/[_\s]+/g,"-");if(bt)throw Me(v,Bt,bt);He(v,Bt)}}catch(M){if(M instanceof H.ZR)throw M;He(v,"network-request-failed")}})).apply(this,arguments)}function bi(v,g,m,w){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(v,g,m,w,M={}){const N=yield en(v,g,m,w,M);return"mfaPendingCredential"in N&&He(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function ar(v,g,m,w){const M=`${g}${m}?${w}`;return v.config.emulator?pn(v.config,M):`${v.config.apiScheme}://${M}`}class li{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Re(this.auth,"network-request-failed")),nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wi(v,g,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const M=Re(v,g,w);return M.customData._tokenResponse=m,M}function gt(){return(gt=(0,c.Z)(function*(v,g){return en(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Ti(v,g){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(v,g){return en(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function rn(v,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.Z)(function*(v,g){return en(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function lr(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Li(){return(Li=(0,c.Z)(function*(v,g=!1){const m=(0,H.m9)(v),w=yield m.getIdToken(g),M=$t(w);ie(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,te=null==N?void 0:N.sign_in_provider;return{claims:M,token:w,authTime:lr(Xs(M.auth_time)),issuedAtTime:lr(Xs(M.iat)),expirationTime:lr(Xs(M.exp)),signInProvider:te||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Xs(v){return 1e3*Number(v)}function $t(v){const[g,m,w]=v.split(".");if(void 0===g||void 0===m||void 0===w)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,H.tV)(m);return M?JSON.parse(M):(nt("Failed to decode base64 JWT payload"),null)}catch(M){return nt("Caught error parsing JWT payload as JSON",M),null}}function st(v,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(w){throw w instanceof H.ZR&&Gr(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Gr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class qt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),w)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class Hr{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fn(v){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(v){var g;const m=v.auth,w=yield v.getIdToken(),M=yield st(v,rn(m,{idToken:w}));ie(null==M?void 0:M.users.length,m,"internal-error");const N=M.users[0];v._notifyReloadListener(N);const te=(null===(g=N.providerUserInfo)||void 0===g?void 0:g.length)?ze(N.providerUserInfo):[],Te=Kt(v.providerData,te),Bt=!!v.isAnonymous&&!(v.email&&N.passwordHash||(null==Te?void 0:Te.length)),Vn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Te,metadata:new Hr(N.createdAt,N.lastLoginAt),isAnonymous:Bt};Object.assign(v,Vn)})).apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(v){const g=(0,H.m9)(v);yield Fn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Kt(v,g){return[...v.filter(w=>!g.some(M=>M.providerId===w.providerId)),...g]}function ze(v){return v.map(g=>{var{providerId:m}=g,w=(0,oe._T)(g,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function et(){return(et=(0,c.Z)(function*(v,g){const m=yield ai(v,{},(0,c.Z)(function*(){const w=(0,H.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:N}=v.config,te=ar(v,M,"/v1/token",`key=${N}`),Te=yield v._getAdditionalHeaders();return Te["Content-Type"]="application/x-www-form-urlencoded",hn.fetch()(te,{method:"POST",headers:Te,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ie(g.idToken,"internal-error"),ie(void 0!==g.idToken,"internal-error"),ie(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function ht(v){const g=$t(v);return ie(g,"internal-error"),ie(void 0!==g.exp,"internal-error"),ie(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var w=this;return(0,c.Z)(function*(){return ie(!w.accessToken||w.refreshToken,g,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var w=this;return(0,c.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:te}=yield function xe(v,g){return et.apply(this,arguments)}(g,m);w.updateTokensAndExpiration(M,N,Number(te))})()}updateTokensAndExpiration(g,m,w){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,m){const{refreshToken:w,accessToken:M,expirationTime:N}=m,te=new ft;return w&&(ie("string"==typeof w,"internal-error",{appName:g}),te.refreshToken=w),M&&(ie("string"==typeof M,"internal-error",{appName:g}),te.accessToken=M),N&&(ie("number"==typeof N,"internal-error",{appName:g}),te.expirationTime=N),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ft,this.toJSON())}_performRefresh(){return Qe("not implemented")}}function Nt(v,g){ie("string"==typeof v||void 0===v,"internal-error",{appName:g})}class Lt{constructor(g){var{uid:m,auth:w,stsTokenManager:M}=g,N=(0,oe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Hr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,c.Z)(function*(){const w=yield st(m,m.stsTokenManager.getToken(m.auth,g));return ie(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(g){return function An(v){return Li.apply(this,arguments)}(this,g)}reload(){return function _t(v){return Pn.apply(this,arguments)}(this)}_assign(g){this!==g&&(ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Lt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var w=this;return(0,c.Z)(function*(){let M=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),M=!0),m&&(yield Fn(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,c.Z)(function*(){const m=yield g.getIdToken();return yield st(g,function rs(v,g){return gt.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var w,M,N,te,Te,ot,bt,Bt;const Vn=null!==(w=m.displayName)&&void 0!==w?w:void 0,go=null!==(M=m.email)&&void 0!==M?M:void 0,Pa=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,Sl=null!==(te=m.photoURL)&&void 0!==te?te:void 0,Pc=null!==(Te=m.tenantId)&&void 0!==Te?Te:void 0,Tl=null!==(ot=m._redirectEventId)&&void 0!==ot?ot:void 0,Em=null!==(bt=m.createdAt)&&void 0!==bt?bt:void 0,Cm=null!==(Bt=m.lastLoginAt)&&void 0!==Bt?Bt:void 0,{uid:Pu,emailVerified:Xf,isAnonymous:Nc,providerData:ch,stsTokenManager:Jf}=m;ie(Pu&&Jf,g,"internal-error");const ep=ft.fromJSON(this.name,Jf);ie("string"==typeof Pu,g,"internal-error"),Nt(Vn,g.name),Nt(go,g.name),ie("boolean"==typeof Xf,g,"internal-error"),ie("boolean"==typeof Nc,g,"internal-error"),Nt(Pa,g.name),Nt(Sl,g.name),Nt(Pc,g.name),Nt(Tl,g.name),Nt(Em,g.name),Nt(Cm,g.name);const Ml=new Lt({uid:Pu,auth:g,email:go,emailVerified:Xf,displayName:Vn,isAnonymous:Nc,photoURL:Sl,phoneNumber:Pa,tenantId:Pc,stsTokenManager:ep,createdAt:Em,lastLoginAt:Cm});return ch&&Array.isArray(ch)&&(Ml.providerData=ch.map(dh=>Object.assign({},dh))),Tl&&(Ml._redirectEventId=Tl),Ml}static _fromIdTokenResponse(g,m,w=!1){return(0,c.Z)(function*(){const M=new ft;M.updateFromServerResponse(m);const N=new Lt({uid:m.localId,auth:g,stsTokenManager:M,isAnonymous:w});return yield Fn(N),N})()}}const B=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,w){var M=this;return(0,c.Z)(function*(){M.storage[m]=w})()}_get(m){var w=this;return(0,c.Z)(function*(){const M=w.storage[m];return void 0===M?null:M})()}_remove(m){var w=this;return(0,c.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function Y(v,g,m){return`firebase:${v}:${g}:${m}`}class ge{constructor(g,m,w){this.persistence=g,this.auth=m,this.userKey=w;const{config:M,name:N}=this.auth;this.fullUserKey=Y(this.userKey,M.apiKey,N),this.fullPersistenceKey=Y("persistence",M.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Lt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,c.Z)(function*(){if(m.persistence===g)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,w="authUser"){return(0,c.Z)(function*(){if(!m.length)return new ge(de(B),g,w);const M=(yield Promise.all(m.map(function(){var bt=(0,c.Z)(function*(Bt){if(yield Bt._isAvailable())return Bt});return function(Bt){return bt.apply(this,arguments)}}()))).filter(bt=>bt);let N=M[0]||de(B);const te=Y(w,g.config.apiKey,g.name);let Te=null;for(const bt of m)try{const Bt=yield bt._get(te);if(Bt){const Vn=Lt._fromJSON(g,Bt);bt!==N&&(Te=Vn),N=bt;break}}catch(Bt){}const ot=M.filter(bt=>bt._shouldAllowMigration);return N._shouldAllowMigration&&ot.length?(N=ot[0],Te&&(yield N._set(te,Te.toJSON())),yield Promise.all(m.map(function(){var bt=(0,c.Z)(function*(Bt){if(Bt!==N)try{yield Bt._remove(te)}catch(Vn){}});return function(Bt){return bt.apply(this,arguments)}}())),new ge(N,g,w)):new ge(N,g,w)})()}}function P(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ue(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(V(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Dt(g))return"Blackberry";if(it(g))return"Webos";if(U(g))return"Safari";if((g.includes("chrome/")||ue(g))&&!g.includes("edge/"))return"Chrome";if(Ke(g))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function V(v=(0,H.z$)()){return/firefox\//i.test(v)}function U(v=(0,H.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ue(v=(0,H.z$)()){return/crios\//i.test(v)}function Ue(v=(0,H.z$)()){return/iemobile/i.test(v)}function Ke(v=(0,H.z$)()){return/android/i.test(v)}function Dt(v=(0,H.z$)()){return/blackberry/i.test(v)}function it(v=(0,H.z$)()){return/webos/i.test(v)}function Mt(v=(0,H.z$)()){return/iphone|ipad|ipod/i.test(v)}function En(v=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Mi(v=(0,H.z$)()){return Mt(v)||Ke(v)||it(v)||Dt(v)||/windows phone/i.test(v)||Ue(v)}function zn(v,g=[]){let m;switch(v){case"Browser":m=P((0,H.z$)());break;case"Worker":m=`${P((0,H.z$)())}-${v}`;break;default:m=v}const w=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${k.SDK_VERSION}/${w}`}class il{constructor(g,m,w){this.app=g,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ze(this),this.idTokenSubscription=new Ze(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,m){var w=this;return m&&(this._popupRedirectResolver=de(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var M,N;if(!w._deleted&&(w.persistenceManager=yield ge.create(w,g),!w._deleted)){if(null===(M=w._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(te){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m)}})()}initializeCurrentUser(g){var m=this;return(0,c.Z)(function*(){var w;let M=yield m.assertedPersistence.getCurrentUser();if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const N=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,te=null==M?void 0:M._redirectEventId,Te=yield m.tryRedirectSignIn(g);(!N||N===te)&&(null==Te?void 0:Te.user)&&(M=Te.user)}return M?M._redirectEventId?(ie(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===M._redirectEventId?m.directlySetCurrentUser(M):m.reloadAndSetCurrentUserOrClear(M)):m.reloadAndSetCurrentUserOrClear(M):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var m=this;return(0,c.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(M){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,c.Z)(function*(){try{yield Fn(g)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function dt(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,c.Z)(function*(){const w=g?(0,H.m9)(g):null;return w&&ie(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(g){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return g&&ie(m.tenantId===g.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(g),m.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(de(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new H.LL("auth","Firebase",g())}onAuthStateChanged(g,m,w){return this.registerStateListener(this.authStateSubscription,g,m,w)}onIdTokenChanged(g,m,w){return this.registerStateListener(this.idTokenSubscription,g,m,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var w=this;return(0,c.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(m);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const w=g&&de(g)||m._popupRedirectResolver;ie(w,m,"argument-error"),m.redirectPersistenceManager=yield ge.create(m,[de(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,c.Z)(function*(){var w,M;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===g?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,c.Z)(function*(){if(g===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,w,M){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),te=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(te,this,"internal-error"),te.then(()=>N(this.currentUser)),"function"==typeof m?g.addObserver(m,w,M):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var m;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function gn(v){return(0,H.m9)(v)}class Ze{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,H.ne)(m=>this.observer=m)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zt(v,g,m){const w=gn(v);ie(w._canInitEmulator,w,"emulator-config-failed"),ie(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const M=!!(null==m?void 0:m.disableWarnings),N=mn(g),{host:te,port:Te}=function Ri(v){const g=mn(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const N=M[1];return{host:N,port:ss(w.substr(N.length+1))}}{const[N,te]=w.split(":");return{host:N,port:ss(te)}}}(g);w.config.emulator={url:`${N}//${te}${null===Te?"":`:${Te}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:te,port:Te,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function ti(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function mn(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function ss(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Oi{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Qe("not implemented")}_getIdTokenResponse(g){return Qe("not implemented")}_linkToIdToken(g,m){return Qe("not implemented")}_getReauthenticationResolver(g){return Qe("not implemented")}}function Cn(v,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(v,g){return en(v,"POST","/v1/accounts:resetPassword",Xt(v,g))})).apply(this,arguments)}function Js(v,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(v,g){return en(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function rl(v,g){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(v,g){return en(v,"POST","/v1/accounts:update",Xt(v,g))})).apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(v,g){return bi(v,"POST","/v1/accounts:signInWithPassword",Xt(v,g))})).apply(this,arguments)}function ui(v,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(v,g){return en(v,"POST","/v1/accounts:sendOobCode",Xt(v,g))})).apply(this,arguments)}function eo(v,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(v,g){return ui(v,g)})).apply(this,arguments)}function vn(v,g){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(v,g){return ui(v,g)})).apply(this,arguments)}function ac(v,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(v,g){return ui(v,g)})).apply(this,arguments)}function Cr(v,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,c.Z)(function*(v,g){return ui(v,g)})).apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(v,g){return bi(v,"POST","/v1/accounts:signInWithEmailLink",Xt(v,g))})).apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(v,g){return bi(v,"POST","/v1/accounts:signInWithEmailLink",Xt(v,g))})).apply(this,arguments)}class ol extends Oi{constructor(g,m,w,M=null){super("password",w),this._email=g,this._password=m,this._tenantId=M}static _fromEmailAndPassword(g,m){return new ol(g,m,"password")}static _fromEmailAndCode(g,m,w=null){return new ol(g,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function iu(v,g){return $r.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function xo(v,g){return Io.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:He(g,"internal-error")}})()}_linkToIdToken(g,m){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Js(g,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Dr(v,g){return aa.apply(this,arguments)}(g,{idToken:m,email:w._email,oobCode:w._password});default:He(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Is(v,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(v,g){return bi(v,"POST","/v1/accounts:signInWithIdp",Xt(v,g))})).apply(this,arguments)}class os extends Oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new os(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):He("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:M}=m,N=(0,oe._T)(m,["providerId","signInMethod"]);if(!w||!M)return null;const te=new os(w,M);return te.idToken=N.idToken||void 0,te.accessToken=N.accessToken||void 0,te.secret=N.secret,te.nonce=N.nonce,te.pendingToken=N.pendingToken||null,te}_getIdTokenResponse(g){return Is(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,Is(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Is(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,H.xO)(m)}return g}}function Vf(v,g){return lc.apply(this,arguments)}function lc(){return(lc=(0,c.Z)(function*(v,g){return en(v,"POST","/v1/accounts:sendVerificationCode",Xt(v,g))})).apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(v,g){return bi(v,"POST","/v1/accounts:signInWithPhoneNumber",Xt(v,g))})).apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(v,g){const m=yield bi(v,"POST","/v1/accounts:signInWithPhoneNumber",Xt(v,g));if(m.temporaryProof)throw wi(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Bf={USER_NOT_FOUND:"user-not-found"};function al(){return(al=(0,c.Z)(function*(v,g){return bi(v,"POST","/v1/accounts:signInWithPhoneNumber",Xt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Bf)})).apply(this,arguments)}class So extends Oi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new So({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new So({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Bd(v,g){return la.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Ao(v,g){return uc.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Uf(v,g){return al.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:w,verificationCode:M}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:w,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:N}=g;return w||m||M||N?new So({verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:N}):null}}class As{constructor(g){var m,w,M,N,te,Te;const ot=(0,H.zd)((0,H.pd)(g)),bt=null!==(m=ot.apiKey)&&void 0!==m?m:null,Bt=null!==(w=ot.oobCode)&&void 0!==w?w:null,Vn=function jf(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=ot.mode)&&void 0!==M?M:null);ie(bt&&Bt&&Vn,"argument-error"),this.apiKey=bt,this.operation=Vn,this.code=Bt,this.continueUrl=null!==(N=ot.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(te=ot.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Te=ot.tenantId)&&void 0!==Te?Te:null}static parseLink(g){const m=function cm(v){const g=(0,H.zd)((0,H.pd)(v)).link,m=g?(0,H.zd)((0,H.pd)(g)).deep_link_id:null,w=(0,H.zd)((0,H.pd)(v)).deep_link_id;return(w?(0,H.zd)((0,H.pd)(w)).link:null)||w||m||g||v}(g);try{return new As(m)}catch(w){return null}}}let ll=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return ol._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const M=As.parseLink(w);return ie(M,"argument-error"),ol._fromEmailAndCode(m,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class as{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ua extends as{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class cr extends ua{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return ie("providerId"in m&&"signInMethod"in m,"argument-error"),os._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ie(g.idToken||g.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return cr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return cr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:N,nonce:te,providerId:Te}=g;if(!w&&!M&&!m&&!N||!Te)return null;try{return new cr(Te)._credential({idToken:m,accessToken:w,nonce:te,pendingToken:N})}catch(ot){return null}}}let dc=(()=>{class v extends ua{constructor(){super("facebook.com")}static credential(m){return os._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),To=(()=>{class v extends ua{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return os._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:M}=m;if(!w&&!M)return null;try{return v.credential(w,M)}catch(N){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ul=(()=>{class v extends ua{constructor(){super("github.com")}static credential(m){return os._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ca extends Oi{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Is(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,Is(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Is(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:M,pendingToken:N}=m;return w&&M&&N&&w===M?new ca(w,N):null}static _create(g,m){return new ca(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xr extends as{constructor(g){ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return xr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return xr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=ca.fromJSON(g);return ie(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:w}=g;if(!m||!w)return null;try{return ca._create(w,m)}catch(M){return null}}}let ls=(()=>{class v extends ua{constructor(){super("twitter.com")}static credential(m,w){return os._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=m;if(!w||!M)return null;try{return v.credential(w,M)}catch(N){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function cl(v,g){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(v,g){return bi(v,"POST","/v1/accounts:signUp",Xt(v,g))})).apply(this,arguments)}class an{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,w,M=!1){return(0,c.Z)(function*(){const N=yield Lt._fromIdTokenResponse(g,w,M),te=dr(w);return new an({user:N,providerId:te,_tokenResponse:w,operationType:m})})()}static _forOperation(g,m,w){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const M=dr(w);return new an({user:g,providerId:M,_tokenResponse:w,operationType:m})})()}}function dr(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Gf(v){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(v){var g;const m=gn(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new an({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield cl(m,{returnSecureToken:!0}),M=yield an._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class su extends H.ZR{constructor(g,m,w,M){var N;super(m.code,m.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,su.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,m,w,M){return new su(g,m,w,M)}}function jd(v,g,m,w){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?su._fromErrorAndOperation(v,N,g,w):N})}function ou(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Ss(v,g){return to.apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(v,g){const m=(0,H.m9)(v);yield no(!0,m,g);const{providerUserInfo:w}=yield Ti(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),M=ou(w||[]);return m.providerData=m.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function au(v,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(v,g,m=!1){const w=yield st(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return an._forOperation(v,"link",w)})).apply(this,arguments)}function no(v,g,m){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(v,g,m){yield Fn(g);const M=!1===v?"provider-already-linked":"no-such-provider";ie(ou(g.providerData).has(m)===v,g.auth,M)})).apply(this,arguments)}function yn(v,g){return lu.apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(v,g,m=!1){const{auth:w}=v,M="reauthenticate";try{const N=yield st(v,jd(w,M,g,v),m);ie(N.idToken,w,"internal-error");const te=$t(N.idToken);ie(te,w,"internal-error");const{sub:Te}=te;return ie(v.uid===Te,w,"user-mismatch"),an._forOperation(v,M,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&He(w,"user-mismatch"),N}})).apply(this,arguments)}function Ro(v,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(v,g,m=!1){const w="signIn",M=yield jd(v,w,g),N=yield an._fromIdTokenResponse(v,w,M);return m||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Ei(v,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(v,g){return Ro(gn(v),g)})).apply(this,arguments)}function dl(v,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*(v,g){const m=(0,H.m9)(v);return yield no(!1,m,g.providerId),au(m,g)})).apply(this,arguments)}function Bi(v,g){return us.apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(v,g){return yn((0,H.m9)(v),g)})).apply(this,arguments)}function ro(v,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(v,g){return bi(v,"POST","/v1/accounts:signInWithCustomToken",Xt(v,g))})).apply(this,arguments)}function Ir(v,g){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(v,g){const m=gn(v),w=yield ro(m,{token:g,returnSecureToken:!0}),M=yield an._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class cs{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Et._fromServerResponse(g,m):He(g,"internal-error")}}class Et extends cs{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Et(m)}}function ha(v,g,m){var w;ie((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),ie(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ie(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(ie(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function hc(v,g,m){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v),M={requestType:"PASSWORD_RESET",email:g};m&&ha(w,M,m),yield vn(w,M)})).apply(this,arguments)}function fc(v,g,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(v,g,m){yield Cn((0,H.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Gd(v,g){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(v,g){yield rl((0,H.m9)(v),{oobCode:g})})).apply(this,arguments)}function Ae(v,g){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(v,g){const m=(0,H.m9)(v),w=yield Cn(m,{oobCode:g}),M=w.requestType;switch(ie(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(w.mfaInfo,m,"internal-error");default:ie(w.email,m,"internal-error")}let N=null;return w.mfaInfo&&(N=cs._fromServerResponse(gn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function Hd(v,g){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(v,g){const{data:m}=yield Ae((0,H.m9)(v),g);return m.email})).apply(this,arguments)}function hl(v,g,m){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(v,g,m){const w=gn(v),M=yield cl(w,{returnSecureToken:!0,email:g,password:m}),N=yield an._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(N.user),N})).apply(this,arguments)}function Ar(v,g,m){return Ei((0,H.m9)(v),ll.credential(g,m))}function uu(v,g,m){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v),M={requestType:"EMAIL_SIGNIN",email:g};ie(m.handleCodeInApp,w,"argument-error"),m&&ha(w,M,m),yield ac(w,M)})).apply(this,arguments)}function Hf(v,g){const m=As.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function cu(v,g,m){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v),M=ll.credentialWithLink(g,m||le());return ie(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ei(w,M)})).apply(this,arguments)}function No(v,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(v,g){return en(v,"POST","/v1/accounts:createAuthUri",Xt(v,g))})).apply(this,arguments)}function Wr(v,g){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(v,g){const w={identifier:g,continueUri:xt()?le():"http://localhost"},{signinMethods:M}=yield No((0,H.m9)(v),w);return M||[]})).apply(this,arguments)}function Vo(v,g){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(v,g){const m=(0,H.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&ha(m.auth,M,g);const{email:N}=yield eo(m.auth,M);N!==v.email&&(yield v.reload())})).apply(this,arguments)}function $d(v,g,m){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&ha(w.auth,N,m);const{email:te}=yield Cr(w.auth,N);te!==v.email&&(yield v.reload())})).apply(this,arguments)}function pc(v,g){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(v,g){return en(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function du(v,g){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const w=(0,H.m9)(v),N={idToken:yield w.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},te=yield st(w,pc(w.auth,N));w.displayName=te.displayName||null,w.photoURL=te.photoUrl||null;const Te=w.providerData.find(({providerId:ot})=>"password"===ot);Te&&(Te.displayName=w.displayName,Te.photoURL=w.photoURL),yield w._updateTokensIfNecessary(te)})).apply(this,arguments)}function zd(v,g){return fu((0,H.m9)(v),g,null)}function hu(v,g){return fu((0,H.m9)(v),null,g)}function fu(v,g,m){return fl.apply(this,arguments)}function fl(){return(fl=(0,c.Z)(function*(v,g,m){const{auth:w}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(N.email=g),m&&(N.password=m);const te=yield st(v,Js(w,N));yield v._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class so{constructor(g,m,w={}){this.isNewUser=g,this.providerId=m,this.profile=w}}class pu extends so{constructor(g,m,w,M){super(g,m,w),this.username=M}}class Wd extends so{constructor(g,m){super(g,"facebook.com",m)}}class gc extends pu{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class oo extends so{constructor(g,m){super(g,"google.com",m)}}class Os extends pu{constructor(g,m,w){super(g,"twitter.com",m,w)}}function gu(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ma(v){var g,m;if(!v)return null;const{providerId:w}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const te=null===(m=null===(g=$t(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(te)return new so(N,"anonymous"!==te&&"custom"!==te?te:null)}if(!w)return null;switch(w){case"facebook.com":return new Wd(N,M);case"github.com":return new gc(N,M);case"google.com":return new oo(N,M);case"twitter.com":return new Os(N,M,v.screenName||null);case"custom":case"anonymous":return new so(N,null);default:return new so(N,w,M)}}(m)}class ao{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new ao("enroll",g)}static _fromMfaPendingCredential(g){return new ao("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,w;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ao._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(w=g.multiFactorSession)||void 0===w?void 0:w.idToken)return ao._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ya{constructor(g,m,w){this.session=g,this.hints=m,this.signInResolver=w}static _fromError(g,m){const w=gn(g),M=m.customData._serverResponse,N=(M.mfaInfo||[]).map(Te=>cs._fromServerResponse(w,Te));ie(M.mfaPendingCredential,w,"internal-error");const te=ao._fromMfaPendingCredential(M.mfaPendingCredential);return new ya(te,N,function(){var Te=(0,c.Z)(function*(ot){const bt=yield ot._process(w,te);delete M.mfaInfo,delete M.mfaPendingCredential;const Bt=Object.assign(Object.assign({},M),{idToken:bt.idToken,refreshToken:bt.refreshToken});switch(m.operationType){case"signIn":const Vn=yield an._fromIdTokenResponse(w,m.operationType,Bt);return yield w._updateCurrentUser(Vn.user),Vn;case"reauthenticate":return ie(m.user,w,"internal-error"),an._forOperation(m.user,m.operationType,Bt);default:He(w,"internal-error")}});return function(ot){return Te.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,c.Z)(function*(){return m.signInResolver(g)})()}}function yu(v,g){var m;const w=(0,H.m9)(v),M=g;return ie(g.customData.operationType,w,"argument-error"),ie(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),ya._fromError(w,M)}function pl(v,g){return en(v,"POST","/v2/accounts/mfaEnrollment:start",Xt(v,g))}class _c{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>cs._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new _c(g)}getSession(){var g=this;return(0,c.Z)(function*(){return ao._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var w=this;return(0,c.Z)(function*(){const M=g,N=yield w.getSession(),te=yield st(w.user,M._process(w.user.auth,N,m));return yield w.user._updateTokensIfNecessary(te),w.user.reload()})()}unenroll(g){var m=this;return(0,c.Z)(function*(){const w="string"==typeof g?g:g.uid,M=yield m.user.getIdToken(),N=yield st(m.user,function yc(v,g){return en(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(v,g))}(m.user.auth,{idToken:M,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:te})=>te!==w),yield m.user._updateTokensIfNecessary(N);try{yield m.user.reload()}catch(te){if("auth/user-token-expired"!==te.code)throw te}})()}}const ds=new WeakMap;function gl(v){const g=(0,H.m9)(v);return ds.has(g)||ds.set(g,_c._fromUser(g)),ds.get(g)}const _a="__sak";class Kd{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(_a,"1"),this.storage.removeItem(_a),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const bc=(()=>{class v extends Kd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qr(){const v=(0,H.z$)();return U(v)||Mt(v)}()&&function Er(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Mi(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),N=this.localCache[w];M!==N&&m(w,N,M)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Te,ot,bt)=>{this.notifyListeners(Te,bt)});const M=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Te=this.storage.getItem(M);if(m.newValue!==Te)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!w)return}const N=()=>{const Te=this.storage.getItem(M);!w&&this.localCache[M]===Te||this.notifyListeners(M,Te)},te=this.storage.getItem(M);!function Zt(){return(0,H.w1)()&&10===document.documentMode}()||te===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var M=()=>super._set,N=this;return(0,c.Z)(function*(){yield M().call(N,m,w),N.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,M=this;return(0,c.Z)(function*(){const N=yield w().call(M,m);return M.localCache[m]=JSON.stringify(N),N})()}_remove(m){var w=()=>super._remove,M=this;return(0,c.Z)(function*(){yield w().call(M,m),delete M.localCache[m]})()}}return v.type="LOCAL",v})(),ji=(()=>{class v extends Kd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let va=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(N=>N.isListeningto(m));if(w)return w;const M=new v(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,c.Z)(function*(){const M=m,{eventId:N,eventType:te,data:Te}=M.data,ot=w.handlersMap[te];if(!(null==ot?void 0:ot.size))return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:te});const bt=Array.from(ot).map(function(){var Vn=(0,c.Z)(function*(go){return go(M.origin,Te)});return function(go){return Vn.apply(this,arguments)}}()),Bt=yield function vu(v){return Promise.all(v.map(function(){var g=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return g.apply(this,arguments)}}()))}(bt);M.ports[0].postMessage({status:"done",eventId:N,eventType:te,response:Bt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Fs(v="",g=10){let m="";for(let w=0;w<g;w++)m+=Math.floor(10*Math.random());return v+m}class bu{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,w=50){var M=this;return(0,c.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let te,Te;return new Promise((ot,bt)=>{const Bt=Fs("",20);N.port1.start();const Vn=setTimeout(()=>{bt(new Error("unsupported_event"))},w);Te={messageChannel:N,onMessage(go){const Pa=go;if(Pa.data.eventId===Bt)switch(Pa.data.status){case"ack":clearTimeout(Vn),te=setTimeout(()=>{bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),ot(Pa.data.response);break;default:clearTimeout(Vn),clearTimeout(te),bt(new Error("invalid_response"))}}},M.handlers.add(Te),N.port1.addEventListener("message",Te.onMessage),M.target.postMessage({eventType:g,eventId:Bt,data:m},[N.port2])}).finally(()=>{Te&&M.removeMessageHandler(Te)})})()}}function ln(){return window}function wu(){return void 0!==ln().WorkerGlobalScope&&"function"==typeof ln().importScripts}function ba(){return(ba=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const wc="firebaseLocalStorageDb",Ea="firebaseLocalStorage",Ps="fbase_key";class Zr{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Qr(v,g){return v.transaction([Ea],g?"readwrite":"readonly").objectStore(Ea)}function ci(){const v=indexedDB.open(wc,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Ea,{keyPath:Ps})}catch(M){m(M)}}),v.addEventListener("success",(0,c.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Ea)?g(w):(w.close(),yield function Wt(){const v=indexedDB.deleteDatabase(wc);return new Zr(v).toPromise()}(),g(yield ci()))}))})}function lo(v,g,m){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(v,g,m){const w=Qr(v,!0).put({[Ps]:g,value:m});return new Zr(w).toPromise()})).apply(this,arguments)}function Da(){return(Da=(0,c.Z)(function*(v,g){const m=Qr(v,!1).get(g),w=yield new Zr(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function yl(v,g){const m=Qr(v,!0).delete(g);return new Zr(m).toPromise()}const xa=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield ci()),m.db})()}_withRetries(m){var w=this;return(0,c.Z)(function*(){let M=0;for(;;)try{const N=yield w._openDb();return yield m(N)}catch(N){if(M++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return wu()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=va._getInstance(function hm(){return wu()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(M,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(M,N){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var w,M;if(m.activeServiceWorker=yield function Yr(){return ba.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new bu(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(w=N[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function wa(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ci();return yield lo(m,_a,"1"),yield yl(m,_a),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(N=>lo(N,m,w)),M.localCache[m]=w,M.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,c.Z)(function*(){const M=yield w._withRetries(N=>function Ca(v,g){return Da.apply(this,arguments)}(N,m));return w.localCache[m]=M,M})()}_remove(m){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(M=>yl(M,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const w=yield m._withRetries(te=>{const Te=Qr(te,!1).getAll();return new Zr(Te).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:te,value:Te}of w)N.add(te),JSON.stringify(m.localCache[te])!==JSON.stringify(Te)&&(m.notifyListeners(te,Te),M.push(te));for(const te of Object.keys(m.localCache))m.localCache[te]&&!N.has(te)&&(m.notifyListeners(te,null),M.push(te));return M})()}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ia(v,g){return en(v,"POST","/v2/accounts/mfaSignIn:start",Xt(v,g))}function _l(){return(_l=(0,c.Z)(function*(v){return(yield en(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Du(v){return new Promise((g,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=g,w.onerror=M=>{const N=Re("internal-error");N.customData=M,m(N)},w.type="text/javascript",w.charset="UTF-8",function Ns(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(w)})}function jo(v){return`__${v}${Math.floor(1e6*Math.random())}`}const hs=1e12;class Vs{constructor(g){this.auth=g,this.counter=hs,this._widgets=new Map}render(g,m){const w=this.counter;return this._widgets.set(w,new Qd(g,this.auth.name,m||{})),this.counter++,w}reset(g){var m;const w=g||hs;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(g){var m;return(null===(m=this._widgets.get(g||hs))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,c.Z)(function*(){var w;return null===(w=m._widgets.get(g||hs))||void 0===w||w.execute(),""})()}}class Qd{constructor(g,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;ie(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Iu(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bs=jo("rcb"),Ec=new pt(3e4,6e4);class jn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ln().grecaptcha}load(g,m=""){return ie(function pm(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(ln().grecaptcha):new Promise((w,M)=>{const N=ln().setTimeout(()=>{M(Re(g,"network-request-failed"))},Ec.get());ln()[Bs]=()=>{ln().clearTimeout(N),delete ln()[Bs];const Te=ln().grecaptcha;if(!Te)return void M(Re(g,"internal-error"));const ot=Te.render;Te.render=(bt,Bt)=>{const Vn=ot(bt,Bt);return this.counter++,Vn},this.hostLanguage=m,w(Te)},Du(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Bs,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),M(Re(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!ln().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gm{load(g){return(0,c.Z)(function*(){return new Vs(g)})()}clearedOneInstance(){}}const Xd="recaptcha",Jd={theme:"light",type:"image"};class eh{constructor(g,m=Object.assign({},Jd),w){this.parameters=m,this.type=Xd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gn(w),this.isInvisible="invisible"===this.parameters.size,ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;ie(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gm:new jn,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(m)||new Promise(N=>{const te=Te=>{!Te||(g.tokenChangeListeners.delete(te),N(Te))};g.tokenChangeListeners.add(te),g.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof g)g(m);else if("string"==typeof g){const w=ln()[g];"function"==typeof w&&w(m)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){ie(xt()&&!wu(),g.auth,"internal-error"),yield function zf(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Cu(v){return _l.apply(this,arguments)}(g.auth);ie(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cc{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=So._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Aa(v,g,m){return th.apply(this,arguments)}function th(){return(th=(0,c.Z)(function*(v,g,m){const w=gn(v),M=yield Ho(w,g,(0,H.m9)(m));return new Cc(M,N=>Ei(w,N))})).apply(this,arguments)}function Kn(v,g,m){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v);yield no(!1,w,"phone");const M=yield Ho(w.auth,g,(0,H.m9)(m));return new Cc(M,N=>dl(w,N))})).apply(this,arguments)}function Go(v,g,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v),M=yield Ho(w.auth,g,(0,H.m9)(m));return new Cc(M,N=>Bi(w,N))})).apply(this,arguments)}function Ho(v,g,m){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,c.Z)(function*(v,g,m){var w;const M=yield m.verify();try{let N;if(ie("string"==typeof M,v,"argument-error"),ie(m.type===Xd,v,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const te=N.session;if("phoneNumber"in N)return ie("enroll"===te.type,v,"internal-error"),(yield pl(v,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ie("signin"===te.type,v,"internal-error");const Te=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return ie(Te,v,"missing-multi-factor-info"),(yield Ia(v,{mfaPendingCredential:te.credential,mfaEnrollmentId:Te,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Vf(v,{phoneNumber:N.phoneNumber,recaptchaToken:M});return te}}finally{m._reset()}})).apply(this,arguments)}function Ji(v,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(v,g){yield au((0,H.m9)(v),g)})).apply(this,arguments)}let Di=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=gn(m)}verifyPhoneNumber(m,w){return Ho(this.auth,m,(0,H.m9)(w))}static credential(m,w){return So._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:M}=m;return w&&M?So._fromTokenResponse(w,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Gi(v,g){return g?de(g):(ie(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Us extends Oi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Is(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Is(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Is(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function vl(v){return Ro(v.auth,new Us(v),v.bypassAuthState)}function bl(v){const{auth:g,user:m}=v;return ie(m,g,"internal-error"),yn(m,new Us(v),v.bypassAuthState)}function wl(v){return Au.apply(this,arguments)}function Au(){return(Au=(0,c.Z)(function*(v){const{auth:g,user:m}=v;return ie(m,g,"internal-error"),au(m,new Us(v),v.bypassAuthState)})).apply(this,arguments)}class Ta{constructor(g,m,w,M,N=!1){this.auth=g,this.resolver=w,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,c.Z)(function*(w,M){g.pendingPromise={resolve:w,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(w,M){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:N,tenantId:te,error:Te,type:ot}=g;if(Te)return void m.reject(Te);const bt={auth:m.auth,requestUri:w,sessionId:M,tenantId:te||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ot)(bt))}catch(Bt){m.reject(Bt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return vl;case"linkViaPopup":case"linkViaRedirect":return wl;case"reauthViaPopup":case"reauthViaRedirect":return bl;default:He(this.auth,"internal-error")}}resolve(g){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ii=new pt(2e3,1e4);function Su(v,g,m){return js.apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(v,g,m){const w=gn(v);Ce(v,g,as);const M=Gi(w,m);return new El(w,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function Wf(v,g,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v);Ce(w.auth,g,as);const M=Gi(w.auth,m);return new El(w.auth,"reauthViaPopup",g,M,w).executeNotNull()})).apply(this,arguments)}function co(v,g,m){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v);Ce(w.auth,g,as);const M=Gi(w.auth,m);return new El(w.auth,"linkViaPopup",g,M,w).executeNotNull()})).apply(this,arguments)}let El=(()=>{class v extends Ta{constructor(m,w,M,N,te){super(m,w,N,te),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const w=yield m.execute();return ie(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,c.Z)(function*(){J(1===m.filter.length,"Popup operations only handle one event");const w=Fs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Re(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,M;this.pollId=(null===(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,ii.get())};m()}}return v.currentPopupAction=null,v})();const Xr=new Map;class Ru extends Ta{constructor(g,m,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,c.Z)(function*(){let w=Xr.get(m.auth._key());if(!w){try{const N=(yield function ps(v,g){return ho.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;w=()=>Promise.resolve(N)}catch(M){w=()=>Promise.reject(M)}Xr.set(m.auth._key(),w)}return m.bypassAuthState||Xr.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(w,g);if("unknown"!==g.type){if(g.eventId){const M=yield w.auth._redirectUserForId(g.eventId);if(M)return w.user=M,m().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ho(){return(ho=(0,c.Z)(function*(v,g){const m=Dl(g),w=zo(v);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(m));return yield w._remove(m),M})).apply(this,arguments)}function Cl(v,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,c.Z)(function*(v,g){return zo(v)._set(Dl(g),"true")})).apply(this,arguments)}function $o(){Xr.clear()}function zo(v){return de(v._redirectPersistence)}function Dl(v){return Y("pendingRedirect",v.config.apiKey,v.name)}function D(v,g,m){return function x(v,g,m){return O.apply(this,arguments)}(v,g,m)}function O(){return(O=(0,c.Z)(function*(v,g,m){const w=gn(v);Ce(v,g,as);const M=Gi(w,m);return yield Cl(M,w),M._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function j(v,g,m){return function X(v,g,m){return ae.apply(this,arguments)}(v,g,m)}function ae(){return(ae=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v);Ce(w.auth,g,as);const M=Gi(w.auth,m);yield Cl(M,w.auth);const N=yield Gn(w);return M._openRedirect(w.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function ke(v,g,m){return function Ge(v,g,m){return It.apply(this,arguments)}(v,g,m)}function It(){return(It=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v);Ce(w.auth,g,as);const M=Gi(w.auth,m);yield no(!1,w,g.providerId),yield Cl(M,w.auth);const N=yield Gn(w);return M._openRedirect(w.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function yt(v,g){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,c.Z)(function*(v,g){return yield gn(v)._initializationPromise,vt(v,g,!1)})).apply(this,arguments)}function vt(v,g){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(v,g,m=!1){const w=gn(v),M=Gi(w,g),te=yield new Ru(w,M,m).execute();return te&&!m&&(delete te.user._redirectEventId,yield w._persistUserIfCurrent(te.user),yield w._setRedirectUser(null,g)),te})).apply(this,arguments)}function Gn(v){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(v){const g=Fs(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class er{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(m=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Dc(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tr(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var w;if(g.error&&!tr(g)){const M=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Re(this.auth,M))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const w=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gs(g))}saveEventToCache(g){this.cachedEventUids.add(gs(g)),this.lastProcessedEventTime=Date.now()}}function gs(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function tr({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function nh(v){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,c.Z)(function*(v,g={}){return en(v,"GET","/v1/projects",g)})).apply(this,arguments)}const $i=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ih=/^https?/;function xl(){return(xl=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield nh(v);for(const m of g)try{if(Il(m))return}catch(w){}He(v,"unauthorized-domain")})).apply(this,arguments)}function Il(v){const g=le(),{protocol:m,hostname:w}=new URL(g);if(v.startsWith("chrome-extension://")){const te=new URL(v);return""===te.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&te.hostname===w}if(!ih.test(m))return!1;if($i.test(v))return w===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const ku=new pt(3e4,6e4);function qf(){const v=ln().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Ic=null;function Ac(v){return Ic=Ic||function F0(v){return new Promise((g,m)=>{var w,M,N;function te(){qf(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{qf(),m(Re(v,"network-request-failed"))},timeout:ku.get()})}if(null===(M=null===(w=ln().gapi)||void 0===w?void 0:w.iframes)||void 0===M?void 0:M.Iframe)g(gapi.iframes.getContext());else{if(!(null===(N=ln().gapi)||void 0===N?void 0:N.load)){const Te=jo("iframefcb");return ln()[Te]=()=>{gapi.load?te():m(Re(v,"network-request-failed"))},Du(`https://apis.google.com/js/api.js?onload=${Te}`).catch(ot=>m(ot))}te()}}).catch(g=>{throw Ic=null,g})}(v),Ic}const cv=new pt(5e3,15e3),Sc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ra=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tc(v){const g=v.config;ie(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?pn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:v.name,v:k.SDK_VERSION},M=Ra.get(v.config.apiHost);M&&(w.eid=M);const N=v._getFrameworks();return N.length&&(w.fw=N.join(",")),`${m}?${(0,H.xO)(w).slice(1)}`}function rh(){return rh=(0,c.Z)(function*(v){const g=yield Ac(v),m=ln().gapi;return ie(m,v,"internal-error"),g.open({where:document.body,url:Tc(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sc,dontclear:!0},w=>new Promise(function(){var M=(0,c.Z)(function*(N,te){yield w.restyle({setHideOnLeave:!1});const Te=Re(v,"network-request-failed"),ot=ln().setTimeout(()=>{te(Te)},cv.get());function bt(){ln().clearTimeout(ot),N(w)}w.ping(bt).then(bt,()=>{te(Te)})});return function(N,te){return M.apply(this,arguments)}}()))}),rh.apply(this,arguments)}const sh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ah{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Fu(v,g,m,w,M,N){ie(v.config.authDomain,v,"auth-domain-config-required"),ie(v.config.apiKey,v,"invalid-api-key");const te={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:k.SDK_VERSION,eventId:M};if(g instanceof as){g.setDefaultLanguage(v.languageCode),te.providerId=g.providerId||"",(0,H.xb)(g.getCustomParameters())||(te.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ot,bt]of Object.entries(N||{}))te[ot]=bt}if(g instanceof ua){const ot=g.getScopes().filter(bt=>""!==bt);ot.length>0&&(te.scopes=ot.join(","))}v.tenantId&&(te.tid=v.tenantId);const Te=te;for(const ot of Object.keys(Te))void 0===Te[ot]&&delete Te[ot];return`${function lh({config:v}){return v.emulator?pn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,H.xO)(Te).slice(1)}`}const Al="webStorageSupport",Fa=class po{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ji,this._completeRedirectFn=vt}_openPopup(g,m,w,M){var N=this;return(0,c.Z)(function*(){var te;J(null===(te=N.eventManagers[g._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Te=Fu(g,m,w,le(),M);return function Yf(v,g,m,w=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),te=Math.max((window.screen.availWidth-w)/2,0).toString();let Te="";const ot=Object.assign(Object.assign({},sh),{width:w.toString(),height:M.toString(),top:N,left:te}),bt=(0,H.z$)().toLowerCase();m&&(Te=ue(bt)?"_blank":m),V(bt)&&(g=g||"http://localhost",ot.scrollbars="yes");const Bt=Object.entries(ot).reduce((go,[Pa,Sl])=>`${go}${Pa}=${Sl},`,"");if(function ei(v=(0,H.z$)()){var g;return Mt(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(bt)&&"_self"!==Te)return function Hs(v,g){const m=document.createElement("a");m.href=v,m.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(g||"",Te),new ah(null);const Vn=window.open(g||"",Te,Bt);ie(Vn,v,"popup-blocked");try{Vn.focus()}catch(go){}return new ah(Vn)}(g,Te,Fs())})()}_openRedirect(g,m,w,M){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(g),function Kr(v){ln().location.href=v}(Fu(g,m,w,le(),M)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:M,promise:N}=this.eventManagers[m];return M?Promise.resolve(M):(J(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(g);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(g){var m=this;return(0,c.Z)(function*(){const w=yield function Oa(v){return rh.apply(this,arguments)}(g),M=new er(g);return w.register("authEvent",N=>(ie(null==N?void 0:N.authEvent,g,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:M},m.iframes[g._key()]=w,M})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Al,{type:Al},M=>{var N;const te=null===(N=null==M?void 0:M[0])||void 0===N?void 0:N[Al];void 0!==te&&m(!!te),He(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function xc(v){return xl.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Mi()||U()||Mt()}};class uh extends class Zf{constructor(g){this.factorId=g}_process(g,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,w);case"signin":return this._finalizeSignIn(g,m.credential);default:return Qe("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new uh(g)}_finalizeEnroll(g,m,w){return function qn(v,g){return en(v,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(v,g))}(g,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Zd(v,g){return en(v,"POST","/v2/accounts/mfaSignIn:finalize",Xt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bm=(()=>{class v{constructor(){}static assertion(m){return uh._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Rc="@firebase/auth",Qf="0.19.11";class Oc{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(w=>{var M;g((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wm(v=(0,k.getApp)()){const g=(0,k._getProvider)(v,"auth");return g.isInitialized()?g.getImmediate():function me(v,g){const m=(0,k._getProvider)(v,"auth");if(m.isInitialized()){const M=m.getImmediate(),N=m.getOptions();if((0,H.vZ)(N,null!=g?g:{}))return M;He(M,"already-initialized")}return m.initialize({options:g})}(v,{popupRedirectResolver:Fa,persistence:[xa,bc,ji]})}!function Fc(v){(0,k._registerComponent)(new _e.wA("auth",(g,{options:m})=>{const w=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),{apiKey:N,authDomain:te}=w.options;return((Te,ot)=>{ie(N&&!N.includes(":"),"invalid-api-key",{appName:Te.name}),ie(!(null==te?void 0:te.includes(":")),"argument-error",{appName:Te.name});const bt={apiKey:N,authDomain:te,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zn(v)},Bt=new il(Te,ot,bt);return function Pe(v,g){const m=(null==g?void 0:g.persistence)||[],w=(Array.isArray(m)?m:[m]).map(de);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(Bt,m),Bt})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,w)=>{g.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new _e.wA("auth-internal",g=>{const m=gn(g.getProvider("auth").getImmediate());return new Oc(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Rc,Qf,function kc(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,k.registerVersion)(Rc,Qf,"esm2017")}("Browser")},2090:(ct,Ie,F)=>{F.d(Ie,{BH:()=>Oe,LL:()=>xt,ZR:()=>le,zI:()=>de,US:()=>re,tV:()=>W,L:()=>ye,$s:()=>Hr,r3:()=>en,Sg:()=>Ne,ne:()=>gt,vZ:()=>bi,ZB:()=>ne,Lj:()=>Nt,pd:()=>wi,m9:()=>_t,z$:()=>je,jU:()=>nt,ru:()=>He,d:()=>Me,xb:()=>ai,w1:()=>Ce,hl:()=>J,uI:()=>we,UG:()=>De,b$:()=>Re,G6:()=>Qe,Mn:()=>Ye,X3:()=>ft,xO:()=>ar,zd:()=>li,eu:()=>pe});var c=F(5861);const se=function(q){const B=[];let Y=0;for(let ge=0;ge<q.length;ge++){let P=q.charCodeAt(ge);P<128?B[Y++]=P:P<2048?(B[Y++]=P>>6|192,B[Y++]=63&P|128):55296==(64512&P)&&ge+1<q.length&&56320==(64512&q.charCodeAt(ge+1))?(P=65536+((1023&P)<<10)+(1023&q.charCodeAt(++ge)),B[Y++]=P>>18|240,B[Y++]=P>>12&63|128,B[Y++]=P>>6&63|128,B[Y++]=63&P|128):(B[Y++]=P>>12|224,B[Y++]=P>>6&63|128,B[Y++]=63&P|128)}return B},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,B){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let P=0;P<q.length;P+=3){const V=q[P],U=P+1<q.length,ue=U?q[P+1]:0,Ue=P+2<q.length,Ke=Ue?q[P+2]:0;let Mt=(15&ue)<<2|Ke>>6,En=63&Ke;Ue||(En=64,U||(Mt=64)),ge.push(Y[V>>2],Y[(3&V)<<4|ue>>4],Y[Mt],Y[En])}return ge.join("")},encodeString(q,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(q):this.encodeByteArray(se(q),B)},decodeString(q,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(q):function(q){const B=[];let Y=0,ge=0;for(;Y<q.length;){const P=q[Y++];if(P<128)B[ge++]=String.fromCharCode(P);else if(P>191&&P<224){const V=q[Y++];B[ge++]=String.fromCharCode((31&P)<<6|63&V)}else if(P>239&&P<365){const Ue=((7&P)<<18|(63&q[Y++])<<12|(63&q[Y++])<<6|63&q[Y++])-65536;B[ge++]=String.fromCharCode(55296+(Ue>>10)),B[ge++]=String.fromCharCode(56320+(1023&Ue))}else{const V=q[Y++],U=q[Y++];B[ge++]=String.fromCharCode((15&P)<<12|(63&V)<<6|63&U)}}return B.join("")}(this.decodeStringToByteArray(q,B))},decodeStringToByteArray(q,B){this.init_();const Y=B?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let P=0;P<q.length;){const V=Y[q.charAt(P++)],ue=P<q.length?Y[q.charAt(P)]:0;++P;const Ke=P<q.length?Y[q.charAt(P)]:64;++P;const it=P<q.length?Y[q.charAt(P)]:64;if(++P,null==V||null==ue||null==Ke||null==it)throw Error();ge.push(V<<2|ue>>4),64!==Ke&&(ge.push(ue<<4&240|Ke>>2),64!==it&&ge.push(Ke<<6&192|it))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},ye=function(q){return function(q){const B=se(q);return re.encodeByteArray(B,!0)}(q).replace(/\./g,"")},W=function(q){try{return re.decodeString(q,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function ne(q,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return B}for(const Y in B)!B.hasOwnProperty(Y)||!qe(Y)||(q[Y]=ne(q[Y],B[Y]));return q}function qe(q){return"__proto__"!==q}class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,Y)=>{this.resolve=B,this.reject=Y})}wrapCallback(B){return(Y,ge)=>{Y?this.reject(Y):this.resolve(ge),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(Y):B(Y,ge))}}}function Ne(q,B){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=B||"demo-project",P=q.iat||0,V=q.sub||q.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const U=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:P,exp:P+3600,auth_time:P,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},q);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(U)),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function nt(){return"object"==typeof self&&self.self===self}function He(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Me(){return je().indexOf("Electron/")>=0}function Ce(){const q=je();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ye(){return je().indexOf("MSAppHost/")>=0}function Qe(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J(){return"object"==typeof indexedDB}function pe(){return new Promise((q,B)=>{try{let Y=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(ge);P.onsuccess=()=>{P.result.close(),Y||self.indexedDB.deleteDatabase(ge),q(!0)},P.onupgradeneeded=()=>{Y=!1},P.onerror=()=>{var V;B((null===(V=P.error)||void 0===V?void 0:V.message)||"")}}catch(Y){B(Y)}})}function de(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class le extends Error{constructor(B,Y,ge){super(Y),this.code=B,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(B,Y,ge){this.service=B,this.serviceName=Y,this.errors=ge}create(B,...Y){const ge=Y[0]||{},P=`${this.service}/${B}`,V=this.errors[B],U=V?function Jt(q,B){return q.replace(Rn,(Y,ge)=>{const P=B[ge];return null!=P?String(P):`<${ge}?>`})}(V,ge):"Error";return new le(P,`${this.serviceName}: ${U} (${P}).`,ge)}}const Rn=/\{\$([^}]+)}/g;function en(q,B){return Object.prototype.hasOwnProperty.call(q,B)}function ai(q){for(const B in q)if(Object.prototype.hasOwnProperty.call(q,B))return!1;return!0}function bi(q,B){if(q===B)return!0;const Y=Object.keys(q),ge=Object.keys(B);for(const P of Y){if(!ge.includes(P))return!1;const V=q[P],U=B[P];if(jr(V)&&jr(U)){if(!bi(V,U))return!1}else if(V!==U)return!1}for(const P of ge)if(!Y.includes(P))return!1;return!0}function jr(q){return null!==q&&"object"==typeof q}function ar(q){const B=[];for(const[Y,ge]of Object.entries(q))Array.isArray(ge)?ge.forEach(P=>{B.push(encodeURIComponent(Y)+"="+encodeURIComponent(P))}):B.push(encodeURIComponent(Y)+"="+encodeURIComponent(ge));return B.length?"&"+B.join("&"):""}function li(q){const B={};return q.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[P,V]=ge.split("=");B[decodeURIComponent(P)]=decodeURIComponent(V)}}),B}function wi(q){const B=q.indexOf("?");if(!B)return"";const Y=q.indexOf("#",B);return q.substring(B,Y>0?Y:void 0)}function gt(q,B){const Y=new Ti(q,B);return Y.subscribe.bind(Y)}class Ti{constructor(B,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{B(this)}).catch(ge=>{this.error(ge)})}next(B){this.forEachObserver(Y=>{Y.next(B)})}error(B){this.forEachObserver(Y=>{Y.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,Y,ge){let P;if(void 0===B&&void 0===Y&&void 0===ge)throw new Error("Missing Observer.");P=function rn(q,B){if("object"!=typeof q||null===q)return!1;for(const Y of B)if(Y in q&&"function"==typeof q[Y])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:Y,complete:ge},void 0===P.next&&(P.next=Un),void 0===P.error&&(P.error=Un),void 0===P.complete&&(P.complete=Un);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch(U){}}),this.observers.push(P),V}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,B)}sendOne(B,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{Y(this.observers[B])}catch(ge){"undefined"!=typeof console&&console.error&&console.error(ge)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Un(){}function Hr(q,B=1e3,Y=2){const ge=B*Math.pow(Y,q),P=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+P)}function _t(q){return q&&q._delegate?q._delegate:q}function Pn(q,B){return new Promise((Y,ge)=>{q.onsuccess=P=>{Y(P.target.result)},q.onerror=P=>{var V;ge(`${B}: ${null===(V=P.target.error)||void 0===V?void 0:V.message}`)}})}class Kt{constructor(B){this._db=B,this.objectStoreNames=this._db.objectStoreNames}transaction(B,Y){return new ze(this._db.transaction.call(this._db,B,Y))}createObjectStore(B,Y){return new xe(this._db.createObjectStore(B,Y))}close(){this._db.close()}}class ze{constructor(B){this._transaction=B,this.complete=new Promise((Y,ge)=>{this._transaction.oncomplete=function(){Y()},this._transaction.onerror=()=>{ge(this._transaction.error)},this._transaction.onabort=()=>{ge(this._transaction.error)}})}objectStore(B){return new xe(this._transaction.objectStore(B))}}class xe{constructor(B){this._store=B}index(B){return new et(this._store.index(B))}createIndex(B,Y,ge){return new et(this._store.createIndex(B,Y,ge))}get(B){return Pn(this._store.get(B),"Error reading from IndexedDB")}put(B,Y){return Pn(this._store.put(B,Y),"Error writing to IndexedDB")}delete(B){return Pn(this._store.delete(B),"Error deleting from IndexedDB")}clear(){return Pn(this._store.clear(),"Error clearing IndexedDB object store")}}class et{constructor(B){this._index=B}get(B){return Pn(this._index.get(B),"Error reading from IndexedDB")}}function ft(q,B,Y){return new Promise((ge,P)=>{try{const V=indexedDB.open(q,B);V.onsuccess=U=>{ge(new Kt(U.target.result))},V.onerror=U=>{var ue;P(`Error opening indexedDB: ${null===(ue=U.target.error)||void 0===ue?void 0:ue.message}`)},V.onupgradeneeded=U=>{Y(new Kt(V.result),U.oldVersion,U.newVersion,new ze(V.transaction))}}catch(V){P(`Error opening indexedDB: ${V.message}`)}})}function Nt(q){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(q){return new Promise((B,Y)=>{try{const ge=indexedDB.deleteDatabase(q);ge.onsuccess=()=>{B()},ge.onerror=P=>{var V;Y(`Error deleting indexedDB database "${q}": ${null===(V=P.target.error)||void 0===V?void 0:V.message}`)}}catch(ge){Y(`Error deleting indexedDB database "${q}": ${ge.message}`)}})})).apply(this,arguments)}},860:(ct,Ie,F)=>{var c=F(5e3);let H=null;function k(){return H}const re=new c.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ye(){return(0,c.LFG)(z)}()},providedIn:"platform"}),n})(),z=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ne()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ne()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function qe(){return new z((0,c.LFG)(re))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function je(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function De(n){const e=(0,c.LFG)(re).location;return new He((0,c.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const nt=new c.OlP("appBaseHref");let He=(()=>{class n extends we{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+je(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,l){const d=this.prepareExternalUrl(r+je(l));this._platformLocation.pushState(t,i,d)}replaceState(t,i,r,l){const d=this.prepareExternalUrl(r+je(l));this._platformLocation.replaceState(t,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(nt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ne(ie(r)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+je(i))}normalize(t){return n.stripTrailingSlash(function Ye(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=je,n.joinWithSlash=Oe,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(c.LFG(we),c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ce(){return new Me((0,c.LFG)(we),(0,c.LFG)(he))}()},providedIn:"root"}),n})();function ie(n){return n.replace(/\/index.html$/,"")}var de=(()=>((de=de||{})[de.Format=0]="Format",de[de.Standalone=1]="Standalone",de))(),me=(()=>((me=me||{})[me.Narrow=0]="Narrow",me[me.Abbreviated=1]="Abbreviated",me[me.Wide=2]="Wide",me[me.Short=3]="Short",me))(),Pe=(()=>((Pe=Pe||{})[Pe.Short=0]="Short",Pe[Pe.Medium=1]="Medium",Pe[Pe.Long=2]="Long",Pe[Pe.Full=3]="Full",Pe))(),le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Group=1]="Group",le[le.List=2]="List",le[le.PercentSign=3]="PercentSign",le[le.PlusSign=4]="PlusSign",le[le.MinusSign=5]="MinusSign",le[le.Exponential=6]="Exponential",le[le.SuperscriptingExponent=7]="SuperscriptingExponent",le[le.PerMille=8]="PerMille",le[le.Infinity=9]="Infinity",le[le.NaN=10]="NaN",le[le.TimeSeparator=11]="TimeSeparator",le[le.CurrencyDecimal=12]="CurrencyDecimal",le[le.CurrencyGroup=13]="CurrencyGroup",le))();function nn(n,e){return On((0,c.cg1)(n)[c.wAp.DateFormat],e)}function Xt(n,e){return On((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function en(n,e){return On((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function In(n,e){const t=(0,c.cg1)(n),i=t[c.wAp.NumberSymbols][e];if(void 0===i){if(e===le.CurrencyDecimal)return t[c.wAp.NumberSymbols][le.Decimal];if(e===le.CurrencyGroup)return t[c.wAp.NumberSymbols][le.Group]}return i}function wi(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function On(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function rn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const An=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Li={},Xs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $t=(()=>(($t=$t||{})[$t.Short=0]="Short",$t[$t.ShortGMT=1]="ShortGMT",$t[$t.Long=2]="Long",$t[$t.Extended=3]="Extended",$t))(),ht=(()=>((ht=ht||{})[ht.FullYear=0]="FullYear",ht[ht.Month=1]="Month",ht[ht.Date=2]="Date",ht[ht.Hours=3]="Hours",ht[ht.Minutes=4]="Minutes",ht[ht.Seconds=5]="Seconds",ht[ht.FractionalSeconds=6]="FractionalSeconds",ht[ht.Day=7]="Day",ht))(),st=(()=>((st=st||{})[st.DayPeriods=0]="DayPeriods",st[st.Days=1]="Days",st[st.Months=2]="Months",st[st.Eras=3]="Eras",st))();function Zi(n,e,t,i){let r=function ue(n){if(Ke(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,l=1,d=1]=n.split("-").map(f=>+f);return Gr(r,l-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(An))return function Ue(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,f=Number(n[5]||0)-i,_=Number(n[6]||0),E=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,d,f,_,E),e}(i)}const e=new Date(n);if(!Ke(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=qt(t,e)||e;let f,d=[];for(;e;){if(f=Xs.exec(e),!f){d.push(e);break}{d=d.concat(f.slice(1));const I=d.pop();if(!I)break;e=I}}let _=r.getTimezoneOffset();i&&(_=P(i,_),r=function U(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function V(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(P(e,r)-r))}(r,i,!0));let E="";return d.forEach(I=>{const R=function ge(n){if(Y[n])return Y[n];let e;switch(n){case"G":case"GG":case"GGG":e=Kt(st.Eras,me.Abbreviated);break;case"GGGG":e=Kt(st.Eras,me.Wide);break;case"GGGGG":e=Kt(st.Eras,me.Narrow);break;case"y":e=_t(ht.FullYear,1,0,!1,!0);break;case"yy":e=_t(ht.FullYear,2,0,!0,!0);break;case"yyy":e=_t(ht.FullYear,3,0,!1,!0);break;case"yyyy":e=_t(ht.FullYear,4,0,!1,!0);break;case"Y":e=B(1);break;case"YY":e=B(2,!0);break;case"YYY":e=B(3);break;case"YYYY":e=B(4);break;case"M":case"L":e=_t(ht.Month,1,1);break;case"MM":case"LL":e=_t(ht.Month,2,1);break;case"MMM":e=Kt(st.Months,me.Abbreviated);break;case"MMMM":e=Kt(st.Months,me.Wide);break;case"MMMMM":e=Kt(st.Months,me.Narrow);break;case"LLL":e=Kt(st.Months,me.Abbreviated,de.Standalone);break;case"LLLL":e=Kt(st.Months,me.Wide,de.Standalone);break;case"LLLLL":e=Kt(st.Months,me.Narrow,de.Standalone);break;case"w":e=q(1);break;case"ww":e=q(2);break;case"W":e=q(1,!0);break;case"d":e=_t(ht.Date,1);break;case"dd":e=_t(ht.Date,2);break;case"c":case"cc":e=_t(ht.Day,1);break;case"ccc":e=Kt(st.Days,me.Abbreviated,de.Standalone);break;case"cccc":e=Kt(st.Days,me.Wide,de.Standalone);break;case"ccccc":e=Kt(st.Days,me.Narrow,de.Standalone);break;case"cccccc":e=Kt(st.Days,me.Short,de.Standalone);break;case"E":case"EE":case"EEE":e=Kt(st.Days,me.Abbreviated);break;case"EEEE":e=Kt(st.Days,me.Wide);break;case"EEEEE":e=Kt(st.Days,me.Narrow);break;case"EEEEEE":e=Kt(st.Days,me.Short);break;case"a":case"aa":case"aaa":e=Kt(st.DayPeriods,me.Abbreviated);break;case"aaaa":e=Kt(st.DayPeriods,me.Wide);break;case"aaaaa":e=Kt(st.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":e=Kt(st.DayPeriods,me.Abbreviated,de.Standalone,!0);break;case"bbbb":e=Kt(st.DayPeriods,me.Wide,de.Standalone,!0);break;case"bbbbb":e=Kt(st.DayPeriods,me.Narrow,de.Standalone,!0);break;case"B":case"BB":case"BBB":e=Kt(st.DayPeriods,me.Abbreviated,de.Format,!0);break;case"BBBB":e=Kt(st.DayPeriods,me.Wide,de.Format,!0);break;case"BBBBB":e=Kt(st.DayPeriods,me.Narrow,de.Format,!0);break;case"h":e=_t(ht.Hours,1,-12);break;case"hh":e=_t(ht.Hours,2,-12);break;case"H":e=_t(ht.Hours,1);break;case"HH":e=_t(ht.Hours,2);break;case"m":e=_t(ht.Minutes,1);break;case"mm":e=_t(ht.Minutes,2);break;case"s":e=_t(ht.Seconds,1);break;case"ss":e=_t(ht.Seconds,2);break;case"S":e=_t(ht.FractionalSeconds,1);break;case"SS":e=_t(ht.FractionalSeconds,2);break;case"SSS":e=_t(ht.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=xe($t.Short);break;case"ZZZZZ":e=xe($t.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=xe($t.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=xe($t.Long);break;default:return null}return Y[n]=e,e}(I);E+=R?R(r,t,_):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),E}function Gr(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function qt(n,e){const t=function Jt(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(Li[t]=Li[t]||{},Li[t][e])return Li[t][e];let i="";switch(e){case"shortDate":i=nn(n,Pe.Short);break;case"mediumDate":i=nn(n,Pe.Medium);break;case"longDate":i=nn(n,Pe.Long);break;case"fullDate":i=nn(n,Pe.Full);break;case"shortTime":i=Xt(n,Pe.Short);break;case"mediumTime":i=Xt(n,Pe.Medium);break;case"longTime":i=Xt(n,Pe.Long);break;case"fullTime":i=Xt(n,Pe.Full);break;case"short":const r=qt(n,"shortTime"),l=qt(n,"shortDate");i=Hr(en(n,Pe.Short),[r,l]);break;case"medium":const d=qt(n,"mediumTime"),f=qt(n,"mediumDate");i=Hr(en(n,Pe.Medium),[d,f]);break;case"long":const _=qt(n,"longTime"),E=qt(n,"longDate");i=Hr(en(n,Pe.Long),[_,E]);break;case"full":const I=qt(n,"fullTime"),R=qt(n,"fullDate");i=Hr(en(n,Pe.Full),[I,R])}return i&&(Li[t][e]=i),i}function Hr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Fn(n,e,t="-",i,r){let l="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,l=t));let d=String(n);for(;d.length<e;)d="0"+d;return i&&(d=d.substr(d.length-e)),l+d}function _t(n,e,t=0,i=!1,r=!1){return function(l,d){let f=function Pn(n,e){switch(n){case ht.FullYear:return e.getFullYear();case ht.Month:return e.getMonth();case ht.Date:return e.getDate();case ht.Hours:return e.getHours();case ht.Minutes:return e.getMinutes();case ht.Seconds:return e.getSeconds();case ht.FractionalSeconds:return e.getMilliseconds();case ht.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||f>-t)&&(f+=t),n===ht.Hours)0===f&&-12===t&&(f=12);else if(n===ht.FractionalSeconds)return function on(n,e){return Fn(n,3).substr(0,e)}(f,e);const _=In(d,le.MinusSign);return Fn(f,e,_,i,r)}}function Kt(n,e,t=de.Format,i=!1){return function(r,l){return function ze(n,e,t,i,r,l){switch(t){case st.Months:return function pt(n,e,t){const i=(0,c.cg1)(n),l=On([i[c.wAp.MonthsFormat],i[c.wAp.MonthsStandalone]],e);return On(l,t)}(e,r,i)[n.getMonth()];case st.Days:return function dt(n,e,t){const i=(0,c.cg1)(n),l=On([i[c.wAp.DaysFormat],i[c.wAp.DaysStandalone]],e);return On(l,t)}(e,r,i)[n.getDay()];case st.DayPeriods:const d=n.getHours(),f=n.getMinutes();if(l){const E=function rs(n){const e=(0,c.cg1)(n);return wi(e),(e[c.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?rn(i):[rn(i[0]),rn(i[1])])}(e),I=function gt(n,e,t){const i=(0,c.cg1)(n);wi(i);const l=On([i[c.wAp.ExtraData][0],i[c.wAp.ExtraData][1]],e)||[];return On(l,t)||[]}(e,r,i),R=E.findIndex(G=>{if(Array.isArray(G)){const[K,Q]=G,ce=d>=K.hours&&f>=K.minutes,Le=d<Q.hours||d===Q.hours&&f<Q.minutes;if(K.hours<Q.hours){if(ce&&Le)return!0}else if(ce||Le)return!0}else if(G.hours===d&&G.minutes===f)return!0;return!1});if(-1!==R)return I[R]}return function Rn(n,e,t){const i=(0,c.cg1)(n),l=On([i[c.wAp.DayPeriodsFormat],i[c.wAp.DayPeriodsStandalone]],e);return On(l,t)}(e,r,i)[d<12?0:1];case st.Eras:return function pn(n,e){return On((0,c.cg1)(n)[c.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,l,n,e,t,i)}}function xe(n){return function(e,t,i){const r=-1*i,l=In(t,le.MinusSign),d=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case $t.Short:return(r>=0?"+":"")+Fn(d,2,l)+Fn(Math.abs(r%60),2,l);case $t.ShortGMT:return"GMT"+(r>=0?"+":"")+Fn(d,1,l);case $t.Long:return"GMT"+(r>=0?"+":"")+Fn(d,2,l)+":"+Fn(Math.abs(r%60),2,l);case $t.Extended:return 0===i?"Z":(r>=0?"+":"")+Fn(d,2,l)+":"+Fn(Math.abs(r%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Lt(n){return Gr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function q(n,e=!1){return function(t,i){let r;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();r=1+Math.floor((d+l)/7)}else{const l=Lt(t),d=function Nt(n){const e=Gr(n,0,1).getDay();return Gr(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),f=l.getTime()-d.getTime();r=1+Math.round(f/6048e5)}return Fn(r,n,In(i,le.MinusSign))}}function B(n,e=!1){return function(t,i){return Fn(Lt(t).getFullYear(),n,In(i,le.MinusSign),e)}}const Y={};function P(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ke(n){return n instanceof Date&&!isNaN(n.valueOf())}let ur=(()=>{class n{constructor(t,i,r,l){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class $r{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ui=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,l,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new $r(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===l?void 0:l);else if(null!==l){const f=i.get(l);i.move(f,d),xs(f,r)}});for(let r=0,l=i.length;r<l;r++){const f=i.get(r).context;f.index=r,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{xs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function xs(n,e){n.context.$implicit=e.item}let ki=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Do("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Do("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class vn{constructor(){this.$implicit=null,this.ngIf=null}}function Do(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class ac{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Vi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Cr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new ac(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Vi,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();function Qi(n,e){return new c.vHH(2100,"")}class Lf{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class os{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Vf=new os,lc=new Lf;let Bd=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,c.QGY)(t))return Vf;if((0,c.F4k)(t))return lc;throw Qi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})();const Uf=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let al=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,l){var d;if(null==t||""===t||t!=t)return null;try{return Zi(t,i,l||this.locale,null!==(d=null!=r?r:this.defaultTimezone)&&void 0!==d?d:void 0)}catch(f){throw Qi()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(Uf,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0}),n})(),ru=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const xr="browser";function an(n){return n===xr}function dr(n){return"server"===n}class io extends class no extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){H||(H=n)}(new io)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function lu(){return yn=yn||document.querySelector("base"),yn?yn.getAttribute("href"):null}();return null==t?null:function Ts(n){Ro=Ro||document.createElement("a"),Ro.setAttribute("href",n);const e=Ro.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){yn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function rl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,l]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Ro,yn=null;const Ei=new c.OlP("TRANSITION_ID"),dl=[{provide:c.ip1,useFactory:function Wn(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=k(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<r.length;l++)i.remove(r[l])})}},deps:[Ei,re,c.zs3],multi:!0}];class hr{static init(){(0,c.VLi)(new hr)}addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const l=e.findTestabilityInTree(i,r);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let l=r.length,d=!1;const f=function(_){d=d||_,l--,0==l&&i(d)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Bi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const us=new c.OlP("EventManagerPlugins");let ro=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let l=0;l<r.length;l++){const d=r[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(us),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Oo{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=k().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ir=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),zr=(()=>{class n extends Ir{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,r.push(i.appendChild(d))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(cs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(cs))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function cs(n){k().remove(n)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ha=/%COMP%/g;function Ae(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Ae(n,r,t):(r=r.replace(ha,n),t.push(r))}return t}function jt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let bn=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new hl(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new uu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new pa(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ae(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ro),c.LFG(zr),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class hl{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Et[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const l=Et[r];l?e.setAttributeNS(l,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Et[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,jt(i)):this.eventManager.addEventListener(e,t,jt(i))}}class uu extends hl{constructor(e,t,i,r){super(e),this.component=i;const l=Ae(r+"-"+i.id,i.styles,[]);t.addStyles(l),this.contentAttr=function Gd(n){return"_ngcontent-%COMP%".replace(ha,n)}(r+"-"+i.id),this.hostAttr=function fa(n){return"_nghost-%COMP%".replace(ha,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class pa extends hl{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ae(r.id,r.styles,[]);for(let d=0;d<l.length;d++){const f=document.createElement("style");f.textContent=l[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Hf=(()=>{class n extends Oo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const cu=["alt","control","meta","shift"],No={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ni={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Wr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Lo=(()=>{class n extends Oo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const l=n.parseEventName(i),d=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let d="";if(cu.forEach(_=>{const E=i.indexOf(_);E>-1&&(i.splice(E,1),d+=_+".")}),d+=l,0!=i.length||0===l.length)return null;const f={};return f.domEventName=r,f.fullKey=d,f}static getEventFullKey(t){let i="",r=function Vo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ni.hasOwnProperty(e)&&(e=ni[e]))}return No[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),cu.forEach(l=>{l!=r&&Wr[l](t)&&(i+=l+".")}),i+=r,i}static eventCallback(t,i,r){return l=>{n.getEventFullKey(l)===t&&r.runGuarded(()=>i(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ga=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:xr},{provide:c.g9A,useValue:function Xi(){io.makeCurrent(),hr.init()},multi:!0},{provide:re,useFactory:function Bo(){return(0,c.RDi)(document),document},deps:[]}]),du=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function $d(){return new c.qLn},deps:[]},{provide:us,useClass:Hf,multi:!0,deps:[re,c.R0b,c.Lbi]},{provide:us,useClass:Lo,multi:!0,deps:[re]},{provide:bn,useClass:bn,deps:[ro,zr,c.AFp]},{provide:c.FYo,useExisting:bn},{provide:Ir,useExisting:zr},{provide:zr,useClass:zr,deps:[re]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:ro,useClass:ro,deps:[us,c.R0b]},{provide:class wn{},useClass:Bi,deps:[]}];let Rs=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Ei,useExisting:c.AFp},dl]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:du,imports:[ru,c.hGG]}),n})();"undefined"!=typeof window&&window;let qr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(vc),i},providedIn:"root"}),n})(),vc=(()=>{class n extends qr{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function _u(n){return new vc(n.get(re))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();class bc{}const ji="*";function vu(n,e){return{type:7,name:n,definitions:e,options:{}}}function va(n,e=null){return{type:4,styles:e,timings:n}}function bu(n,e=null){return{type:2,steps:n,options:e}}function ln(n){return{type:6,styles:n,offset:null}}function Kr(n,e,t){return{type:0,name:n,styles:e,options:t}}function Yr(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Ea(n){Promise.resolve(null).then(n)}class Ps{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ea(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Zr{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const l=this.players.length;0==l?Ea(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==l&&this._onFinish()}),d.onDestroy(()=>{++i==l&&this._onDestroy()}),d.onStart(()=>{++r==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Wt=!1;function lo(n){return new c.vHH(3e3,Wt)}function Sa(){return"undefined"!=typeof window&&void 0!==window.document}function Go(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function fs(n){switch(n.length){case 0:return new Ps;case 1:return n[0];default:return new Zr(n)}}function Ho(n,e,t,i,r={},l={}){const d=[],f=[];let _=-1,E=null;if(i.forEach(I=>{const R=I.offset,G=R==_,K=G&&E||{};Object.keys(I).forEach(Q=>{let ce=Q,Le=I[Q];if("offset"!==Q)switch(ce=e.normalizePropertyName(ce,d),Le){case"!":Le=r[Q];break;case ji:Le=l[Q];break;default:Le=e.normalizeStyleValue(Q,ce,Le,d)}K[ce]=Le}),G||f.push(K),E=K,_=R}),d.length)throw function $f(n){return new c.vHH(3502,Wt)}();return f}function Ci(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Ji(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Ji(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Ji(t,"destroy",n)))}}function Ji(n,e,t){const i=t.totalTime,l=uo(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),d=n._data;return null!=d&&(l._data=d),l}function uo(n,e,t,i,r="",l=0,d){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:l,disabled:!!d}}function Di(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function Gi(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Us=(n,e)=>!1,vl=(n,e,t)=>[],bl=null;function wl(n){const e=n.parentNode||n.host;return e===bl?null:e}(Go()||"undefined"!=typeof Element)&&(Sa()?(bl=(()=>document.documentElement)(),Us=(n,e)=>{for(;e;){if(e===n)return!0;e=wl(e)}return!1}):Us=(n,e)=>n.contains(e),vl=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let ii=null,Su=!1;function js(n){ii||(ii=function Wf(){return"undefined"!=typeof document?document.body:null}()||{},Su=!!ii.style&&"WebkitAppearance"in ii.style);let e=!0;return ii.style&&!function Ta(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ii.style,!e&&Su&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ii.style)),e}const Ma=Us,co=vl;let El=(()=>{class n{validateStyleProperty(t){return js(t)}matchesElement(t,i){return!1}containsElement(t,i){return Ma(t,i)}getParentElement(t){return wl(t)}query(t,i,r){return co(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,l,d,f=[],_){return new Ps(r,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Mu=(()=>{class n{}return n.NOOP=new El,n})();const ho="ng-enter",Cl="ng-leave",Tr="ng-trigger",$o=".ng-trigger",zo="ng-animating",Dl=".ng-animating";function D(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:x(parseFloat(e[1]),e[2])}function x(n,e){return"s"===e?1e3*n:n}function O(n,e,t){return n.hasOwnProperty("duration")?n:function j(n,e,t){let r,l=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(lo()),{duration:0,delay:0,easing:""};r=x(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(l=x(parseFloat(_),f[4]));const E=f[5];E&&(d=E)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function ml(){return new c.vHH(3100,Wt)}()),f=!0),l<0&&(e.push(function Ca(){return new c.vHH(3101,Wt)}()),f=!0),f&&e.splice(_,0,lo())}return{duration:r,delay:l,easing:d}}(n,e,t)}function X(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ke(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else X(n,t);return t}function Ge(n,e,t){return t?e+":"+t+";":""}function It(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Ge(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Ge(0,Dc(t),n.style[t]));n.setAttribute("style",e)}function yt(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=tr(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),Go()&&It(n))}function Ft(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=tr(t);n.style[i]=""}),Go()&&It(n))}function vt(n){return Array.isArray(n)?1==n.length?n[0]:bu(n):n}const Gn=new RegExp("{{\\s*(.+?)\\s*}}","g");function fo(n){let e=[];if("string"==typeof n){let t;for(;t=Gn.exec(n);)e.push(t[1]);Gn.lastIndex=0}return e}function Gs(n,e,t){const i=n.toString(),r=i.replace(Gn,(l,d)=>{let f=e[d];return e.hasOwnProperty(d)||(t.push(function yl(n){return new c.vHH(3003,Wt)}()),f=""),f.toString()});return r==i?n:r}function er(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const gs=/-+([a-z0-9])/g;function tr(n){return n.replace(gs,(...e)=>e[1].toUpperCase())}function Dc(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $i(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Uo(n){return new c.vHH(3004,Wt)}()}}function ih(n,e){return window.getComputedStyle(n)[e]}function cv(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function mm(n,e,t){if(":"==n[0]){const _=function ym(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Qd(n){return new c.vHH(3016,Wt)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Vs(n){return new c.vHH(3015,Wt)}()),e;const r=i[1],l=i[2],d=i[3];e.push(Tc(r,d));"<"==l[0]&&!("*"==r&&"*"==d)&&e.push(Tc(d,r))}(i,t,e)):t.push(n),t}const Sc=new Set(["true","1"]),Ra=new Set(["false","0"]);function Tc(n,e){const t=Sc.has(n)||Ra.has(n),i=Sc.has(e)||Ra.has(e);return(r,l)=>{let d="*"==n||n==r,f="*"==e||e==l;return!d&&t&&"boolean"==typeof r&&(d=r?Sc.has(n):Ra.has(n)),!f&&i&&"boolean"==typeof l&&(f=l?Sc.has(e):Ra.has(e)),d&&f}}const rh=new RegExp("s*:selfs*,?","g");function sh(n,e,t,i){return new Mc(n).build(e,t,i)}class Mc{constructor(e){this._driver=e}build(e,t,i){const r=new ah(t);this._resetContextStyleTimingState(r);const l=$i(this,vt(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function fm(){return new c.vHH(3006,Wt)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,E=_.name;E.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,l.push(this.visitState(_,t))}),_.name=E}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,d.push(_)}else t.errors.push(function xa(){return new c.vHH(3007,Wt)}())}),{type:7,name:e.name,states:l,transitions:d,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const l=new Set,d=r||{};i.styles.forEach(f=>{if(Hs(f)){const _=f;Object.keys(_).forEach(E=>{fo(_[E]).forEach(I=>{d.hasOwnProperty(I)||l.add(I)})})}}),l.size&&(er(l.values()),t.errors.push(function Ia(n,e){return new c.vHH(3008,Wt)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=$i(this,vt(e.animation),t);return{type:1,matchers:cv(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ka(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>$i(this,i,t)),options:ka(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const l=e.steps.map(d=>{t.currentTime=i;const f=$i(this,d,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:l,options:ka(e.options)}}visitAnimate(e,t){const i=function vm(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Fu(O(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Fu(0,0,"");return l.dynamic=!0,l.strValue=i,l}return t=t||O(i,e),Fu(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,l=e.styles?e.styles:ln({});if(5==l.type)r=this.visitKeyframes(l,t);else{let d=e.styles,f=!1;if(!d){f=!0;const E={};i.easing&&(E.easing=i.easing),d=ln(E)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(d,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==ji?i.push(d):t.errors.push(function Zd(n){return new c.vHH(3002,Wt)}()):i.push(d)}):i.push(e.styles);let r=!1,l=null;return i.forEach(d=>{if(Hs(d)){const f=d,_=f.easing;if(_&&(l=_,delete f.easing),!r)for(let E in f)if(f[E].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,l=t.currentTime;i&&l>0&&(l-=i.duration+i.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete d[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],E=_[f];let I=!0;E&&(l!=r&&l>=E.startTime&&r<=E.endTime&&(t.errors.push(function _l(n,e,t,i,r){return new c.vHH(3010,Wt)}()),I=!1),l=E.startTime),I&&(_[f]={startTime:l,endTime:r}),t.options&&function Hi(n,e,t){const i=e.params||{},r=fo(n);r.length&&r.forEach(l=>{i.hasOwnProperty(l)||t.push(function Da(n){return new c.vHH(3001,Wt)}())})}(d[f],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Ns(){return new c.vHH(3011,Wt)}()),i;let l=0;const d=[];let f=!1,_=!1,E=0;const I=e.steps.map(tt=>{const Xe=this._makeStyleAst(tt,t);let Ht=null!=Xe.offset?Xe.offset:function Yf(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Hs(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Hs(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Xe.styles),ut=0;return null!=Ht&&(l++,ut=Xe.offset=Ht),_=_||ut<0||ut>1,f=f||ut<E,E=ut,d.push(ut),Xe});_&&t.errors.push(function Du(){return new c.vHH(3012,Wt)}()),f&&t.errors.push(function jo(){return new c.vHH(3200,Wt)}());const R=e.steps.length;let G=0;l>0&&l<R?t.errors.push(function xu(){return new c.vHH(3202,Wt)}()):0==l&&(G=1/(R-1));const K=R-1,Q=t.currentTime,ce=t.currentAnimateTimings,Le=ce.duration;return I.forEach((tt,Xe)=>{const Ht=G>0?Xe==K?1:G*Xe:d[Xe],ut=Ht*Le;t.currentTime=Q+ce.delay+ut,ce.duration=ut,this._validateStyleAst(tt,t),tt.offset=Ht,i.styles.push(tt)}),i}visitReference(e,t){return{type:8,animation:$i(this,vt(e.animation),t),options:ka(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ka(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ka(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function oh(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(rh,"")),n=n.replace(/@\*/g,$o).replace(/@\w+/g,t=>$o+"-"+t.substr(1)).replace(/:animating/g,Dl),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+l:l,Di(t.collectedStyles,t.currentQuerySelector,{});const f=$i(this,vt(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:l,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:ka(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Ls(){return new c.vHH(3013,Wt)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:O(e.timings,t.errors,!0);return{type:12,animation:$i(this,vt(e.animation),t),timings:i,options:null}}}class ah{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hs(n){return!Array.isArray(n)&&"object"==typeof n}function ka(n){return n?(n=X(n)).params&&(n.params=function Kf(n){return n?X(n):null}(n.params)):n={},n}function Fu(n,e,t){return{duration:n,delay:e,easing:t}}function lh(n,e,t,i,r,l,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:d,subTimeline:f}}class Al{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Zf=new RegExp(":enter","g"),bm=new RegExp(":leave","g");function Rc(n,e,t,i,r,l={},d={},f,_,E=[]){return(new Qf).buildKeyframes(n,e,t,i,r,l,d,f,_,E)}class Qf{buildKeyframes(e,t,i,r,l,d,f,_,E,I=[]){E=E||new Al;const R=new kc(e,t,E,r,l,I,[]);R.options=_,R.currentTimeline.setStyles([d],null,R.errors,_),$i(this,i,R);const G=R.timelines.filter(K=>K.containsAnimation());if(Object.keys(f).length){let K;for(let Q=G.length-1;Q>=0;Q--){const ce=G[Q];if(ce.element===t){K=ce;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([f],null,R.errors,_)}return G.length?G.map(K=>K.buildKeyframes()):[lh(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let l=t.currentTimeline.currentTime;const d=null!=i.duration?D(i.duration):null,f=null!=i.delay?D(i.delay):null;return 0!==d&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,d,f);l=Math.max(l,E.duration+E.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),$i(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const l=e.options;if(l&&(l.params||l.delay)&&(r=t.createSubContext(l),r.transformIntoNewTimeline(),null!=l.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Oc);const d=D(l.delay);r.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>$i(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?D(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),$i(this,d,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return O(t.params?Gs(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(i.duration),this.visitStyle(l,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(l):i.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,l=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*l),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+l),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},l=r.delay?D(r.delay):0;l&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Oc);let d=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((E,I)=>{t.currentQueryIndex=I;const R=t.createSubContext(e.options,E);l&&R.delayNextStep(l),E===t.element&&(_=R.currentTimeline),$i(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),f=d*(t.currentQueryTotal-1);let _=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const R=I.currentTime;$i(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-R+(r.startTime-i.currentTimeline.startTime)}}const Oc={};class kc{constructor(e,t,i,r,l,d,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=l,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Oc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Fc(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=D(i.duration)),null!=i.delay&&(r.delay=D(i.delay));const l=i.params;if(l){let d=r.params;d||(d=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=Gs(l[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,l=new kc(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Oc,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},l=new wm(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(l),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,l,d){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(Zf,"."+this._enterClassName)).replace(bm,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=i);0!==i&&(E=i<0?E.slice(E.length+i,E.length):E.slice(0,i)),f.push(...E)}return!l&&0==f.length&&d.push(function hs(n){return new c.vHH(3014,Wt)}()),f}}class Fc{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Fc(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ji,this._currentKeyframe[t]=ji}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const l=r&&r.params||{},d=function g(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(l=>{t[l]=ji})):ke(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const _=Gs(d[f],l,i);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:ji),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const E=ke(f,!0);Object.keys(E).forEach(I=>{const R=E[I];"!"==R?e.add(I):R==ji&&t.add(I)}),i||(E.offset=_/this.duration),r.push(E)});const l=e.size?er(e.values()):[],d=t.size?er(t.values()):[];if(i){const f=r[0],_=X(f);f.offset=0,_.offset=1,r=[f,_]}return lh(this.element,r,l,d,this.duration,this.startTime,this.easing,!1)}}class wm extends Fc{constructor(e,t,i,r,l,d,f=!1){super(e,t,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=i+t,f=t/d,_=ke(e[0],!1);_.offset=0,l.push(_);const E=ke(e[0],!1);E.offset=v(f),l.push(E);const I=e.length-1;for(let R=1;R<=I;R++){let G=ke(e[R],!1);G.offset=v((t+G.offset*i)/d),l.push(G)}i=d,t=0,r="",e=l}return lh(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function v(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class w{}class N extends w{normalizePropertyName(e,t){return tr(e)}normalizeStyleValue(e,t,i,r){let l="";const d=i.toString().trim();if(te[t]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function Eu(n,e){return new c.vHH(3005,Wt)}())}return d+l}}const te=(()=>function Te(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ot(n,e,t,i,r,l,d,f,_,E,I,R,G){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:l,toState:i,toStyles:d,timelines:f,queriedElements:_,preStyleProps:E,postStyleProps:I,totalTime:R,errors:G}}const bt={};class Bt{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Vn(n,e,t,i,r){return n.some(l=>l(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],l=this._stateStyles[e],d=r?r.buildStyles(t,i):{};return l?l.buildStyles(t,i):d}build(e,t,i,r,l,d,f,_,E,I){const R=[],G=this.ast.options&&this.ast.options.params||bt,Q=this.buildStyles(i,f&&f.params||bt,R),ce=_&&_.params||bt,Le=this.buildStyles(r,ce,R),tt=new Set,Xe=new Map,Ht=new Map,ut="void"===r,Ut={params:Object.assign(Object.assign({},G),ce)},Ot=I?[]:Rc(e,t,this.ast.animation,l,d,Q,Le,Ut,E,R);let Hn=0;if(Ot.forEach(Ur=>{Hn=Math.max(Ur.duration+Ur.delay,Hn)}),R.length)return ot(t,this._triggerName,i,r,ut,Q,Le,[],[],Xe,Ht,Hn,R);Ot.forEach(Ur=>{const xn=Ur.element,$n=Di(Xe,xn,{});Ur.preStyleProps.forEach(Ff=>$n[Ff]=!0);const oa=Di(Ht,xn,{});Ur.postStyleProps.forEach(Ff=>oa[Ff]=!0),xn!==t&&tt.add(xn)});const _i=er(tt.values());return ot(t,this._triggerName,i,r,ut,Q,Le,Ot,_i,Xe,Ht,Hn)}}class go{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=X(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!=d&&(r[l]=d)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const d=l;Object.keys(d).forEach(f=>{let _=d[f];_.length>1&&(_=Gs(_,r,t));const E=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,E,_,t),i[E]=_})}}),i}}class Sl{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new go(r.style,r.options&&r.options.params||{},i)}),Tl(this.states,"true","1"),Tl(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Bt(e,r,this.states))}),this.fallbackTransition=function Pc(n,e,t){return new Bt(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(d=>d.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Tl(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Em=new Al;class Cm{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],l=sh(this._driver,t,i,[]);if(i.length)throw function jn(n){return new c.vHH(3503,Wt)}();this._animations[e]=l}_buildPlayer(e,t,i){const r=e.element,l=Ho(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],l=this._animations[e];let d;const f=new Map;if(l?(d=Rc(this._driver,t,l,ho,Cl,{},{},i,Em,r),d.forEach(I=>{const R=Di(f,I.element,{});I.postStyleProps.forEach(G=>R[G]=null)})):(r.push(function pm(){return new c.vHH(3300,Wt)}()),d=[]),r.length)throw function gm(n){return new c.vHH(3504,Wt)}();f.forEach((I,R)=>{Object.keys(I).forEach(G=>{I[G]=this._driver.computeStyle(R,G,ji)})});const E=fs(d.map(I=>{const R=f.get(I.element);return this._buildPlayer(I,{},R)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Xd(n){return new c.vHH(3301,Wt)}();return t}listen(e,t,i,r){const l=uo(t,"","","");return Ci(this._getPlayer(e),i,l,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const l=this._getPlayer(e);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Pu="ng-animate-queued",Nc="ng-animate-disabled",Ml=[],dh={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Dm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$s="__ng_removed";class Yn{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function N0(n){return null!=n?n:null}(i?e.value:e),i){const l=X(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const hh="void",xm=new Yn(hh);class dv{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Sn(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function Jd(n,e){return new c.vHH(3302,Wt)}();if(null==i||0==i.length)throw function eh(n){return new c.vHH(3303,Wt)}();if(!function L0(n){return"start"==n||"done"==n}(i))throw function zf(n,e){return new c.vHH(3400,Wt)}();const l=Di(this._elementListeners,e,[]),d={name:t,phase:i,callback:r};l.push(d);const f=Di(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Sn(e,Tr),Sn(e,Tr+"-"+t),f[t]=xm),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(d);_>=0&&l.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Cc(n){return new c.vHH(3401,Wt)}();return t}trigger(e,t,i,r=!0){const l=this._getTrigger(t),d=new Im(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Sn(e,Tr),Sn(e,Tr+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const E=new Yn(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),f[t]=E,_||(_=xm),E.value!==hh&&_.value===E.value){if(!function fh(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const l=t[r];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(_.params,E.params)){const ce=[],Le=l.matchStyles(_.value,_.params,ce),tt=l.matchStyles(E.value,E.params,ce);ce.length?this._engine.reportError(ce):this._engine.afterFlush(()=>{Ft(e,Le),yt(e,tt)})}return}const G=Di(this._engine.playersByElement,e,[]);G.forEach(ce=>{ce.namespaceId==this.id&&ce.triggerName==t&&ce.queued&&ce.destroy()});let K=l.matchTransition(_.value,E.value,e,E.params),Q=!1;if(!K){if(!r)return;K=l.fallbackTransition,Q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:K,fromState:_,toState:E,player:d,isFallbackTransition:Q}),Q||(Sn(e,Pu),d.onStart(()=>{Rl(e,Pu)})),d.onDone(()=>{let ce=this.players.indexOf(d);ce>=0&&this.players.splice(ce,1);const Le=this._engine.playersByElement.get(e);if(Le){let tt=Le.indexOf(d);tt>=0&&Le.splice(tt,1)}}),this.players.push(d),G.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,$o,!0);i.forEach(r=>{if(r[$s])return;const l=this._engine.fetchNamespacesByElement(r);l.size?l.forEach(d=>d.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const f=[];if(Object.keys(l).forEach(_=>{if(d.set(_,l[_].value),this._triggers[_]){const E=this.trigger(e,_,hh,r);E&&f.push(E)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),i&&fs(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(l=>{const d=l.name;if(r.has(d))return;r.add(d);const _=this._triggers[d].fallbackTransition,E=i[d]||xm,I=new Yn(hh),R=new Im(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:_,fromState:E,toState:I,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(e):[];if(l&&l.length)r=!0;else{let d=e;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const l=e[$s];(!l||l===dh)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Sn(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const l=i.element,d=this._elementListeners.get(l);d&&d.forEach(f=>{if(f.name==i.triggerName){const _=uo(l,i.triggerName,i.fromState.value,i.toState.value);_._data=e,Ci(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const l=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class hv{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new dv(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,l=i.length-1;if(l>=0){let d=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const E=i.indexOf(_);i.splice(E+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}}else for(let f=l;f>=0;f--)if(this.driver.containsElement(i[f].hostElement,t)){i.splice(f+1,0,e),d=!0;break}d||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let l=0;l<r.length;l++){const d=i[r[l]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&t.add(f)}}}return t}trigger(e,t,i,r){if(tp(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!tp(t))return;const l=t[$s];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Sn(e,Nc)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Rl(e,Nc))}removeNode(e,t,i,r){if(tp(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,l){this.collectedLeaveElements.push(t),t[$s]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,i,r,l){return tp(t)?this._fetchNamespace(e).listen(t,i,r,l):()=>{}}_buildInstruction(e,t,i,r,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,$o,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Dl,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return fs(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[$s];if(i&&i.setForRemoval){if(e[$s]=dh,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Nc))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Sn(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?fs(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Aa(n){return new c.vHH(3402,Wt)}()}_flushAnimations(e,t){const i=new Al,r=[],l=new Map,d=[],f=new Map,_=new Map,E=new Map,I=new Set;this.disabledNodes.forEach(mt=>{I.add(mt);const Tt=this.driver.query(mt,".ng-animate-queued",!0);for(let Pt=0;Pt<Tt.length;Pt++)I.add(Tt[Pt])});const R=this.bodyNode,G=Array.from(this.statesByElement.keys()),K=Lc(G,this.collectedEnterElements),Q=new Map;let ce=0;K.forEach((mt,Tt)=>{const Pt=ho+ce++;Q.set(Tt,Pt),mt.forEach(_n=>Sn(_n,Pt))});const Le=[],tt=new Set,Xe=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const Tt=this.collectedLeaveElements[mt],Pt=Tt[$s];Pt&&Pt.setForRemoval&&(Le.push(Tt),tt.add(Tt),Pt.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(_n=>tt.add(_n)):Xe.add(Tt))}const Ht=new Map,ut=Lc(G,Array.from(tt));ut.forEach((mt,Tt)=>{const Pt=Cl+ce++;Ht.set(Tt,Pt),mt.forEach(_n=>Sn(_n,Pt))}),e.push(()=>{K.forEach((mt,Tt)=>{const Pt=Q.get(Tt);mt.forEach(_n=>Rl(_n,Pt))}),ut.forEach((mt,Tt)=>{const Pt=Ht.get(Tt);mt.forEach(_n=>Rl(_n,Pt))}),Le.forEach(mt=>{this.processLeaveNode(mt)})});const Ut=[],Ot=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(t).forEach(Pt=>{const _n=Pt.player,wr=Pt.element;if(Ut.push(_n),this.collectedEnterElements.length){const Ds=wr[$s];if(Ds&&Ds.setForMove){if(Ds.previousTriggersValues&&Ds.previousTriggersValues.has(Pt.triggerName)){const Pf=Ds.previousTriggersValues.get(Pt.triggerName),Vd=this.statesByElement.get(Pt.element);Vd&&Vd[Pt.triggerName]&&(Vd[Pt.triggerName].value=Pf)}return void _n.destroy()}}const nu=!R||!this.driver.containsElement(R,wr),Co=Ht.get(wr),Ld=Q.get(wr),vi=this._buildInstruction(Pt,i,Ld,Co,nu);if(vi.errors&&vi.errors.length)return void Ot.push(vi);if(nu)return _n.onStart(()=>Ft(wr,vi.fromStyles)),_n.onDestroy(()=>yt(wr,vi.toStyles)),void r.push(_n);if(Pt.isFallbackTransition)return _n.onStart(()=>Ft(wr,vi.fromStyles)),_n.onDestroy(()=>yt(wr,vi.toStyles)),void r.push(_n);const oN=[];vi.timelines.forEach(Ds=>{Ds.stretchStartingKeyframe=!0,this.disabledNodes.has(Ds.element)||oN.push(Ds)}),vi.timelines=oN,i.append(wr,vi.timelines),d.push({instruction:vi,player:_n,element:wr}),vi.queriedElements.forEach(Ds=>Di(f,Ds,[]).push(_n)),vi.preStyleProps.forEach((Ds,Pf)=>{const Vd=Object.keys(Ds);if(Vd.length){let Nf=_.get(Pf);Nf||_.set(Pf,Nf=new Set),Vd.forEach(jS=>Nf.add(jS))}}),vi.postStyleProps.forEach((Ds,Pf)=>{const Vd=Object.keys(Ds);let Nf=E.get(Pf);Nf||E.set(Pf,Nf=new Set),Vd.forEach(jS=>Nf.add(jS))})});if(Ot.length){const mt=[];Ot.forEach(Tt=>{mt.push(function Kn(n,e){return new c.vHH(3505,Wt)}())}),Ut.forEach(Tt=>Tt.destroy()),this.reportError(mt)}const Hn=new Map,_i=new Map;d.forEach(mt=>{const Tt=mt.element;i.has(Tt)&&(_i.set(Tt,Tt),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,Hn))}),r.forEach(mt=>{const Tt=mt.element;this._getPreviousPlayers(Tt,!1,mt.namespaceId,mt.triggerName,null).forEach(_n=>{Di(Hn,Tt,[]).push(_n),_n.destroy()})});const Ur=Le.filter(mt=>np(mt,_,E)),xn=new Map;B0(xn,this.driver,Xe,E,ji).forEach(mt=>{np(mt,_,E)&&Ur.push(mt)});const oa=new Map;K.forEach((mt,Tt)=>{B0(oa,this.driver,new Set(mt),_,"!")}),Ur.forEach(mt=>{const Tt=xn.get(mt),Pt=oa.get(mt);xn.set(mt,Object.assign(Object.assign({},Tt),Pt))});const Ff=[],rN=[],sN={};d.forEach(mt=>{const{element:Tt,player:Pt,instruction:_n}=mt;if(i.has(Tt)){if(I.has(Tt))return Pt.onDestroy(()=>yt(Tt,_n.toStyles)),Pt.disabled=!0,Pt.overrideTotalTime(_n.totalTime),void r.push(Pt);let wr=sN;if(_i.size>1){let Co=Tt;const Ld=[];for(;Co=Co.parentNode;){const vi=_i.get(Co);if(vi){wr=vi;break}Ld.push(Co)}Ld.forEach(vi=>_i.set(vi,wr))}const nu=this._buildAnimation(Pt.namespaceId,_n,Hn,l,oa,xn);if(Pt.setRealPlayer(nu),wr===sN)Ff.push(Pt);else{const Co=this.playersByElement.get(wr);Co&&Co.length&&(Pt.parentPlayer=fs(Co)),r.push(Pt)}}else Ft(Tt,_n.fromStyles),Pt.onDestroy(()=>yt(Tt,_n.toStyles)),rN.push(Pt),I.has(Tt)&&r.push(Pt)}),rN.forEach(mt=>{const Tt=l.get(mt.element);if(Tt&&Tt.length){const Pt=fs(Tt);mt.setRealPlayer(Pt)}}),r.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<Le.length;mt++){const Tt=Le[mt],Pt=Tt[$s];if(Rl(Tt,Cl),Pt&&Pt.hasAnimation)continue;let _n=[];if(f.size){let nu=f.get(Tt);nu&&nu.length&&_n.push(...nu);let Co=this.driver.query(Tt,Dl,!0);for(let Ld=0;Ld<Co.length;Ld++){let vi=f.get(Co[Ld]);vi&&vi.length&&_n.push(...vi)}}const wr=_n.filter(nu=>!nu.destroyed);wr.length?fv(this,Tt,wr):this.processLeaveNode(Tt)}return Le.length=0,Ff.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const Tt=this.players.indexOf(mt);this.players.splice(Tt,1)}),mt.play()}),Ff}elementContainsData(e,t){let i=!1;const r=t[$s];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,l){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const _=!l||l==hh;f.forEach(E=>{E.queued||!_&&E.triggerName!=r||d.push(E)})}}return(i||r)&&(d=d.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),d}_beforeAnimationBuild(e,t,i){const l=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,I=E!==l,R=Di(i,E,[]);this._getPreviousPlayers(E,I,d,f,t.toState).forEach(K=>{const Q=K.getRealPlayer();Q.beforeDestroy&&Q.beforeDestroy(),K.destroy(),R.push(K)})}Ft(l,t.fromStyles)}_buildAnimation(e,t,i,r,l,d){const f=t.triggerName,_=t.element,E=[],I=new Set,R=new Set,G=t.timelines.map(Q=>{const ce=Q.element;I.add(ce);const Le=ce[$s];if(Le&&Le.removedBeforeQueried)return new Ps(Q.duration,Q.delay);const tt=ce!==_,Xe=function pv(n){const e=[];return nr(n,e),e}((i.get(ce)||Ml).map(Hn=>Hn.getRealPlayer())).filter(Hn=>!!Hn.element&&Hn.element===ce),Ht=l.get(ce),ut=d.get(ce),Ut=Ho(0,this._normalizer,0,Q.keyframes,Ht,ut),Ot=this._buildPlayer(Q,Ut,Xe);if(Q.subTimeline&&r&&R.add(ce),tt){const Hn=new Im(e,f,ce);Hn.setRealPlayer(Ot),E.push(Hn)}return Ot});E.forEach(Q=>{Di(this.playersByQueriedElement,Q.element,[]).push(Q),Q.onDone(()=>function P0(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,Q.element,Q))}),I.forEach(Q=>Sn(Q,zo));const K=fs(G);return K.onDestroy(()=>{I.forEach(Q=>Rl(Q,zo)),yt(_,t.toStyles)}),R.forEach(Q=>{Di(r,Q,[]).push(K)}),K}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Ps(e.duration,e.delay)}}class Im{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Ps,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>Ci(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Di(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function tp(n){return n&&1===n.nodeType}function V0(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function B0(n,e,t,i,r){const l=[];t.forEach(_=>l.push(V0(_)));const d=[];i.forEach((_,E)=>{const I={};_.forEach(R=>{const G=I[R]=e.computeStyle(E,R,r);(!G||0==G.length)&&(E[$s]=Dm,d.push(E))}),n.set(E,I)});let f=0;return t.forEach(_=>V0(_,l[f++])),d}function Lc(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),l=new Map;function d(f){if(!f)return 1;let _=l.get(f);if(_)return _;const E=f.parentNode;return _=t.has(E)?E:r.has(E)?1:d(E),l.set(f,_),_}return e.forEach(f=>{const _=d(f);1!==_&&t.get(_).push(f)}),t}function Sn(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Rl(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function fv(n,e,t){fs(t).onDone(()=>n.processLeaveNode(e))}function nr(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Zr?nr(i.players,e):e.push(i)}}function np(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(l=>r.add(l)):e.set(n,i),t.delete(n),!0}class ip{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,l)=>{},this._transitionEngine=new hv(e,t,i),this._timelineEngine=new Cm(e,t,i),this._transitionEngine.onRemovalComplete=(r,l)=>this.onRemovalComplete(r,l)}registerTrigger(e,t,i,r,l){const d=e+"-"+r;let f=this._triggerCache[d];if(!f){const _=[],I=sh(this._driver,l,_,[]);if(_.length)throw function Ec(n,e){return new c.vHH(3404,Wt)}();f=function Pa(n,e,t){return new Sl(n,e,t)}(r,I,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[l,d]=Gi(i);this._timelineEngine.command(l,t,d,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,l){if("@"==i.charAt(0)){const[d,f]=Gi(i);return this._timelineEngine.listen(d,t,f,l)}return this._transitionEngine.listen(e,t,i,r,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let gv=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&yt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yt(this._element,this._initialStyles),this._endStyles&&(yt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ft(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ft(this._element,this._endStyles),this._endStyles=null),yt(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Am(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];mv(r)&&(e=e||{},e[r]=n[r])}return e}function mv(n){return"display"===n||"position"===n}class yv{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:ih(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class _v{validateStyleProperty(e){return js(e)}matchesElement(e,t){return!1}containsElement(e,t){return Ma(e,t)}getParentElement(e){return wl(e)}query(e,t,i){return co(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,l,d=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};l&&(_.easing=l);const E={},I=d.filter(G=>G instanceof yv);(function nh(n,e){return 0===n||0===e})(i,r)&&I.forEach(G=>{let K=G.currentSnapshot;Object.keys(K).forEach(Q=>E[Q]=K[Q])}),t=function Ou(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let l=e[0],d=[];if(i.forEach(f=>{l.hasOwnProperty(f)||d.push(f),l[f]=t[f]}),d.length)for(var r=1;r<e.length;r++){let f=e[r];d.forEach(function(_){f[_]=ih(n,_)})}}return e}(e,t=t.map(G=>ke(G,!1)),E);const R=function U0(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Am(e[0]),e.length>1&&(i=Am(e[e.length-1]))):e&&(t=Am(e)),t||i?new gv(n,t,i):null}(e,t);return new yv(e,t,_,R)}}let j0=(()=>{class n extends bc{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?bu(t):t;return vv(this._renderer,null,i,"register",[r]),new G0(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class G0 extends class Sr{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Sm(this._id,e,t||{},this._renderer)}}class Sm{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return vv(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function vv(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const sp="@.disabled";let H0=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,d)=>{const f=null==d?void 0:d.parentNode(l);f&&d.removeChild(f,l)}}createRenderer(t,i){const l=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(l);return I||(I=new bv("",l,this.engine),this._rendererCache.set(l,I)),I}const d=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(d,f,t,I.name,I)};return i.data.animation.forEach(_),new op(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,f]=l;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ip),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class bv{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==sp?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class op extends bv{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==sp?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function $0(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),d="";return"@"!=l.charAt(0)&&([l,d]=function z0(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,r,l,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let W0=(()=>{class n extends ip{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(Mu),c.LFG(w))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Vc=new c.OlP("AnimationModuleType"),wv=[{provide:bc,useClass:j0},{provide:w,useFactory:function q0(){return new N}},{provide:ip,useClass:W0},{provide:c.FYo,useFactory:function K0(n,e,t){return new H0(n,e,t)},deps:[bn,ip,c.R0b]}],Ev=[{provide:Mu,useFactory:()=>new _v},{provide:Vc,useValue:"BrowserAnimations"},...wv],Y0=[{provide:Mu,useClass:El},{provide:Vc,useValue:"NoopAnimations"},...wv];let Z0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Y0:Ev}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ev,imports:[Rs]}),n})();const Q0=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function X0(){return(0,c.f3M)(re)}}),J0=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Cv,ms=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Bc(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?J0.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q0,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ph=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{Cv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Cv=!1}let Ol,di=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?an(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Cv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xv=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Mm(){if(Ol)return Ol;if("object"!=typeof document||!document)return Ol=new Set(xv),Ol;let n=document.createElement("input");return Ol=new Set(xv.filter(e=>(n.setAttribute("type",e),n.type===e))),Ol}let Na,La,kl;function Uc(n){return function Iv(){if(null==Na&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Na=!0}))}finally{Na=Na||!1}return Na}()?n:!!n.capture}function Av(){if(null==La){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return La=!1,La;if("scrollBehavior"in document.documentElement.style)La=!0;else{const n=Element.prototype.scrollTo;La=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return La}function Va(n){return n.composedPath?n.composedPath()[0]:n.target}function Om(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var hi=F(7579);class Tv extends hi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var ap=F(3269),Wo=F(8996);function Mr(...n){const e=(0,ap.yG)(n);return(0,Wo.D)(n,e)}var Rr=F(4482),Or=F(5403);function ys(n,e){return(0,Rr.e)((t,i)=>{let r=0;t.subscribe((0,Or.x)(i,l=>n.call(e,l,r++)&&i.next(l)))})}var Bm=F(4671);function OC(n,e=Bm.y){return n=null!=n?n:Jv,(0,Rr.e)((t,i)=>{let r,l=!0;t.subscribe((0,Or.x)(i,d=>{const f=e(d);(l||!n(r,f))&&(l=!1,r=f,i.next(d))}))})}function Jv(n,e){return n===e}var Vu=F(8421),kC=F(5032);function zs(n){return(0,Rr.e)((e,t)=>{(0,Vu.Xf)(n).subscribe((0,Or.x)(t,()=>t.complete(),kC.Z)),!t.closed&&e.subscribe(t)})}function fr(n){return null!=n&&"false"!=`${n}`}function eb(n){return Array.isArray(n)?n:[n]}function xi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Pl(n){return n instanceof c.SBq?n.nativeElement:n}var mo=F(8306),Um=F(4986);let dp=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tb=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Pl(t);return new mo.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new hi.x,r=this._mutationObserverFactory.create(l=>i.next(l));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NC=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=fr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function FC(n,e=0){return function _s(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function PC(n,e=Um.z){return(0,Rr.e)((t,i)=>{let r=null,l=null,d=null;const f=()=>{if(r){r.unsubscribe(),r=null;const E=l;l=null,i.next(E)}};function _(){const E=d+n,I=e.now();if(I<E)return r=this.schedule(void 0,E-I),void i.add(r);f()}t.subscribe((0,Or.x)(i,E=>{l=E,d=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{l=r=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(tb),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),nb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dp]}),n})();function $m(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Yo(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const fp=new c.OlP("cdk-input-modality-detector-options"),KC={ignoreKeys:[18,17,224,91,16]},_h=Uc({passive:!0,capture:!0});let zm=(()=>{class n{constructor(t,i,r,l){this._platform=t,this._mostRecentTarget=null,this._modality=new Tv(null),this._lastTouchMs=0,this._onKeydown=d=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(E=>E===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Va(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next($m(d)?"keyboard":"mouse"),this._mostRecentTarget=Va(d))},this._onTouchstart=d=>{Yo(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Va(d))},this._options=Object.assign(Object.assign({},KC),l),this.modalityDetected=this._modality.pipe(function RC(n){return ys((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(OC()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,_h),r.addEventListener("mousedown",this._onMousedown,_h),r.addEventListener("touchstart",this._onTouchstart,_h)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_h),document.removeEventListener("mousedown",this._onMousedown,_h),document.removeEventListener("touchstart",this._onTouchstart,_h))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(di),c.LFG(c.R0b),c.LFG(re),c.LFG(fp,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hb=new c.OlP("cdk-focus-monitor-default-options"),vh=Uc({passive:!0,capture:!0});let fb=(()=>{class n{constructor(t,i,r,l,d){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new hi.x,this._rootNodeFocusAndBlurListener=f=>{const _=Va(f),E="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)E.call(this,f,I)},this._document=l,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(t,i=!1){const r=Pl(t);if(!this._platform.isBrowser||1!==r.nodeType)return Mr(null);const l=function Sv(n){if(function Rm(){if(null==kl){const n="undefined"!=typeof document?document.head:null;kl=!(!n||!n.createShadowRoot&&!n.attachShadow)}return kl}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const f={checkChildren:i,subject:new hi.x,rootNode:l};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=Pl(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const l=Pl(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),l=Va(t);!r||!r.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,vh),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,vh)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(zs(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vh),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vh),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,l)=>{(l===t||r.checkChildren&&l.contains(t))&&i.push([l,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(di),c.LFG(zm),c.LFG(re,8),c.LFG(hb,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gp="cdk-high-contrast-black-on-white",pb="cdk-high-contrast-white-on-black",qm="cdk-high-contrast-active";let Km=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,l=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(qm),t.remove(gp),t.remove(pb),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(qm),t.add(gp)):2===i&&(t.add(qm),t.add(pb))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(di),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hc=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Km))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[nb]]}),n})();const Ym=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function yo(){return!0}});let Ws=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Om()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Km),c.LFG(Ym,8),c.LFG(re))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ph],ph]}),n})();function eD(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=fr(e)}}}function Zm(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function tD(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=fr(e)}}}function mb(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new hi.x,this.errorState=!1}updateErrorState(){const e=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==e&&(this.errorState=l,this.stateChanges.next())}}}let oD=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uD{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const cD={enterDuration:225,exitDuration:150},wh=Uc({passive:!0}),vb=["mousedown","touchstart"],mp=["mouseup","mouseleave","touchend","touchcancel"];class dD{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Pl(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},cD),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const d=i.radius||function fD(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,E=l.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-d+"px",I.style.top=_-d+"px",I.style.height=2*d+"px",I.style.width=2*d+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(I),function hD(n){window.getComputedStyle(n).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const R=new uD(this,I,i);return R.state=0,this._activeRipples.add(R),i.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const G=R===this._mostRecentTransientRipple;R.state=1,!i.persistent&&(!G||!this._isPointerDown)&&R.fadeOut()},E),R}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},cD),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Pl(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(vb))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(mp),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=$m(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Yo(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,wh)})})}_removeTriggerEvents(){this._triggerElement&&(vb.forEach(e=>{this._triggerElement.removeEventListener(e,this,wh)}),this._pointerUpEventsRegistered&&mp.forEach(e=>{this._triggerElement.removeEventListener(e,this,wh)}))}}const pD=new c.OlP("mat-ripple-global-options");let bb=(()=>{class n{constructor(t,i,r,l,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new dD(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(di),c.Y36(pD,8),c.Y36(Vc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),gD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ws],Ws]}),n})();const Wc=["mat-button",""],qc=["*"],Yc=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Zc=Zm(eD(tD(class{constructor(n){this._elementRef=n}})));let Qc=(()=>{class n extends Zc{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of Yc)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(fb),c.Y36(Vc,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&c.Gf(bb,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:Wc,ngContentSelectors:qc,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[bb],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Cb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[gD,Ws],Ws]}),n})();var ja=F(5867),un=F(5813);class Bu{constructor(e){return e}}class vp{constructor(){return(0,ja.C6)()}}const bp=new c.OlP("angularfire2._apps"),xb={provide:Bu,useFactory:function Db(n){return n&&1===n.length?n[0]:new Bu((0,ja.Mq)())},deps:[[new c.FiY,bp]]},yD={provide:vp,deps:[[new c.FiY,bp]]};function Ib(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Bu(i)}}let _D=(()=>{class n{constructor(t){(0,ja.KN)("angularfire",un.q4.full,"core"),(0,ja.KN)("angularfire",un.q4.full,"app"),(0,ja.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[xb,yD]}),n})();function Ab(n,...e){return{ngModule:_D,providers:[{provide:bp,useFactory:Ib(n),multi:!0,deps:[c.R0b,c.zs3,un.HU,...e]}]}}const Sb=(0,un.u3)(ja.ZF,!0),Jm_firebase={projectId:"pruebamigration-5682b",appId:"1:759373315810:web:2b9a79610a761b23a668bb",storageBucket:"pruebamigration-5682b.appspot.com",locationId:"us-central",apiKey:"AIzaSyCr4SNkNqEwSHerxZLFUM-xs_Y3p5vfMlA",authDomain:"pruebamigration-5682b.firebaseapp.com",messagingSenderId:"759373315810",measurementId:"G-2YQCLMMQ6W"};var Ee=F(5861),Ga=F(9681),Xc=F(4859),Yt=F(2090),Nl=F(1877);const wD=new Map,YT={activated:!1,tokenObservers:[]},ZT={initialized:!1,enabled:!1};function zi(n){return wD.get(n)||YT}function qs(n,e){wD.set(n,e)}function ey(){return ZT}class wp{constructor(e,t,i,r,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=r,r>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new Yt.BH,yield function CD(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fr=new Yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kb(n){if(!zi(n).activated)throw Fr.create("use-before-activation",{appName:n.name})}function iy(n,e){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,Ee.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const R=yield r.getHeartbeatsHeader();R&&(i["X-Firebase-Client"]=R)}const l={method:"POST",body:JSON.stringify(e),headers:i};let d,f;try{d=yield fetch(n,l)}catch(R){throw Fr.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==d.status)throw Fr.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(R){throw Fr.create("fetch-parse-error",{originalErrorMessage:R.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const E=1e3*Number(_[1]),I=Date.now();return{token:f.attestationToken,expireTimeMillis:I+E,issuedAtTimeMillis:I}})).apply(this,arguments)}function QT(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Dp="firebase-app-check-store";let xp=null;function Ip(){return xp||(xp=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Fr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Dp,{keyPath:"compositeKey"})}}catch(t){e(Fr.create("storage-open",{originalErrorMessage:t.message}))}}),xp)}function Pb(){return(Pb=(0,Ee.Z)(function*(n,e){const i=(yield Ip()).transaction(Dp,"readwrite"),l=i.objectStore(Dp).put({compositeKey:n,value:e});return new Promise((d,f)=>{l.onsuccess=_=>{d()},i.onerror=_=>{var E;f(Fr.create("storage-set",{originalErrorMessage:null===(E=_.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const Uu=new Nl.Yd("@firebase/app-check");function ay(n,e){return(0,Yt.hl)()?function ID(n,e){return function Tp(n,e){return Pb.apply(this,arguments)}(function Ah(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Uu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ly(){return ey().enabled}function Bb(){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,Ee.Z)(function*(){const n=ey();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const uy={error:"UNKNOWN_ERROR"};function jb(n){return Yt.US.encodeString(JSON.stringify(n),!1)}function Rp(n){return Op.apply(this,arguments)}function Op(){return(Op=(0,Ee.Z)(function*(n,e=!1){const t=n.app;kb(t);const i=zi(t);let l,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&Mh(_)&&(r=_)}if(!e&&r&&Mh(r))return{token:r.token};let f,d=!1;if(ly()){i.exchangeTokenPromise||(i.exchangeTokenPromise=iy(QT(t,yield Bb()),n.heartbeatServiceProvider).then(E=>(i.exchangeTokenPromise=void 0,E)),d=!0);const _=yield i.exchangeTokenPromise;return yield ay(t,_),qs(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),d=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Uu.warn(_.message):Uu.error(_),l=_}return r?(f={token:r.token},qs(t,Object.assign(Object.assign({},i),{token:r})),yield ay(t,r)):f=Hb(l),d&&cy(t,f),f})).apply(this,arguments)}function Fp(n,e){const t=zi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),qs(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function Pp(n){const{app:e}=n,t=zi(e);let i=t.tokenRefresher;i||(i=function Gb(n){const{app:e}=n;return new wp((0,Ee.Z)(function*(){let i;if(i=zi(e).token?yield Rp(n,!0):yield Rp(n),i.error)throw i.error}),()=>!0,()=>{const t=zi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),qs(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function cy(n,e){const t=zi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function Mh(n){return n.expireTimeMillis-Date.now()>0}function Hb(n){return{token:jb(uy),error:n}}class $b{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=zi(this.app);for(const t of e)Fp(this.app,t.next);return Promise.resolve()}}const tw="app-check-internal";!function Qo(){(0,Ga._registerComponent)(new Xc.wA("app-check",n=>function zb(n,e){return new $b(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(tw).initialize()})),(0,Ga._registerComponent)(new Xc.wA(tw,n=>function Wb(n){return{getToken:e=>Rp(n,e),addTokenListener:e=>function kp(n,e,t,i){const{app:r}=n,l=zi(r),d={next:t,error:i,type:e};if(qs(r,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&Mh(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),Pp(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Pp(n))}(n,"INTERNAL",e),removeTokenListener:e=>Fp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ga.registerVersion)("@firebase/app-check","0.5.5")}();class Gu{constructor(){return(0,un.vb)("app-check")}}"undefined"!=typeof window&&window;var nw=F(424);class nd{constructor(e){return e}}class _y{constructor(){return(0,un.vb)("auth")}}const Lp=new c.OlP("angularfire2.auth-instances");function rw(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new nd(i)}}const sw={provide:_y,deps:[[new c.FiY,Lp]]},ow={provide:nd,useFactory:function iw(n,e){const t=(0,un.JM)("auth",n,e);return t&&new nd(t)},deps:[[new c.FiY,Lp],Bu]};let aw=(()=>{class n{constructor(){(0,ja.KN)("angularfire",un.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ow,sw]}),n})();function jD(n,...e){return{ngModule:aw,providers:[{provide:Lp,useFactory:rw(n),multi:!0,deps:[c.R0b,c.zs3,un.HU,vp,[new c.FiY,Gu],...e]}]}}const GD=(0,un.u3)(nw.n,!0);var at,cw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xo={},Ey=Ey||{},Vt=cw||self;function Ll(){}function Cy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Fh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var rd="closure_uid_"+(1e9*Math.random()>>>0),dw=0;function hw(n,e,t){return n.call.apply(n.bind,arguments)}function fw(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ir(n,e,t){return(ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hw:fw).apply(null,arguments)}function Vl(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function pi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,l){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[r].apply(i,d)}}function Bl(){this.s=this.s,this.o=this.o}var ox={};Bl.prototype.s=!1,Bl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function rx(n){return Object.prototype.hasOwnProperty.call(n,rd)&&n[rd]||(n[rd]=++dw)}(this);delete ox[n]}},Bl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dy=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},xy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let l=0;l<i;l++)l in r&&e.call(t,r[l],l,n)};function gw(n){return Array.prototype.concat.apply([],arguments)}function Vp(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Bp(n){return/^[\s\xa0]*$/.test(n)}var es,mw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Jr(n,e){return-1!=n.indexOf(e)}function yw(n,e){return n<e?-1:n>e?1:0}e:{var ax=Vt.navigator;if(ax){var Iy=ax.userAgent;if(Iy){es=Iy;break e}}es=""}function sd(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function _w(n){const e={};for(const t in n)e[t]=n[t];return e}var vw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ay(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let l=0;l<vw.length;l++)t=vw[l],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Hu(n){return Hu[" "](n),n}Hu[" "]=Ll;var $a,n,ux=Jr(es,"Opera"),od=Jr(es,"Trident")||Jr(es,"MSIE"),bw=Jr(es,"Edge"),Sy=bw||od,Ty=Jr(es,"Gecko")&&!(Jr(es.toLowerCase(),"webkit")&&!Jr(es,"Edge"))&&!(Jr(es,"Trident")||Jr(es,"MSIE"))&&!Jr(es,"Edge"),cx=Jr(es.toLowerCase(),"webkit")&&!Jr(es,"Edge");function ww(){var n=Vt.document;return n?n.documentMode:void 0}e:{var My="",Up=(n=es,Ty?/rv:([^\);]+)(\)|;)/.exec(n):bw?/Edge\/([\d\.]+)/.exec(n):od?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):cx?/WebKit\/(\S+)/.exec(n):ux?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Up&&(My=Up?Up[1]:""),od){var Ry=ww();if(null!=Ry&&Ry>parseFloat(My)){$a=String(Ry);break e}}$a=My}var Ew={};var Oy=Vt.document&&od&&(ww()||parseInt($a,10))||void 0,hx=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",Ll,e),Vt.removeEventListener("test",Ll,e)}catch(t){}return n}();function rr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ad(n,e){if(rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ty){e:{try{Hu(e.nodeName);var r=!0;break e}catch(l){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:fx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ad.Z.h.call(this)}}rr.prototype.h=function(){this.defaultPrevented=!0},pi(ad,rr);var fx={2:"touch",3:"pen",4:"mouse"};ad.prototype.h=function(){ad.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ph="closure_listenable_"+(1e6*Math.random()|0),px=0;function ky(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++px,this.ca=this.fa=!1}function Gp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Nh(n){this.src=n,this.g={},this.h=0}function Fy(n,e){var t=e.type;if(t in n.g){var l,i=n.g[t],r=Dy(i,e);(l=0<=r)&&Array.prototype.splice.call(i,r,1),l&&(Gp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Py(n,e,t,i){for(var r=0;r<n.length;++r){var l=n[r];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==i)return r}return-1}Nh.prototype.add=function(n,e,t,i,r){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Py(n,e,i,r);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new ky(e,this.src,l,!!i,r)).fa=t,n.push(e)),e};var Ny="closure_lm_"+(1e6*Math.random()|0),Ly={};function Dw(n,e,t,i,r){if(i&&i.once)return Iw(n,e,t,i,r);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Dw(n,e[l],t,i,r);return null}return t=Uy(t),n&&n[Ph]?n.N(e,t,Fh(i)?!!i.capture:!!i,r):xw(n,e,t,!1,i,r)}function xw(n,e,t,i,r,l){if(!e)throw Error("Invalid event type");var d=Fh(r)?!!r.capture:!!r,f=$p(n);if(f||(n[Ny]=f=new Nh(n)),(t=f.add(e,t,i,d,l)).proxy)return t;if(i=function gx(){var e=mx;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)hx||(r=d),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Aw(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Iw(n,e,t,i,r){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Iw(n,e[l],t,i,r);return null}return t=Uy(t),n&&n[Ph]?n.O(e,t,Fh(i)?!!i.capture:!!i,r):xw(n,e,t,!0,i,r)}function Vy(n,e,t,i,r){if(Array.isArray(e))for(var l=0;l<e.length;l++)Vy(n,e[l],t,i,r);else i=Fh(i)?!!i.capture:!!i,t=Uy(t),n&&n[Ph]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Py(l=n.g[e],t,i,r))&&(Gp(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=$p(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Py(e,t,i,r)),(t=-1<n?e[n]:null)&&Hp(t))}function Hp(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ph])Fy(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Aw(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=$p(e))?(Fy(t,n),0==t.h&&(t.src=null,e[Ny]=null)):Gp(n)}}}function Aw(n){return n in Ly?Ly[n]:Ly[n]="on"+n}function mx(n,e){if(n.ca)n=!0;else{e=new ad(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Hp(n),n=t.call(i,e)}return n}function $p(n){return(n=n[Ny])instanceof Nh?n:null}var By="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uy(n){return"function"==typeof n?n:(n[By]||(n[By]=function(e){return n.handleEvent(e)}),n[By])}function Wi(){Bl.call(this),this.i=new Nh(this),this.P=this,this.I=null}function Fi(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new rr(e,n);else if(e instanceof rr)e.target=e.target||n;else{var r=e;Ay(e=new rr(i,n),r)}if(r=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];r=ld(d,i,!0,e)&&r}if(r=ld(d=e.g=n,i,!0,e)&&r,r=ld(d,i,!1,e)&&r,t)for(l=0;l<t.length;l++)r=ld(d=e.g=t[l],i,!1,e)&&r}function ld(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var f=d.listener,_=d.ia||d.src;d.fa&&Fy(n.i,d),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}pi(Wi,Bl),Wi.prototype[Ph]=!0,Wi.prototype.removeEventListener=function(n,e,t,i){Vy(this,n,e,t,i)},Wi.prototype.M=function(){if(Wi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Gp(t[i]);delete n.g[e],n.h--}}this.I=null},Wi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Wi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var zp=Vt.JSON.stringify;function jy(){var n=zy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Hy,Sw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Gy,n=>n.reset());class Gy{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _x(n){Vt.setTimeout(()=>{throw n},0)}function Wp(n,e){Hy||function Tw(){var n=Vt.Promise.resolve(void 0);Hy=function(){n.then(SM)}}(),$y||(Hy(),$y=!0),zy.add(n,e)}var $y=!1,zy=new class yx{constructor(){this.h=this.g=null}add(e,t){const i=Sw.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function SM(){for(var n;n=jy();){try{n.h.call(n.g)}catch(t){_x(t)}var e=Sw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}$y=!1}function qp(n,e){Wi.call(this),this.h=n||1,this.g=e||Vt,this.j=ir(this.kb,this),this.l=Date.now()}function ud(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Wy(n,e,t){if("function"==typeof n)t&&(n=ir(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ir(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function $u(n){n.g=Wy(()=>{n.g=null,n.i&&(n.i=!1,$u(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}pi(qp,Wi),(at=qp.prototype).da=!1,at.S=null,at.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fi(this,"tick"),this.da&&(ud(this),this.start()))}},at.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){qp.Z.M.call(this),ud(this),delete this.g};class Lh extends Bl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$u(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vh(n){Bl.call(this),this.h=n,this.g={}}pi(Vh,Bl);var vx=[];function qy(n,e,t,i){Array.isArray(t)||(t&&(vx[0]=t.toString()),t=vx);for(var r=0;r<t.length;r++){var l=Dw(e,t[r],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Mw(n){sd(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hp(e)},n),n.g={}}function Kp(){this.g=!0}function zu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ky(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var l=r[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<r.length;d++)r[d]=""}}}return zp(t)}catch(f){return e}}(n,t)+(i?" "+i:"")})}Vh.prototype.M=function(){Vh.Z.M.call(this),Mw(this)},Vh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kp.prototype.Aa=function(){this.g=!1},Kp.prototype.info=function(){};var Jo={},cd=null;function Yp(){return cd=cd||new Wi}function Yy(n){rr.call(this,Jo.Ma,n)}function dd(n){const e=Yp();Fi(e,new Yy(e,n))}function Ow(n,e){rr.call(this,Jo.STAT_EVENT,n),this.stat=e}function Pr(n){const e=Yp();Fi(e,new Ow(e,n))}function Zp(n,e){rr.call(this,Jo.Na,n),this.size=e}function Bh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}Jo.Ma="serverreachability",pi(Yy,rr),Jo.STAT_EVENT="statevent",pi(Ow,rr),Jo.Na="timingevent",pi(Zp,rr);var Zy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},kw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Qy(){}function Fw(){}Qy.prototype.h=null;var Xy,ea={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Pw(){rr.call(this,"d")}function Qp(){rr.call(this,"c")}function Jy(){}function hd(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Vh(this),this.P=Nw,this.W=new qp(n=Sy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ex}function Ex(){this.i=null,this.g="",this.h=!1}pi(Pw,rr),pi(Qp,rr),pi(Jy,Qy),Jy.prototype.g=function(){return new XMLHttpRequest},Jy.prototype.i=function(){return{}},Xy=new Jy;var Nw=45e3,Uh={},jh={};function e_(n,e,t){n.K=1,n.v=bs(za(e)),n.s=t,n.U=!0,Lw(n,null)}function Lw(n,e){n.F=Date.now(),Gh(n),n.A=za(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Ww(t.h,"t",i),n.C=0,t=n.l.H,n.h=new Ex,n.g=h_(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Lh(ir(n.Ia,n,n.g),n.O)),qy(n.V,n.g,"readystatechange",n.gb),e=n.H?_w(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),dd(1),function bx(n,e,t,i,r,l){n.info(function(){if(n.g)if(l)for(var d="",f=l.split("&"),_=0;_<f.length;_++){var E=f[_].split("=");if(1<E.length){var I=E[0];E=E[1];var R=I.split("_");d=2<=R.length&&"type"==R[1]?d+(I+"=")+E+"&":d+(I+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Vw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Bw(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=Cx(n,t),r==jh){4==e&&(n.o=4,Pr(14),i=!1),zu(n.j,n.m,null,"[Incomplete Response]");break}if(r==Uh){n.o=4,Pr(15),zu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}zu(n.j,n.m,r,null),Jp(n,r)}Vw(n)&&r!=jh&&r!=Uh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),u_(e),e.L=!0,Pr(11))):(zu(n.j,n.m,t,"[Invalid Chunked Response]"),vo(n),Hh(n))}function Cx(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?jh:(t=Number(e.substring(t,i)),isNaN(t)?Uh:(i+=1)+t>e.length?jh:(e=e.substr(i,t),n.C=i+t,e))}function Gh(n){n.Y=Date.now()+n.P,Uw(n,n.P)}function Uw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bh(ir(n.eb,n),e)}function Xp(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Hh(n){0==n.l.G||n.I||aE(n.l,n)}function vo(n){Xp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ud(n.W),Mw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Jp(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||r_(t.i,n)))if(t.I=n.N,!n.J&&r_(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(E){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Bh(ir(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Zh(t),Yh(t)}l_(t),Pr(18)}if(1>=ug(t.i)&&t.ka){try{t.ka()}catch(E){}t.ka=void 0}}else $l(t,11)}else if((n.J||t.g==n)&&Zh(t),!Bp(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let E=r[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const I=E[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const R=E[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const G=E[5];null!=G&&"number"==typeof G&&0<G&&(t.K=i=1.5*G,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const K=n.g;if(K){const Q=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var l=i.i;!l.g&&(Jr(Q,"spdy")||Jr(Q,"quic")||Jr(Q,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(s_(l,l.h),l.h=null))}if(i.D){const ce=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;ce&&(i.sa=ce,Tn(i.F,i.D,ce))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((i=t).oa=uE(i,i.H?i.la:null,i.W),d.J){Kw(i.i,d);var f=d,_=i.K;_&&f.setTimeout(_),f.B&&(Xp(f),Gh(f)),i.g=d}else Mx(i);0<t.l.length&&Yu(t)}else"stop"!=E[0]&&"close"!=E[0]||$l(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?$l(t,7):iE(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}dd(4)}catch(E){}}function eg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Cy(n)||"string"==typeof n)xy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Cy(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function jw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Cy(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var l=0;l<r;l++)e.call(void 0,i[l],t&&t[l],n)}}function qu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof qu)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function tg(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Ul(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Ul(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Ul(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(at=hd.prototype).setTimeout=function(n){this.P=n},at.gb=function(n){n=n.target;const e=this.L;e&&3==Ka(n)?e.l():this.Ia(n)},at.Ia=function(n){try{if(n==this.g)e:{const I=Ka(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>I)&&(3!=I||Sy||this.g&&(this.h.h||this.g.ga()||pg(this.g)))){this.I||4!=I||7==e||dd(8==e||0>=R?3:2),Xp(this);var t=this.g.ba();this.N=t;t:if(Vw(this)){var i=pg(this.g);n="";var r=i.length,l=4==Ka(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vo(this),Hh(this);var d="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:l&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function wx(n,e,t,i,r,l,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bp(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Pr(12),vo(this),Hh(this);break e}zu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jp(this,t)}this.U?(Bw(this,I,d),Sy&&this.i&&3==I&&(qy(this.V,this.W,"tick",this.fb),this.W.start())):(zu(this.j,this.m,d,null),Jp(this,d)),4==I&&vo(this),this.i&&!this.I&&(4==I?aE(this.l,this):(this.i=!1,Gh(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),vo(this),Hh(this)}}}catch(I){}},at.fb=function(){if(this.g){var n=Ka(this.g),e=this.g.ga();this.C<e.length&&(Xp(this),Bw(this,n,e),this.i&&4!=n&&Gh(this))}},at.cancel=function(){this.I=!0,vo(this)},at.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Rw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(dd(3),Pr(17)),vo(this),this.o=2,Hh(this)):Uw(this,this.Y-n)},(at=qu.prototype).R=function(){tg(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},at.T=function(){return tg(this),this.g.concat()},at.get=function(n,e){return Ul(this.h,n)?this.h[n]:e},at.set=function(n,e){Ul(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},at.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],l=this.get(r);n.call(e,l,r,this)}};var Gw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof jl){this.g=void 0!==e?e:n.g,ng(this,n.j),this.s=n.s,ig(this,n.i),Gl(this,n.m),this.l=n.l,e=n.h;var t=new fd;t.i=e.i,e.g&&(t.g=new qu(e.g),t.h=e.h),$w(this,t),this.o=n.o}else n&&(t=String(n).match(Gw))?(this.g=!!e,ng(this,t[1]||"",!0),this.s=Wa(t[2]||""),ig(this,t[3]||"",!0),Gl(this,t[4]),this.l=Wa(t[5]||"",!0),$w(this,t[6]||"",!0),this.o=Wa(t[7]||"")):(this.g=!!e,this.h=new fd(null,this.g))}function za(n){return new jl(n)}function ng(n,e,t){n.j=t?Wa(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ig(n,e,t){n.i=t?Wa(e,!0):e}function Gl(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $w(n,e,t){e instanceof fd?(n.h=e,function TM(n,e){e&&!n.j&&(qa(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(og(this,i),Ww(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=$h(e,Ix)),n.h=new fd(e,n.g))}function Tn(n,e,t){n.h.set(e,t)}function bs(n){return Tn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wa(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $h(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,xx),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function xx(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}jl.prototype.toString=function(){var n=[],e=this.j;e&&n.push($h(e,zw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($h(e,zw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push($h(t,"/"==t.charAt(0)?sg:rg,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$h(t,Ax)),n.join("")};var zw=/[#\/\?@]/g,rg=/[#\?:]/g,sg=/[#\?]/g,Ix=/[#\?@]/g,Ax=/#/g;function fd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function qa(n){n.g||(n.g=new qu,n.h=0,n.i&&function Hw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var l=n[t].substring(0,i);r=n[t].substring(i+1)}else l=n[t];e(l,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function og(n,e){qa(n),e=pd(n,e),Ul(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ul((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&tg(n)))}function n_(n,e){return qa(n),e=pd(n,e),Ul(n.g.h,e)}function Ww(n,e,t){og(n,e),0<t.length&&(n.i=null,n.g.set(pd(n,e),Vp(t)),n.h+=t.length)}function pd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ag(n){this.l=n||qw,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ea&&Vt.g.Ea()&&Vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=fd.prototype).add=function(n,e){qa(this),this.i=null,n=pd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){qa(this),this.g.forEach(function(t,i){xy(t,function(r){n.call(e,r,i,this)},this)},this)},at.T=function(){qa(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],l=0;l<r.length;l++)t.push(e[i]);return t},at.R=function(n){qa(this);var e=[];if("string"==typeof n)n_(this,n)&&(e=gw(e,this.g.get(pd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=gw(e,n[t])}return e},at.set=function(n,e){return qa(this),this.i=null,n_(this,n=pd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var l=0;l<i.length;l++){var d=r;""!==i[l]&&(d+="="+encodeURIComponent(String(i[l]))),n.push(d)}}return this.i=n.join("&")};var qw=10;function lg(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ug(n){return n.h?1:n.g?n.g.size:0}function r_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function s_(n,e){n.g?n.g.add(e):n.h=e}function Kw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Yw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Vp(n.i)}function cg(){}function o_(){this.g=new cg}function Zw(n,e,t){const i=t||"";try{eg(n,function(r,l){let d=r;Fh(r)&&(d=zp(r)),e.push(i+l+"="+encodeURIComponent(d))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function zh(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(l){}}function gd(n){this.l=n.$b||null,this.j=n.ib||!1}function dg(n,e){Wi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=hg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ag.prototype.cancel=function(){if(this.i=Yw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},cg.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},cg.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},pi(gd,Qy),gd.prototype.g=function(){return new dg(this.l,this.j)},gd.prototype.i=function(n){return function(){return n}}({}),pi(dg,Wi);var hg=0;function a_(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Wh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,md(n)}function md(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=dg.prototype).open=function(n,e){if(this.readyState!=hg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,md(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wh(this)),this.readyState=hg},at.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,md(this)),this.g&&(this.readyState=3,md(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;a_(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},at.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Wh(this):md(this),3==this.readyState&&a_(this)}},at.Ua=function(n){this.g&&(this.response=this.responseText=n,Wh(this))},at.Ta=function(n){this.g&&(this.response=n,Wh(this))},at.ha=function(){this.g&&Wh(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(dg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Xw=Vt.JSON.parse;function sn(n){Wi.call(this),this.headers=new qu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ku,this.K=this.L=!1}pi(sn,Wi);var Ku="",Sx=/^https?$/i,Tx=["POST","PUT"];function qh(n){return"content-type"==n.toLowerCase()}function Jw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fg(n),Kh(n)}function fg(n){n.D||(n.D=!0,Fi(n,"complete"),Fi(n,"error"))}function eE(n){if(n.h&&void 0!==Ey&&(!n.C[1]||4!=Ka(n)||2!=n.ba()))if(n.v&&4==Ka(n))Wy(n.Fa,0,n);else if(Fi(n,"readystatechange"),4==Ka(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(Gw)[1]||null;if(!r&&Vt.self&&Vt.self.location){var l=Vt.self.location.protocol;r=l.substr(0,l.length-1)}i=!Sx.test(r?r.toLowerCase():"")}t=i}if(t)Fi(n,"complete"),Fi(n,"success");else{n.m=6;try{var d=2<Ka(n)?n.g.statusText:""}catch(_){d=""}n.j=d+" ["+n.ba()+"]",fg(n)}}finally{Kh(n)}}}function Kh(n,e){if(n.g){tE(n);const t=n.g,i=n.C[0]?Ll:null;n.g=null,n.C=null,e||Fi(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function tE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function Ka(n){return n.g?n.g.readyState:0}function pg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ku:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function gg(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function nE(n){let e="";return sd(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Tn(n,e,t))}function Hl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function mg(n){this.za=0,this.l=[],this.h=new Kp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hl("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hl("baseRetryDelayMs",5e3,n),this.$a=Hl("retryDelaySeedMs",1e4,n),this.Ya=Hl("forwardChannelMaxRetries",2,n),this.ra=Hl("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ag(n&&n.concurrentRequestLimit),this.Ca=new o_,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function iE(n){if(rE(n),3==n.G){var e=n.V++,t=za(n.F);Tn(t,"SID",n.J),Tn(t,"RID",e),Tn(t,"TYPE","terminate"),Zu(n,t),(e=new hd(n,n.h,e,void 0)).K=2,e.v=bs(za(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(t=Vt.navigator.sendBeacon(e.v.toString(),"")),!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=h_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Gh(e)}lE(n)}function Yh(n){n.g&&(u_(n),n.g.cancel(),n.g=null)}function rE(n){Yh(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),Zh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function yg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Yu(n)}function Yu(n){lg(n.i)||n.m||(n.m=!0,Wp(n.Ha,n),n.C=0)}function oE(n,e){var t;t=e?e.m:n.V++;const i=za(n.F);Tn(i,"SID",n.J),Tn(i,"RID",t),Tn(i,"AID",n.U),Zu(n,i),n.o&&n.s&&gg(i,n.o,n.s),t=new hd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=_g(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),s_(n.i,t),e_(t,i,e)}function Zu(n,e){n.j&&eg({},function(t,i){Tn(e,i,t)})}function _g(n,e,t){t=Math.min(n.l.length,t);var i=n.j?ir(n.j.Oa,n.j,n):null;e:{var r=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=r[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let f=!0;for(let _=0;_<t;_++){let E=r[_].h;const I=r[_].g;if(E-=l,0>E)l=Math.max(0,r[_].h-100),f=!1;else try{Zw(I,d,"req"+E+"_")}catch(R){i&&i(I)}}if(f){i=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Mx(n){n.g||n.u||(n.Y=1,Wp(n.Ga,n),n.A=0)}function l_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Bh(ir(n.Ga,n),d_(n,n.A)),n.A++,0))}function u_(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function c_(n){n.g=new hd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=za(n.oa);Tn(e,"RID","rpc"),Tn(e,"SID",n.J),Tn(e,"CI",n.N?"0":"1"),Tn(e,"AID",n.U),Zu(n,e),Tn(e,"TYPE","xmlhttp"),n.o&&n.s&&gg(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=bs(za(e)),t.s=null,t.U=!0,Lw(t,n)}function Zh(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function aE(n,e){var t=null;if(n.g==e){Zh(n),u_(n),n.g=null;var i=2}else{if(!r_(n.i,e))return;t=e.D,Kw(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Fi(i=Yp(),new Zp(i,t,e,r)),Yu(n)}else Mx(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function sE(n,e){return!(ug(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Bh(ir(n.Ha,n,e),d_(n,n.C)),n.C++,0)))}(n,e)||2==i&&l_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:$l(n,5);break;case 4:$l(n,10);break;case 3:$l(n,6);break;default:$l(n,2)}}function d_(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function $l(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=ir(n.jb,n);t||(t=new jl("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||ng(t,"https"),bs(t)),function Qw(n,e){const t=new Kp;if(Vt.Image){const i=new Image;i.onload=Vl(zh,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Vl(zh,t,i,"TestLoadImage: error",!1,e),i.onabort=Vl(zh,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Vl(zh,t,i,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Pr(2);n.G=0,n.j&&n.j.va(e),lE(n),rE(n)}function lE(n){n.G=0,n.I=-1,n.j&&((0!=Yw(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Vp(n.l),n.l.length=0),n.j.ua())}function uE(n,e,t){let i=function Dx(n){return n instanceof jl?za(n):new jl(n,void 0)}(t);if(""!=i.i)e&&ig(i,e+"."+i.i),Gl(i,i.m);else{const r=Vt.location;i=function t_(n,e,t,i){var r=new jl(null,void 0);return n&&ng(r,n),e&&ig(r,e),t&&Gl(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&sd(n.aa,function(r,l){Tn(i,l,r)}),t=n.sa,(e=n.D)&&t&&Tn(i,e,t),Tn(i,"VER",n.ma),Zu(n,i),i}function h_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sn(t&&n.Ba&&!n.qa?new gd({ib:!0}):n.qa)).L=n.H,e}function cE(){}function Qh(){if(od&&!(10<=Number(Oy)))throw Error("Environmental error: no available transport.")}function ts(n,e){Wi.call(this),this.g=new mg(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Bp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new yd(this)}function f_(n){Pw.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function p_(){Qp.call(this),this.status=1}function yd(n){this.g=n}(at=sn.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xy.g(),this.C=function Wu(n){return n.h||(n.h=n.i())}(this.u?this.u:Xy),this.g.onreadystatechange=ir(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Jw(this,l)}n=t||"";const r=new qu(this.headers);i&&eg(i,function(l,d){r.set(d,l)}),i=function pw(n){e:{var e=qh;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Vt.FormData&&n instanceof Vt.FormData,!(0<=Dy(Tx,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{tE(this),0<this.B&&((this.K=function MM(n){return od&&function dx(){return function lx(n){var e=Ew;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=mw(String($a)).split("."),t=mw("9").split("."),i=Math.max(e.length,t.length);for(let d=0;0==n&&d<i;d++){var r=e[d]||"",l=t[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==r[0].length&&0==l[0].length)break;n=yw(0==r[1].length?0:parseInt(r[1],10),0==l[1].length?0:parseInt(l[1],10))||yw(0==r[2].length,0==l[2].length)||yw(r[2],l[2]),r=r[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ir(this.pa,this)):this.A=Wy(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Jw(this,l)}},at.pa=function(){void 0!==Ey&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fi(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fi(this,"complete"),Fi(this,"abort"),Kh(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kh(this,!0)),sn.Z.M.call(this)},at.Fa=function(){this.s||(this.F||this.v||this.l?eE(this):this.cb())},at.cb=function(){eE(this)},at.ba=function(){try{return 2<Ka(this)?this.g.status:-1}catch(n){return-1}},at.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},at.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Xw(e)}},at.Da=function(){return this.m},at.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=mg.prototype).ma=8,at.G=1,at.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},at.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new hd(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=_w(l),Ay(l,this.P)):l=this.P),null===this.o&&(r.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=_g(this,r,e),Tn(t=za(this.F),"RID",n),Tn(t,"CVER",22),this.D&&Tn(t,"X-HTTP-Session-Id",this.D),Zu(this,t),this.o&&l&&gg(t,this.o,l),s_(this.i,r),this.Ra&&Tn(t,"TYPE","init"),this.ja?(Tn(t,"$req",e),Tn(t,"SID","null"),r.$=!0,e_(r,t,null)):e_(r,t,e),this.G=2}}else 3==this.G&&(n?oE(this,n):0==this.l.length||lg(this.i)||oE(this))},at.Ga=function(){if(this.u=null,c_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Bh(ir(this.bb,this),n)}},at.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pr(10),Yh(this),c_(this))},at.ab=function(){null!=this.v&&(this.v=null,Yh(this),l_(this),Pr(19))},at.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Pr(2)):(this.h.info("Failed to ping google.com"),Pr(1))},(at=cE.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Oa=function(){},Qh.prototype.g=function(n,e){return new ts(n,e)},pi(ts,Wi),ts.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Wp(ir(n.hb,n,e))),Pr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=uE(n,null,n.W),Yu(n)},ts.prototype.close=function(){iE(this.g)},ts.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,yg(this.g,e)}else this.v?((e={}).__data__=zp(n),yg(this.g,e)):yg(this.g,n)},ts.prototype.M=function(){this.g.j=null,delete this.j,iE(this.g),delete this.g,ts.Z.M.call(this)},pi(f_,Pw),pi(p_,Qp),pi(yd,cE),yd.prototype.xa=function(){Fi(this.g,"a")},yd.prototype.wa=function(n){Fi(this.g,new f_(n))},yd.prototype.va=function(n){Fi(this.g,new p_(n))},yd.prototype.ua=function(){Fi(this.g,"b")},Qh.prototype.createWebChannel=Qh.prototype.g,ts.prototype.send=ts.prototype.u,ts.prototype.open=ts.prototype.m,ts.prototype.close=ts.prototype.close,Zy.NO_ERROR=0,Zy.TIMEOUT=8,Zy.HTTP_ERROR=6,kw.COMPLETE="complete",Fw.EventType=ea,ea.OPEN="a",ea.CLOSE="b",ea.ERROR="c",ea.MESSAGE="d",Wi.prototype.listen=Wi.prototype.N,sn.prototype.listenOnce=sn.prototype.O,sn.prototype.getLastError=sn.prototype.La,sn.prototype.getLastErrorCode=sn.prototype.Da,sn.prototype.getStatus=sn.prototype.ba,sn.prototype.getResponseJson=sn.prototype.Qa,sn.prototype.getResponseText=sn.prototype.ga,sn.prototype.send=sn.prototype.ea;var Rx=Xo.createWebChannelTransport=function(){return new Qh},RM=Xo.getStatEventTarget=function(){return Yp()},vg=Xo.ErrorCode=Zy,OM=Xo.EventType=kw,kM=Xo.Event=Jo,Ox=Xo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},FM=Xo.FetchXmlHttpFactory=gd,g_=Xo.WebChannel=Fw,PM=Xo.XhrIo=sn;const kx="@firebase/firestore";class pr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");let Ya="9.6.10";const Qu=new Nl.Yd("@firebase/firestore");function bg(){return Qu.logLevel}function Ve(n,...e){if(Qu.logLevel<=Nl.in.DEBUG){const t=e.map(Xh);Qu.debug(`Firestore (${Ya}): ${n}`,...t)}}function gi(n,...e){if(Qu.logLevel<=Nl.in.ERROR){const t=e.map(Xh);Qu.error(`Firestore (${Ya}): ${n}`,...t)}}function wg(n,...e){if(Qu.logLevel<=Nl.in.WARN){const t=e.map(Xh);Qu.warn(`Firestore (${Ya}): ${n}`,...t)}}function Xh(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: `+n;throw gi(e),new Error(e)}function Rt(n,e){n||lt()}function Je(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pr.UNAUTHENTICATED))}shutdown(){}}class LM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VM{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const l=E=>this.i!==r?(r=this.i,t(E)):Promise.resolve();let d=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Ii,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const E=d;e.enqueueRetryable((0,Ee.Z)(function*(){yield E.promise,yield l(i.currentUser)}))},_=E=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>_(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?_(E):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Ii)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Rt("string"==typeof i.accessToken),new hE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new pr(e)}}class Fx{constructor(e,t,i){this.type="FirstParty",this.user=pr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class BM{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new Fx(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UM{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=l=>{null!=l.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,Ve("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const r=l=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>r(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?r(l):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt("string"==typeof t.token),this.p=t.token,new fE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Nr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Px(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}Nr.A=-1;class Ys{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Px(40);for(let l=0;l<r.length;++l)i.length<20&&r[l]<t&&(i+=e.charAt(r[l]%e.length))}return i}}function Qt(n,e){return n<e?-1:n>e?1:0}function zl(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function pE(n){return n+"\0"}class mi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mi.fromMillis(Date.now())}static fromDate(e){return mi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new mi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new mi(0,0))}static max(){return new At(new mi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function y_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class _d{constructor(e,t,i){void 0===t?t=0:t>e.length&&lt(),void 0===i?i=e.length-t:i>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===_d.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _d?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const l=e.get(r),d=t.get(r);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends _d{construct(e,t,i){return new tn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Fe(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const Nx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qi extends _d{construct(e,t,i){return new qi(e,t,i)}static isValidIdentifier(e){return Nx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const l=()=>{if(0===i.length)throw new Fe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Fe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Fe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(d=!d,r++):"."!==f||d?(i+=f,r++):(l(),r++)}if(l(),d)throw new Fe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qi(t)}static emptyPath(){return new qi([])}}class ql{constructor(e){this.fields=e,e.sort(qi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Pi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let l=0;l<i.length;++l)r+=String.fromCharCode(i[l]);return r}(e);return new Pi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const GM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kl(n){if(Rt(!!n),"string"==typeof n){let e=0;const t=GM.exec(n);if(Rt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zn(n.seconds),nanos:Zn(n.nanos)}}function Zn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vd(n){return"string"==typeof n?Pi.fromBase64String(n):Pi.fromUint8Array(n)}function __(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function v_(n){const e=n.mapValue.fields.__previous_value__;return __(e)?v_(e):e}function Jh(n){const e=Kl(n.mapValue.fields.__local_write_time__.timestampValue);return new mi(e.seconds,e.nanos)}class HM{constructor(e,t,i,r,l,d,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class ta{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}function Yl(n){return null==n}function ef(n){return 0===n&&1/n==-1/0}function mE(n){return"number"==typeof n&&Number.isInteger(n)&&!ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(tn.fromString(e))}static fromName(e){return new $e(tn.fromString(e).popFirst(5))}static empty(){return new $e(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new tn(e.slice()))}}const Eg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cg={nullValue:"NULL_VALUE"};function Zl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?__(n)?4:Lx(n)?9:10:lt()}function na(n,e){if(n===e)return!0;const t=Zl(n);if(t!==Zl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jh(n).isEqual(Jh(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const l=Kl(i.timestampValue),d=Kl(r.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,vd(n.bytesValue).isEqual(vd(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Zn(i.geoPointValue.latitude)===Zn(r.geoPointValue.latitude)&&Zn(i.geoPointValue.longitude)===Zn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Zn(i.integerValue)===Zn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const l=Zn(i.doubleValue),d=Zn(r.doubleValue);return l===d?ef(l)===ef(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return zl(n.arrayValue.values||[],e.arrayValue.values||[],na);case 10:return function(i,r){const l=i.mapValue.fields||{},d=r.mapValue.fields||{};if(y_(l)!==y_(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===d[f]||!na(l[f],d[f])))return!1;return!0}(n,e);default:return lt()}var r}function bd(n,e){return void 0!==(n.values||[]).find(t=>na(t,e))}function Za(n,e){if(n===e)return 0;const t=Zl(n),i=Zl(e);if(t!==i)return Qt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,e.booleanValue);case 2:return function(r,l){const d=Zn(r.integerValue||r.doubleValue),f=Zn(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return yE(n.timestampValue,e.timestampValue);case 4:return yE(Jh(n),Jh(e));case 5:return Qt(n.stringValue,e.stringValue);case 6:return function(r,l){const d=vd(r),f=vd(l);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,l){const d=r.split("/"),f=l.split("/");for(let _=0;_<d.length&&_<f.length;_++){const E=Qt(d[_],f[_]);if(0!==E)return E}return Qt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,l){const d=Qt(Zn(r.latitude),Zn(l.latitude));return 0!==d?d:Qt(Zn(r.longitude),Zn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,l){const d=r.values||[],f=l.values||[];for(let _=0;_<d.length&&_<f.length;++_){const E=Za(d[_],f[_]);if(E)return E}return Qt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,l){const d=r.fields||{},f=Object.keys(d),_=l.fields||{},E=Object.keys(_);f.sort(),E.sort();for(let I=0;I<f.length&&I<E.length;++I){const R=Qt(f[I],E[I]);if(0!==R)return R;const G=Za(d[f[I]],_[E[I]]);if(0!==G)return G}return Qt(f.length,E.length)}(n.mapValue,e.mapValue);default:throw lt()}}function yE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qt(n,e);const t=Kl(n),i=Kl(e),r=Qt(t.seconds,i.seconds);return 0!==r?r:Qt(t.nanos,i.nanos)}function wd(n){return _E(n)}function _E(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Kl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vd(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",l=!0;for(const d of i.values||[])l?l=!1:r+=",",r+=_E(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",d=!0;for(const f of r)d?d=!1:l+=",",l+=`${f}:${_E(i.fields[f])}`;return l+"}"}(n.mapValue):lt();var e}function tf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Dg(n){return!!n&&"integerValue"in n}function nf(n){return!!n&&"arrayValue"in n}function vE(n){return!!n&&"nullValue"in n}function bE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function b_(n){return!!n&&"mapValue"in n}function xg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=xg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Lx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Vx(n,e){return void 0===n?e:void 0===e||Za(n,e)>0?n:e}function Bx(n,e){return void 0===n?e:void 0===e||Za(n,e)<0?n:e}class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!b_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xg(t)}setAll(e){let t=qi.emptyPath(),i={},r=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}d?i[f.lastSegment()]=xg(d):r.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,r)}delete(e){const t=this.field(e.popLast());b_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];b_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Wl(t,(r,l)=>e[r]=l);for(const r of i)delete e[r]}clone(){return new gr(xg(this.value))}}function rf(n){const e=[];return Wl(n.fields,(t,i)=>{const r=new qi([t]);if(b_(i)){const l=rf(i.mapValue).fields;if(0===l.length)e.push(r);else for(const d of l)e.push(r.child(d))}else e.push(r)}),new ql(e)}class Bn{constructor(e,t,i,r,l,d){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Bn(e,0,At.min(),At.min(),gr.empty(),0)}static newFoundDocument(e,t,i){return new Bn(e,1,t,At.min(),i,0)}static newNoDocument(e,t){return new Bn(e,2,t,At.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,At.min(),gr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ig{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Ag(n){return n.fields.find(e=>2===e.kind)}function Zs(n){return n.fields.filter(e=>2!==e.kind)}Ig.UNKNOWN_ID=-1;class sf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xu(0,wo.min())}}function Sg(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(1e9===i?new mi(t+1,0):new mi(t,i));return new wo(r,$e.empty(),e)}function Ux(n){return new wo(n.readTime,n.key,-1)}class wo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new wo(At.min(),$e.empty(),-1)}static max(){return new wo(At.max(),$e.empty(),-1)}}function w_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$e.comparator(n.documentKey,e.documentKey),0!==t?t:Qt(n.largestBatchId,e.largestBatchId))}class Tg{constructor(e,t=null,i=[],r=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=l,this.startAt=d,this.endAt=f,this.P=null}}function jx(n,e=null,t=[],i=[],r=null,l=null,d=null){return new Tg(n,e,t,i,r,l,d)}function Ed(n){const e=Je(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+wd(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Yl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>wd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>wd(i)).join(",")),e.P=t}return e.P}function Mg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!DE(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!na(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xE(n.startAt,e.startAt)&&xE(n.endAt,e.endAt)}function af(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Rg(n,e){return n.filters.filter(t=>t instanceof sr&&t.field.isEqual(e))}class sr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new Gx(e,t,i):"array-contains"===t?new EE(e,i):"in"===t?new $x(e,i):"not-in"===t?new zx(e,i):"array-contains-any"===t?new CE(e,i):new sr(e,t,i)}static V(e,t,i){return"in"===t?new Hx(e,i):new wE(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Za(t,this.value)):null!==t&&Zl(this.value)===Zl(t)&&this.v(Za(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Gx extends sr{constructor(e,t,i){super(e,t,i),this.key=$e.fromName(i.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.v(t)}}class Hx extends sr{constructor(e,t){super(e,"in",t),this.keys=E_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wE extends sr{constructor(e,t){super(e,"not-in",t),this.keys=E_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function E_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>$e.fromName(i.referenceValue))}class EE extends sr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nf(t)&&bd(t.arrayValue,this.value)}}class $x extends sr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bd(this.value.arrayValue,t)}}class zx extends sr{constructor(e,t){super(e,"not-in",t)}matches(e){if(bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bd(this.value.arrayValue,t)}}class CE extends sr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>bd(this.value.arrayValue,i))}}class ia{constructor(e,t){this.position=e,this.inclusive=t}}class lf{constructor(e,t="asc"){this.field=e,this.dir=t}}function DE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Og(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const l=e[r],d=n.position[r];if(i=l.field.isKeyField()?$e.comparator($e.fromName(d.referenceValue),t.key):Za(d,t.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function xE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!na(n.position[t],e.position[t]))return!1;return!0}class Qa{constructor(e,t=null,i=[],r=[],l=null,d="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function Wx(n,e,t,i,r,l,d,f){return new Qa(n,e,t,i,r,l,d,f)}function uf(n){return new Qa(n)}function C_(n){return!Yl(n.limit)&&"F"===n.limitType}function kg(n){return!Yl(n.limit)&&"L"===n.limitType}function D_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function IE(n){for(const e of n.filters)if(e.S())return e.field;return null}function AE(n){return null!==n.collectionGroup}function cf(n){const e=Je(n);if(null===e.D){e.D=[];const t=IE(e),i=D_(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new lf(t)),e.D.push(new lf(qi.keyField(),"asc"));else{let r=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(r=!0);if(!r){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new lf(qi.keyField(),l))}}}return e.D}function Eo(n){const e=Je(n);if(!e.C)if("F"===e.limitType)e.C=jx(e.path,e.collectionGroup,cf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of cf(e))t.push(new lf(l.field,"desc"===l.dir?"asc":"desc"));const i=e.endAt?new ia(e.endAt.position,!e.endAt.inclusive):null,r=e.startAt?new ia(e.startAt.position,!e.startAt.inclusive):null;e.C=jx(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function qx(n,e,t){return new Qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function df(n,e){return Mg(Eo(n),Eo(e))&&n.limitType===e.limitType}function Kx(n){return`${Ed(Eo(n))}|lt:${n.limitType}`}function SE(n){return`Query(target=${function $M(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${wd(i.value)}`;var i}).join(", ")}]`),Yl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>wd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>wd(t)).join(",")),`Target(${e})`}(Eo(n))}; limitType=${n.limitType})`}function TE(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):$e.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,l,d){const f=Og(r,l,d);return r.inclusive?f<=0:f<0}(t.startAt,cf(t),i)||t.endAt&&!function(r,l,d){const f=Og(r,l,d);return r.inclusive?f>=0:f>0}(t.endAt,cf(t),i)));var t,i}function Yx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function s(n){return(e,t)=>{let i=!1;for(const r of cf(n)){const l=o(r,e,t);if(0!==l)return l;i=i||r.field.isKeyField()}return 0}}function o(n,e,t){const i=n.field.isKeyField()?$e.comparator(e.key,t.key):function(r,l,d){const f=l.data.field(r),_=d.data.field(r);return null!==f&&null!==_?Za(f,_):lt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return lt()}}function a(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function u(n){return{integerValue:""+n}}function h(n,e){return mE(e)?u(e):a(n,e)}class p{constructor(){this._=void 0}}function y(n,e,t){return n instanceof S?function(i,r){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(l.fields.__previous_value__=r),{mapValue:l}}(t,e):n instanceof T?L(n,e):n instanceof $?ee(n,e):function(i,r){const l=C(i,r),d=Be(l)+Be(i.k);return Dg(l)&&Dg(i.k)?u(d):a(i.M,d)}(n,e)}function b(n,e,t){return n instanceof T?L(n,e):n instanceof $?ee(n,e):t}function C(n,e){return n instanceof ve?Dg(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class S extends p{}class T extends p{constructor(e){super(),this.elements=e}}function L(n,e){const t=We(e);for(const i of n.elements)t.some(r=>na(r,i))||t.push(i);return{arrayValue:{values:t}}}class $ extends p{constructor(e){super(),this.elements=e}}function ee(n,e){let t=We(e);for(const i of n.elements)t=t.filter(r=>!na(r,i));return{arrayValue:{values:t}}}class ve extends p{constructor(e,t){super(),this.M=e,this.k=t}}function Be(n){return Zn(n.integerValue||n.doubleValue)}function We(n){return nf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rt{constructor(e,t){this.field=e,this.transform=t}}class Ct{constructor(e,t){this.version=e,this.transformResults=t}}class wt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wt}static exists(e){return new wt(void 0,e)}static updateTime(e){return new wt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cn(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class mr{}function Ju(n,e,t){n instanceof ec?function(i,r,l){const d=i.value.clone(),f=Lg(i.fieldTransforms,r,l.transformResults);d.setAll(f),r.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Xa?function(i,r,l){if(!cn(i.precondition,r))return void r.convertToUnknownDocument(l.version);const d=Lg(i.fieldTransforms,r,l.transformResults),f=r.data;f.setAll(Ng(i)),f.setAll(d),r.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function hf(n,e,t){var r;n instanceof ec?function(i,r,l){if(!cn(i.precondition,r))return;const d=i.value.clone(),f=Vg(i.fieldTransforms,l,r);d.setAll(f),r.convertToFoundDocument(Pg(r),d).setHasLocalMutations()}(n,e,t):n instanceof Xa?function(i,r,l){if(!cn(i.precondition,r))return;const d=Vg(i.fieldTransforms,l,r),f=r.data;f.setAll(Ng(i)),f.setAll(d),r.convertToFoundDocument(Pg(r),f).setHasLocalMutations()}(n,e,t):cn(n.precondition,r=e)&&r.convertToNoDocument(At.min())}function x_(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),l=C(i.transform,r||null);null!=l&&(null==t&&(t=gr.empty()),t.set(i.field,l))}return t||null}function Fg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&zl(t,i,(r,l)=>function Se(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof T&&i instanceof T||t instanceof $&&i instanceof $?zl(t.elements,i.elements,na):t instanceof ve&&i instanceof ve?na(t.k,i.k):t instanceof S&&i instanceof S);var t,i}(r,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function Pg(n){return n.isFoundDocument()?n.version:At.min()}class ec extends mr{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Xa extends mr{constructor(e,t,i,r,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=l,this.type=1}}function Ng(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Lg(n,e,t){const i=new Map;Rt(n.length===t.length);for(let r=0;r<t.length;r++){const l=n[r],d=l.transform,f=e.data.field(l.field);i.set(l.field,b(d,f,t[r]))}return i}function Vg(n,e,t){const i=new Map;for(const r of n){const l=r.transform,d=t.data.field(r.field);i.set(r.field,y(l,d,e))}return i}class I_ extends mr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Zx extends mr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class VN{constructor(e){this.count=e}}var Ki,fn;function zM(n){switch(n){default:return lt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function WM(n){if(void 0===n)return gi("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Ki.OK:return fe.OK;case Ki.CANCELLED:return fe.CANCELLED;case Ki.UNKNOWN:return fe.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return fe.INTERNAL;case Ki.UNAVAILABLE:return fe.UNAVAILABLE;case Ki.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Ki.NOT_FOUND:return fe.NOT_FOUND;case Ki.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Ki.ABORTED:return fe.ABORTED;case Ki.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Ki.DATA_LOSS:return fe.DATA_LOSS;default:return lt()}}(fn=Ki||(Ki={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class Cd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,l]of i)if(this.equalsFn(r,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return void(r[l]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wl(this.inner,(t,i)=>{for(const[r,l]of i)e(r,l)})}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}class Ni{constructor(e,t){this.comparator=e,this.root=t||Lr.EMPTY}insert(e,t){return new Ni(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new Ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ME(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ME(this.root,e,this.comparator,!1)}getReverseIterator(){return new ME(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ME(this.root,e,this.comparator,!0)}}class ME{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&r&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,t,i,r,l){this.key=e,this.value=t,this.color=null!=i?i:Lr.RED,this.left=null!=r?r:Lr.EMPTY,this.right=null!=l?l:Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,l){return new Lr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const l=i(e,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===l?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Lr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1,Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Lr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new Ni(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qM(this.data.getIterator())}getIteratorFrom(e){return new qM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,l=i.getNext().key;if(0!==this.comparator(r,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class qM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bg(n){return n.hasNext()?n.getNext():void 0}const BN=new Ni($e.comparator);function ra(){return BN}const UN=new Ni($e.comparator);function Qx(){return UN}function A_(){return new Cd(n=>n.toString(),(n,e)=>n.isEqual(e))}const jN=new Ni($e.comparator),GN=new Qn($e.comparator);function Dn(...n){let e=GN;for(const t of n)e=e.add(t);return e}const HN=new Qn(Qt);function RE(){return HN}class S_{constructor(e,t,i,r,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,T_.createSynthesizedTargetChangeForCurrentChange(e,t)),new S_(At.min(),i,RE(),ra(),Dn())}}class T_{constructor(e,t,i,r,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new T_(Pi.EMPTY_BYTE_STRING,t,Dn(),Dn(),Dn())}}class OE{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class KM{constructor(e,t){this.targetId=e,this.$=t}}class YM{constructor(e,t,i=Pi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class ZM{constructor(){this.B=0,this.L=XM(),this.U=Pi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Dn(),t=Dn(),i=Dn();return this.L.forEach((r,l)=>{switch(l){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:lt()}}),new T_(this.U,this.q,e,t,i)}J(){this.G=!1,this.L=XM()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class $N{constructor(e){this.nt=e,this.st=new Map,this.it=ra(),this.rt=QM(),this.ot=new Qn(Qt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.K||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.K||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const l=r.target;if(af(l))if(0===i){const d=new $e(l.path);this.ct(t,d,Bn.newNoDocument(d,At.min()))}else Rt(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const f=this.wt(d);if(f){if(l.current&&af(f.target)){const _=new $e(f.target.path);null!==this.it.get(_)||this.It(d,_)||this.ct(d,_,Bn.newNoDocument(_,e))}l.j&&(t.set(d,l.H()),l.J())}});let i=Dn();this.rt.forEach((l,d)=>{let f=!0;d.forEachWhile(_=>{const E=this.wt(_);return!E||2===E.purpose||(f=!1,!1)}),f&&(i=i.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const r=new S_(e,t,this.ot,this.it,i);return this.it=ra(),this.rt=QM(),this.ot=new Qn(Qt),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new ZM,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Qn(Qt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new ZM),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function QM(){return new Ni($e.comparator)}function XM(){return new Ni($e.comparator)}const zN={asc:"ASCENDING",desc:"DESCENDING"},WN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class qN{constructor(e,t){this.databaseId=e,this.N=t}}function M_(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JM(n,e){return n.N?e.toBase64():e.toUint8Array()}function KN(n,e){return M_(n,e.toTimestamp())}function yr(n){return Rt(!!n),At.fromTimestamp(function(e){const t=Kl(e);return new mi(t.seconds,t.nanos)}(n))}function Xx(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function eR(n){const e=tn.fromString(n);return Rt(uR(e)),e}function R_(n,e){return Xx(n.databaseId,e.path)}function Ql(n,e){const t=eR(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(nR(t))}function Jx(n,e){return Xx(n.databaseId,e)}function tR(n){const e=eR(n);return 4===e.length?tn.emptyPath():nR(e)}function O_(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nR(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iR(n,e,t){return{name:R_(n,e),fields:t.value.mapValue.fields}}function rR(n,e,t){const i=Ql(n,e.name),r=yr(e.updateTime),l=new gr({mapValue:{fields:e.fields}}),d=Bn.newFoundDocument(i,r,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function k_(n,e){let t;if(e instanceof ec)t={update:iR(n,e.key,e.value)};else if(e instanceof I_)t={delete:R_(n,e.key)};else if(e instanceof Xa)t={update:iR(n,e.key,e.data),updateMask:r1(e.fieldMask)};else{if(!(e instanceof Zx))return lt();t={verify:R_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,l){const d=l.transform;if(d instanceof S)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof T)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof $)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ve)return{fieldPath:l.field.canonicalString(),increment:d.k};throw lt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:KN(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:lt()),t;var r}function eI(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?wt.updateTime(yr(r.updateTime)):void 0!==r.exists?wt.exists(r.exists):wt.none():wt.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(l,d){let f=null;"setToServerValue"in d?(Rt("REQUEST_TIME"===d.setToServerValue),f=new S):"appendMissingElements"in d?f=new T(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new $(d.removeAllFromArray.values||[]):"increment"in d?f=new ve(l,d.increment):lt();const _=qi.fromServerFormat(d.fieldPath);return new rt(_,f)}(n,r)):[];var r;if(e.update){const r=Ql(n,e.update.name),l=new gr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new ql((e.updateMask.fieldPaths||[]).map(E=>qi.fromServerFormat(E)));return new Xa(r,l,d,t,i)}return new ec(r,l,t,i)}if(e.delete){const r=Ql(n,e.delete);return new I_(r,t)}if(e.verify){const r=Ql(n,e.verify);return new Zx(r,t)}return lt()}function sR(n,e){return{documents:[Jx(n,e.path)]}}function oR(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Jx(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Jx(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const E=_.map(I=>function(R){if("=="===R.op){if(bE(R.value))return{unaryFilter:{field:Ug(R.field),op:"IS_NAN"}};if(vE(R.value))return{unaryFilter:{field:Ug(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(bE(R.value))return{unaryFilter:{field:Ug(R.field),op:"IS_NOT_NAN"}};if(vE(R.value))return{unaryFilter:{field:Ug(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ug(R.field),op:e1(R.op),value:R.value}}}(I));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);r&&(t.structuredQuery.where=r);const l=function(_){if(0!==_.length)return _.map(E=>{return{field:Ug((I=E).field),direction:JN(I.dir)};var I})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(E=e.limit,n.N||Yl(E)?E:{value:E});var E,f,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function aR(n){let e=tR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Rt(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let l=[];t.where&&(l=lR(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(I=>{return new lf(jg((R=I).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let f=null;t.limit&&(f=function(I){let R;return R="object"==typeof I?I.value:I,Yl(R)?null:R}(t.limit));let _=null;var I;t.startAt&&(_=new ia((I=t.startAt).values||[],!!I.before));let E=null;return t.endAt&&(E=function(I){return new ia(I.values||[],!I.before)}(t.endAt)),Wx(e,r,d,l,f,"F",_,E)}function lR(n){return n?void 0!==n.unaryFilter?[n1(n)]:void 0!==n.fieldFilter?[t1(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>lR(e)).reduce((e,t)=>e.concat(t)):lt():[]}function JN(n){return zN[n]}function e1(n){return WN[n]}function Ug(n){return{fieldPath:n.canonicalString()}}function jg(n){return qi.fromServerFormat(n.fieldPath)}function t1(n){return sr.create(jg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function n1(n){switch(n.unaryFilter.op){case"IS_NAN":const e=jg(n.unaryFilter.field);return sr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=jg(n.unaryFilter.field);return sr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=jg(n.unaryFilter.field);return sr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=jg(n.unaryFilter.field);return sr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}function r1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function _r(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cR(e)),e=s1(n.get(t),e);return cR(e)}function s1(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const l=n.charAt(r);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function cR(n){return n+"\x01\x01"}function Ja(n){const e=n.length;if(Rt(e>=2),2===e)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,i=[];let r="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&lt(),n.charAt(d+1)){case"\x01":const f=n.substring(l,d);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(l,d),r+="\0";break;case"\x11":r+=n.substring(l,d+1);break;default:lt()}l=d+2}return new tn(i)}const dR=["userId","batchId"];function kE(n,e){return[n,_r(e)]}function hR(n,e,t){return[n,_r(e),t]}const o1={},a1=["prefixPath","collectionGroup","readTime","documentId"],l1=["prefixPath","collectionGroup","documentId"],u1=["collectionGroup","readTime","prefixPath","documentId"],c1=["canonicalId","targetId"],d1=["targetId","path"],h1=["path","targetId"],f1=["collectionId","parent"],p1=["indexId","uid"],g1=["uid","sequenceNumber"],m1=["indexId","uid","arrayValue","directionalValue","documentKey"],y1=["indexId","uid","documentKey"],_1=["userId","collectionPath","documentId"],v1=["userId","collectionPath","largestBatchId"],b1=["userId","collectionGroup","largestBatchId"],fR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],w1=[...fR,"documentOverlays"],pR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],E1=[...pR,"indexConfiguration","indexState","indexEntries"],gR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((i,r)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,r)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,i)=>{t(e)})}static reject(e){return new be((t,i)=>{i(e)})}static waitFor(e){return new be((t,i)=>{let r=0,l=0,d=!1;e.forEach(f=>{++r,f.next(()=>{++l,d&&l===r&&t()},_=>i(_))}),d=!0,l===r&&t()})}static or(e){let t=be.resolve(!1);for(const i of e)t=t.next(r=>r?be.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,l)=>{i.push(t.call(this,r,l))}),this.waitFor(i)}}class FE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Ii,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new F_(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=tI(i.target.error);this.At.reject(new F_(e,r))}}static open(e,t,i,r){try{return new FE(t,e.transaction(r,i))}catch(l){throw new F_(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new D1(t)}}class el{constructor(e,t,i){this.name=e,this.version=t,this.Pt=i,12.2===el.Vt((0,Yt.z$)())&&gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),pf(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Yt.hl)())return!1;if(el.St())return!0;const e=(0,Yt.z$)(),t=el.Vt(e),i=0<t&&t<10,r=el.Dt(e),l=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{i(d.target.result)},l.onblocked=()=>{r(new F_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const f=d.target.error;r("VersionError"===f.name?new Fe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Fe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new F_(e,f))},l.onupgradeneeded=d=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var l=this;return(0,Ee.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.Nt(e);const _=FE.open(l.db,e,d?"readonly":"readwrite",i),E=r(_).next(I=>(_.bt(),I)).catch(I=>(_.abort(I),be.reject(I))).toPromise();return E.catch(()=>{}),yield _.Rt,E}catch(_){const E="FirebaseError"!==_.name&&f<3;if(Ve("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),l.close(),!E)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class C1{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return pf(this.Ft.delete())}}class F_ extends Fe{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ff(n){return"IndexedDbTransactionError"===n.name}class D1{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),pf(i)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),pf(this.store.add(e))}get(e){return pf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),pf(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),pf(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),l=[];return this.Gt(r,(d,f)=>{l.push(f)}).next(()=>l)}{const r=this.store.getAll(i.range);return new be((l,d)=>{r.onerror=f=>{d(f.target.error)},r.onsuccess=f=>{l(f.target.result)}})}}Kt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new be((r,l)=>{i.onerror=d=>{l(d.target.error)},i.onsuccess=d=>{r(d.target.result)}})}Qt(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Gt(r,(l,d,f)=>f.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Gt(r,t)}zt(e){const t=this.cursor({});return new be((i,r)=>{t.onerror=l=>{const d=tI(l.target.error);r(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():i()}):i()}})}Gt(e,t){const i=[];return new be((r,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void r();const _=new C1(f),E=t(f.primaryKey,f.value,_);if(E instanceof be){const I=E.catch(R=>(_.done(),be.reject(R)));i.push(I)}_.isDone?r():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>be.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function pf(n){return new be((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=tI(i.target.error);t(r)}})}let yR=!1;function tI(n){const e=el.Vt((0,Yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yR||(yR=!0,setTimeout(()=>{throw i},0)),i}}return n}class _R extends mR{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function vr(n,e){const t=Je(n);return el.xt(t.Ht,e)}class nI{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(e.key)&&Ju(l,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&hf(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&hf(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(t,i)=>Fg(t,i))&&zl(this.baseMutations,e.baseMutations,(t,i)=>Fg(t,i))}}class iI{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Rt(e.mutations.length===i.length);let r=jN;const l=e.mutations;for(let d=0;d<l.length;d++)r=r.insert(l[d].key,i[d].version);return new iI(e,t,i,r)}}class rI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dd{constructor(e,t,i,r,l=At.min(),d=At.min(),f=Pi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Dd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Dd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Dd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class vR{constructor(e){this.Jt=e}}function bR(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:PE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:R_(r=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:M_(r,l.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:gf(e.version)};else{if(!e.isUnknownDocument())return lt();i.unknownDocument={path:t.path.toArray(),version:gf(e.version)}}var r,l;return i}function PE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function gf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function mf(n){const e=new mi(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function Gg(n,e){const t=(e.baseMutations||[]).map(l=>eI(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const i=e.mutations.map(l=>eI(n.Jt,l)),r=mi.fromMillis(e.localWriteTimeMs);return new nI(e.batchId,r,t,i)}function P_(n){const e=mf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?mf(n.lastLimboFreeSnapshotVersion):At.min();let i;var r;return void 0!==n.query.documents?(Rt(1===(r=n.query).documents.length),i=Eo(uf(tR(r.documents[0])))):i=Eo(aR(n.query)),new Dd(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Pi.fromBase64String(n.resumeToken))}function wR(n,e){const t=gf(e.snapshotVersion),i=gf(e.lastLimboFreeSnapshotVersion);let r;r=af(e.target)?sR(n.Jt,e.target):oR(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ed(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function sI(n){const e=aR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qx(e,e.limit,"L"):e}function oI(n,e){return new rI(e.largestBatchId,eI(n.Jt,e.overlayMutation))}function ER(n,e){const t=e.path.lastSegment();return[n,_r(e.path.popLast()),t]}class I1{getBundleMetadata(e,t){return CR(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:mf(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return CR(e).put({bundleId:(i=t).id,createTime:gf(yr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return DR(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:sI(r.bundledQuery),readTime:mf(r.readTime)};var r})}saveNamedQuery(e,t){return DR(e).put({name:(i=t).name,readTime:gf(yr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function CR(n){return vr(n,"bundles")}function DR(n){return vr(n,"namedQueries")}class aI{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new aI(e,t.uid||"")}getOverlay(e,t){return N_(e).get(ER(this.userId,t)).next(i=>i?oI(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((l,d)=>{const f=new rI(t,d);r.push(this.Xt(e,f))}),be.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(d=>r.add(_r(d.getCollectionPath())));const l=[];return r.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);l.push(N_(e).Qt("collectionPathOverlayIndex",f))}),be.waitFor(l)}getOverlaysForCollection(e,t,i){const r=A_(),l=_r(t),d=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return N_(e).qt("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const E=oI(this.M,_);r.set(E.getKey(),E)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const l=A_();let d;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return N_(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,E,I)=>{const R=oI(this.M,E);l.size()<r||R.largestBatchId===d?(l.set(R.getKey(),R),d=R.largestBatchId):I.done()}).next(()=>l)}Xt(e,t){return N_(e).put(function(i,r,l){const[d,f,_]=ER(r,l.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:k_(i.Jt,l.mutation)}}(this.M,this.userId,t))}}function N_(n){return vr(n,"documentOverlays")}class Hg{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Zn(e.integerValue));else if("doubleValue"in e){const i=Zn(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),ef(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(vd(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Lx(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):lt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),$e.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function A1(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function xR(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const l=A1(255&t[r]);if(i+=l,8!==l)break}return i}(n);return Math.ceil(e/8)}Hg.fe=new Hg;class S1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=xR(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=xR(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,r,!1),new Uint8Array(l.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class T1{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class M1{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class NE{constructor(){this.De=new S1,this.Ce=new T1(this.De),this.xe=new M1(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class xd{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new xd(this.indexId,this.documentKey,this.arrayValue,i)}}function yf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=IR(n.arrayValue,e.arrayValue),0!==t?t:(t=IR(n.directionalValue,e.directionalValue),0!==t?t:$e.comparator(n.documentKey,e.documentKey)))}function IR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class R1{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=Ag(e);if(void 0!==t&&!this.Be(t))return!1;const i=Zs(e);let r=0,l=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const d=i[r];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[l++],d))return!1;++r}for(;r<i.length;++r){const d=i[r];if(l>=this.Me.length||!this.Ue(this.Me[l++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class O1{constructor(){this.qe=new lI}addToCollectionParentIndex(e,t){return this.qe.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getFieldIndex(e,t){return be.resolve(null)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}updateCollectionGroup(e,t,i){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class lI{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Qn(tn.comparator),l=!r.has(i);return this.index[t]=r.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Qn(tn.comparator)).toArray()}}const LE=new Uint8Array(0);class k1{constructor(e){this.user=e,this.Ge=new lI,this.Ke=new Cd(t=>Ed(t),(t,i)=>Mg(t,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:i,parent:_r(r)};return AR(e).put(l)}return be.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[pE(t),""],!1,!0);return AR(e).qt(r).next(l=>{for(const d of l){if(d.collectionId!==t)break;i.push(Ja(d.parent))}return i})}addFieldIndex(e,t){const i=VE(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=VE(e),r=BE(e),l=L_(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=L_(e);let r=!0;const l=new Map;return be.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(f=>{r&&(r=!!f),l.set(d,f)})).next(()=>{if(r){let d=Dn();return be.forEach(l,(f,_)=>{var E;Ve("IndexedDbIndexManager",`Using index ${E=f,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(Xe=>`${Xe.fieldPath}:${Xe.kind}`).join(",")}`} to execute ${Ed(t)}`);const I=function(Xe,Ht){const ut=Ag(Ht);if(void 0===ut)return null;for(const Ut of Rg(Xe,ut.fieldPath))switch(Ut.op){case"array-contains-any":return Ut.value.arrayValue.values||[];case"array-contains":return[Ut.value]}return null}(_,f),R=function(Xe,Ht){const ut=new Map;for(const Ut of Zs(Ht))for(const Ot of Rg(Xe,Ut.fieldPath))switch(Ot.op){case"==":case"in":ut.set(Ut.fieldPath.canonicalString(),Ot.value);break;case"not-in":case"!=":return ut.set(Ut.fieldPath.canonicalString(),Ot.value),Array.from(ut.values())}return null}(_,f),G=function(Xe,Ht){const ut=[];let Ut=!0;for(const Hn of Zs(Ht)){let _i,Ur=!0;for(const xn of Rg(Xe,Hn.fieldPath)){let $n,oa=!0;switch(xn.op){case"<":case"<=":$n="nullValue"in(Ot=xn.value)?Cg:"booleanValue"in Ot?{booleanValue:!1}:"integerValue"in Ot||"doubleValue"in Ot?{doubleValue:NaN}:"timestampValue"in Ot?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Ot?{stringValue:""}:"bytesValue"in Ot?{bytesValue:""}:"referenceValue"in Ot?tf(ta.empty(),$e.empty()):"geoPointValue"in Ot?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Ot?{arrayValue:{}}:"mapValue"in Ot?{mapValue:{}}:lt();break;case"==":case"in":case">=":$n=xn.value;break;case">":$n=xn.value,oa=!1;break;case"!=":case"not-in":$n=Cg}Vx(_i,$n)===$n&&(_i=$n,Ur=oa)}if(null!==Xe.startAt)for(let xn=0;xn<Xe.orderBy.length;++xn)if(Xe.orderBy[xn].field.isEqual(Hn.fieldPath)){const $n=Xe.startAt.position[xn];Vx(_i,$n)===$n&&(_i=$n,Ur=Xe.startAt.inclusive);break}if(void 0===_i)return null;ut.push(_i),Ut&&(Ut=Ur)}var Ot;return new ia(ut,Ut)}(_,f),K=function(Xe,Ht){const ut=[];let Ut=!0;for(const Hn of Zs(Ht)){let _i,Ur=!0;for(const xn of Rg(Xe,Hn.fieldPath)){let $n,oa=!0;switch(xn.op){case">=":case">":$n="nullValue"in(Ot=xn.value)?{booleanValue:!1}:"booleanValue"in Ot?{doubleValue:NaN}:"integerValue"in Ot||"doubleValue"in Ot?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Ot?{stringValue:""}:"stringValue"in Ot?{bytesValue:""}:"bytesValue"in Ot?tf(ta.empty(),$e.empty()):"referenceValue"in Ot?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Ot?{arrayValue:{}}:"arrayValue"in Ot?{mapValue:{}}:"mapValue"in Ot?Eg:lt(),oa=!1;break;case"==":case"in":case"<=":$n=xn.value;break;case"<":$n=xn.value,oa=!1;break;case"!=":case"not-in":$n=Eg}Bx(_i,$n)===$n&&(_i=$n,Ur=oa)}if(null!==Xe.endAt)for(let xn=0;xn<Xe.orderBy.length;++xn)if(Xe.orderBy[xn].field.isEqual(Hn.fieldPath)){const $n=Xe.endAt.position[xn];Bx(_i,$n)===$n&&(_i=$n,Ur=Xe.endAt.inclusive);break}if(void 0===_i)return null;ut.push(_i),Ut&&(Ut=Ur)}var Ot;return new ia(ut,Ut)}(_,f),Q=this.je(f,_,G),ce=this.je(f,_,K),Le=this.We(f,_,R),tt=this.ze(f.indexId,I,Q,!!G&&G.inclusive,ce,!!K&&K.inclusive,Le);return be.forEach(tt,Xe=>i.Kt(Xe,t.limit).next(Ht=>{Ht.forEach(ut=>{d=d.add(new $e(Ja(ut.documentKey)))})}))}).next(()=>d)}return be.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,i,r,l,d,f){const _=(null!=t?t.length:1)*Math.max(null!=i?i.length:1,null!=l?l.length:1),E=_/(null!=t?t.length:1),I=[];for(let R=0;R<_;++R){const G=t?this.He(t[R/E]):LE,K=i?this.Je(e,G,i[R%E],r):this.Ye(e),Q=l?this.Xe(e,G,l[R%E],d):this.Ye(e+1);I.push(...this.createRange(K,Q,f.map(ce=>this.Je(e,G,ce,!0))))}return I}Je(e,t,i,r){const l=new xd(e,$e.empty(),t,i);return r?l:l.ke()}Xe(e,t,i,r){const l=new xd(e,$e.empty(),t,i);return r?l.ke():l}Ye(e){return new xd(e,$e.empty(),LE,LE)}getFieldIndex(e,t){const i=new R1(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(l=>{const d=l.filter(f=>i.$e(f));return d.sort((f,_)=>_.fields.length-f.fields.length),d.length>0?d[0]:null})}Ze(e,t){const i=new NE;for(const r of Zs(e)){const l=t.data.field(r.fieldPath);if(null==l)return null;const d=i.Ne(r.kind);Hg.fe.Zt(l,d)}return i.Se()}He(e){const t=new NE;return Hg.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,i){if(null===i)return[];let r=[];r.push(new NE);let l=0;for(const d of Zs(e)){const f=i[l++];for(const _ of r)if(this.tn(t,d.fieldPath)&&nf(f))r=this.en(r,d,f);else{const E=_.Ne(d.kind);Hg.fe.Zt(f,E)}}return this.nn(r)}je(e,t,i){return null==i?null:this.We(e,t,i.position)}nn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}en(e,t,i){const r=[...e],l=[];for(const d of i.arrayValue.values||[])for(const f of r){const _=new NE;_.seed(f.Se()),Hg.fe.Zt(d,_.Ne(t.kind)),l.push(_)}return l}tn(e,t){return!!e.filters.find(i=>i instanceof sr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=VE(e),r=BE(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(l=>{const d=[];return be.forEach(l,f=>r.get([f.indexId,this.uid]).next(_=>{d.push(function(E,I){const R=I?new Xu(I.sequenceNumber,new wo(mf(I.readTime),new $e(Ja(I.documentKey)),I.largestBatchId)):Xu.empty(),G=E.fields.map(([K,Q])=>new sf(qi.fromServerFormat(K),Q));return new Ig(E.indexId,E.collectionGroup,G,R)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const l=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==l?l:Qt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=VE(e),l=BE(e);return this.sn(e).next(d=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>be.forEach(f,_=>{return l.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:gf((G=i).readTime),documentKey:_r(G.documentKey.path),largestBatchId:G.largestBatchId});var G})))}updateIndexEntries(e,t){const i=new Map;return be.forEach(t,(r,l)=>{const d=i.get(r.collectionGroup);return(d?be.resolve(d):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),be.forEach(f,_=>this.rn(e,r,_).next(E=>{const I=this.on(l,_);return E.isEqual(I)?be.resolve():this.un(e,l,E,I)}))))})}an(e,t,i){return L_(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,documentKey:_r(t.key.path)})}cn(e,t,i){return L_(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,_r(t.key.path)])}rn(e,t,i){const r=L_(e);let l=new Qn(yf);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,_r(t.path)])},(d,f)=>{l=l.add(new xd(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}on(e,t){let i=new Qn(yf);const r=this.Ze(t,e);if(null==r)return i;const l=Ag(t);if(null!=l){const d=e.data.field(l.fieldPath);if(nf(d))for(const f of d.arrayValue.values||[])i=i.add(new xd(t.indexId,e.key,this.He(f),r))}else i=i.add(new xd(t.indexId,e.key,LE,r));return i}un(e,t,i,r){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,f,_,E,I){const R=d.getIterator(),G=f.getIterator();let K=Bg(R),Q=Bg(G);for(;K||Q;){let ce=!1,Le=!1;if(K&&Q){const tt=_(K,Q);tt<0?Le=!0:tt>0&&(ce=!0)}else null!=K?Le=!0:ce=!0;ce?(E(Q),Q=Bg(G)):Le?(I(K),K=Bg(R)):(K=Bg(R),Q=Bg(G))}}(i,r,yf,d=>{l.push(this.an(e,t,d))},d=>{l.push(this.cn(e,t,d))}),be.waitFor(l)}sn(e){let t=1;return BE(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,l)=>{l.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((d,f)=>yf(d,f)).filter((d,f,_)=>!f||0!==yf(d,_[f-1]));const r=[];r.push(e);for(const d of i){const f=yf(d,e),_=yf(d,t);if(0===f)r[0]=e.ke();else if(f>0&&_<0)r.push(d),r.push(d.ke());else if(_>0)break}r.push(t);const l=[];for(let d=0;d<r.length;d+=2)l.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,""],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,""]));return l}}function AR(n){return vr(n,"collectionParents")}function L_(n){return vr(n,"indexEntries")}function VE(n){return vr(n,"indexConfiguration")}function BE(n){return vr(n,"indexState")}const SR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Qs(e,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TR(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let f=0;const _=i.Wt({range:d},(I,R,G)=>(f++,G.delete()));l.push(_.next(()=>{Rt(1===f)}));const E=[];for(const I of t.mutations){const R=hR(e,I.key.path,t.batchId);l.push(r.delete(R)),E.push(I.key)}return be.waitFor(l).next(()=>E)}function UE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw lt();e=n.noDocument}return JSON.stringify(e).length}Qs.DEFAULT_COLLECTION_PERCENTILE=10,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qs.DEFAULT=new Qs(41943040,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qs.DISABLED=new Qs(-1,0,0);class uI{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.hn={}}static Yt(e,t,i,r){Rt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new uI(l,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Id(e).Wt({index:"userMutationsIndex",range:i},(r,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const l=$g(e),d=Id(e);return d.add({}).next(f=>{Rt("number"==typeof f);const _=new nI(f,t,i,r),E=function(G,K,Q){const ce=Q.baseMutations.map(tt=>k_(G.Jt,tt)),Le=Q.mutations.map(tt=>k_(G.Jt,tt));return{userId:K,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:ce,mutations:Le}}(this.M,this.userId,_),I=[];let R=new Qn((G,K)=>Qt(G.canonicalString(),K.canonicalString()));for(const G of r){const K=hR(this.userId,G.key.path,f);R=R.add(G.key.path.popLast()),I.push(d.put(E)),I.push(l.put(K,o1))}return R.forEach(G=>{I.push(this.indexManager.addToCollectionParentIndex(e,G))}),e.addOnCommittedListener(()=>{this.hn[f]=_.keys()}),be.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Id(e).get(t).next(i=>i?(Rt(i.userId===this.userId),Gg(this.M,i)):null)}ln(e,t){return this.hn[t]?be.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.hn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Id(e).Wt({index:"userMutationsIndex",range:r},(d,f,_)=>{f.userId===this.userId&&(Rt(f.batchId>=i),l=Gg(this.M,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Id(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,l,d)=>{i=l.batchId,d.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Id(e).qt("userMutationsIndex",t).next(i=>i.map(r=>Gg(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=kE(this.userId,t.path),r=IDBKeyRange.lowerBound(i),l=[];return $g(e).Wt({range:r},(d,f,_)=>{const[E,I,R]=d,G=Ja(I);if(E===this.userId&&t.path.isEqual(G))return Id(e).get(R).next(K=>{if(!K)throw lt();Rt(K.userId===this.userId),l.push(Gg(this.M,K))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qn(Qt);const r=[];return t.forEach(l=>{const d=kE(this.userId,l.path),f=IDBKeyRange.lowerBound(d),_=$g(e).Wt({range:f},(E,I,R)=>{const[G,K,Q]=E,ce=Ja(K);G===this.userId&&l.path.isEqual(ce)?i=i.add(Q):R.done()});r.push(_)}),be.waitFor(r).next(()=>this.fn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,l=kE(this.userId,i),d=IDBKeyRange.lowerBound(l);let f=new Qn(Qt);return $g(e).Wt({range:d},(_,E,I)=>{const[R,G,K]=_,Q=Ja(G);R===this.userId&&i.isPrefixOf(Q)?Q.length===r&&(f=f.add(K)):I.done()}).next(()=>this.fn(e,f))}fn(e,t){const i=[],r=[];return t.forEach(l=>{r.push(Id(e).get(l).next(d=>{if(null===d)throw lt();Rt(d.userId===this.userId),i.push(Gg(this.M,d))}))}),be.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return TR(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),be.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return be.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return $g(e).Wt({range:i},(l,d,f)=>{if(l[0]===this.userId){const _=Ja(l[1]);r.push(_)}else f.done()}).next(()=>{Rt(0===r.length)})})}containsKey(e,t){return MR(e,this.userId,t)}_n(e){return RR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function MR(n,e,t){const i=kE(e,t.path),r=i[1],l=IDBKeyRange.lowerBound(i);let d=!1;return $g(n).Wt({range:l,jt:!0},(f,_,E)=>{const[I,R,G]=f;I===e&&R===r&&(d=!0),E.done()}).next(()=>d)}function Id(n){return vr(n,"mutations")}function $g(n){return vr(n,"documentMutations")}function RR(n){return vr(n,"mutationQueues")}class _f{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new _f(0)}static gn(){return new _f(-1)}}class F1{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const i=new _f(t.highestTargetId);return t.highestTargetId=i.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>At.fromTimestamp(new mi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.yn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.pn(e,r)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(i=>(i.targetCount+=1,this.Tn(t,i),this.pn(e,i))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>zg(e).delete(t.targetId)).next(()=>this.yn(e)).next(i=>(Rt(i.targetCount>0),i.targetCount-=1,this.pn(e,i)))}removeTargets(e,t,i){let r=0;const l=[];return zg(e).Wt((d,f)=>{const _=P_(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,l.push(this.removeTargetData(e,_)))}).next(()=>be.waitFor(l)).next(()=>r)}forEachTarget(e,t){return zg(e).Wt((i,r)=>{const l=P_(r);t(l)})}yn(e){return OR(e).get("targetGlobalKey").next(t=>(Rt(null!==t),t))}pn(e,t){return OR(e).put("targetGlobalKey",t)}In(e,t){return zg(e).put(wR(this.M,t))}Tn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Ed(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return zg(e).Wt({range:r,index:"queryTargetsIndex"},(d,f,_)=>{const E=P_(f);Mg(t,E.target)&&(l=E,_.done())}).next(()=>l)}addMatchingKeys(e,t,i){const r=[],l=Ad(e);return t.forEach(d=>{const f=_r(d.path);r.push(l.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,d))}),be.waitFor(r)}removeMatchingKeys(e,t,i){const r=Ad(e);return be.forEach(t,l=>{const d=_r(l.path);return be.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(e,i,l)])})}removeMatchingKeysForTargetId(e,t){const i=Ad(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ad(e);let l=Dn();return r.Wt({range:i,jt:!0},(d,f,_)=>{const E=Ja(d[1]),I=new $e(E);l=l.add(I)}).next(()=>l)}containsKey(e,t){const i=_r(t.path),r=IDBKeyRange.bound([i],[pE(i)],!1,!0);let l=0;return Ad(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([d,f],_,E)=>{0!==d&&(l++,E.done())}).next(()=>l>0)}Et(e,t){return zg(e).get(t).next(i=>i?P_(i):null)}}function zg(n){return vr(n,"targets")}function OR(n){return vr(n,"targetGlobal")}function Ad(n){return vr(n,"targetDocuments")}function vf(n){return cI.apply(this,arguments)}function cI(){return cI=(0,Ee.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==gR)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),cI.apply(this,arguments)}function kR([n,e],[t,i]){const r=Qt(n,t);return 0===r?Qt(e,i):r}class P1{constructor(e){this.En=e,this.buffer=new Qn(kR),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();kR(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class N1{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const i=this.Pn?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Ee.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){ff(r)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield vf(r)}yield t.vn(e)}))}}class L1{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return be.resolve(Nr.A);const i=new P1(t);return this.Sn.forEachTarget(e,r=>i.bn(r.sequenceNumber)).next(()=>this.Sn.Cn(e,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Sn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(SR)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SR):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let i,r,l,d,f,_,E;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),r=this.params.maximumSequenceNumbersToCollect):r=R,d=Date.now(),this.nthSequenceNumber(e,r))).next(R=>(i=R,f=Date.now(),this.removeTargets(e,i,t))).next(R=>(l=R,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(R=>(E=Date.now(),bg()<=Nl.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-I}ms\n\tDetermined least recently used ${r} in `+(f-d)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${R} documents in `+(E-_)+`ms\nTotal Duration: ${E-I}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:R})))}}class V1{constructor(e,t){this.db=e,this.garbageCollector=new L1(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Nn(e){let t=0;return this.Cn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(i,r)=>t(r))}addReference(e,t,i){return jE(e,i)}removeReference(e,t,i){return jE(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return jE(e,t)}Mn(e,t){return function(i,r){let l=!1;return RR(i).zt(d=>MR(i,d,r).next(f=>(f&&(l=!0),be.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let l=0;return this.kn(e,(d,f)=>{if(f<=t){const _=this.Mn(e,d).next(E=>{if(!E)return l++,i.getEntry(e,d).next(()=>(i.removeEntry(d,At.min()),Ad(e).delete([0,_r(d.path)])))});r.push(_)}}).next(()=>be.waitFor(r)).next(()=>i.apply(e)).next(()=>l)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return jE(e,t)}kn(e,t){const i=Ad(e);let r,l=Nr.A;return i.Wt({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:E})=>{0===d?(l!==Nr.A&&t(new $e(Ja(r)),l),l=E,r=_):l=Nr.A}).next(()=>{l!==Nr.A&&t(new $e(Ja(r)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jE(n,e){return Ad(n).put((i=n.currentSequenceNumber,{targetId:0,path:_r(e.path),sequenceNumber:i}));var i}class FR{constructor(){this.changes=new Cd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?be.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class B1{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return bf(e).put(i)}removeEntry(e,t,i){return bf(e).delete(function(r,l){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],PE(l),d[d.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.On(e,i)))}getEntry(e,t){let i=Bn.newInvalidDocument(t);return bf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(V_(t))},(r,l)=>{i=this.Fn(t,l)}).next(()=>i)}$n(e,t){let i={size:0,document:Bn.newInvalidDocument(t)};return bf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(V_(t))},(r,l)=>{i={document:this.Fn(t,l),size:UE(l)}}).next(()=>i)}getEntries(e,t){let i=ra();return this.Bn(e,t,(r,l)=>{const d=this.Fn(r,l);i=i.insert(r,d)}).next(()=>i)}Ln(e,t){let i=ra(),r=new Ni($e.comparator);return this.Bn(e,t,(l,d)=>{const f=this.Fn(l,d);i=i.insert(l,f),r=r.insert(l,UE(d))}).next(()=>({documents:i,Un:r}))}Bn(e,t,i){if(t.isEmpty())return be.resolve();let r=new Qn(LR);t.forEach(_=>r=r.add(_));const l=IDBKeyRange.bound(V_(r.first()),V_(r.last())),d=r.getIterator();let f=d.getNext();return bf(e).Wt({index:"documentKeyIndex",range:l},(_,E,I)=>{const R=$e.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;f&&LR(f,R)<0;)i(f,null),f=d.getNext();f&&f.isEqual(R)&&(i(f,E),f=d.hasNext()?d.getNext():null),f?I.Ut(V_(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),PE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bf(e).qt(IDBKeyRange.bound(r,l,!0)).next(d=>{let f=ra();for(const _ of d){const E=this.Fn($e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(E.key,E)}return f})}getAllFromCollectionGroup(e,t,i,r){let l=ra();const d=NR(t,i),f=NR(t,wo.max());return bf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,E,I)=>{const R=this.Fn($e.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);l=l.insert(R.key,R),l.size===r&&I.done()}).next(()=>l)}newChangeBuffer(e){return new U1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return PR(e).get("remoteDocumentGlobalKey").next(t=>(Rt(!!t),t))}On(e,t){return PR(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const i=function x1(n,e){let t;if(e.document)t=rR(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=$e.fromSegments(e.noDocument.path),r=mf(e.noDocument.readTime);t=Bn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return lt();{const i=$e.fromSegments(e.unknownDocument.path),r=mf(e.unknownDocument.version);t=Bn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new mi(i[0],i[1]);return At.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(At.min()))return i}return Bn.newInvalidDocument(e)}}class U1 extends FR{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Cd(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Qn((l,d)=>Qt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const f=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,f.readTime)),d.isValidDocument()){const _=bR(this.qn.M,d);r=r.add(l.path.popLast()),i+=UE(_)-f.size,t.push(this.qn.addEntry(e,l,_))}else if(i-=f.size,this.trackRemovals){const _=bR(this.qn.M,d.convertToNoDocument(At.min()));t.push(this.qn.addEntry(e,l,_))}}),r.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,i)),be.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:i,Un:r})=>(r.forEach((l,d)=>{this.Gn.set(l,{size:d,readTime:i.get(l).readTime})}),i))}}function PR(n){return vr(n,"remoteDocumentGlobal")}function bf(n){return vr(n,"remoteDocumentsV14")}function V_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function NR(n,e){const t=e.documentKey.path.toArray();return[n,PE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function LR(n,e){const t=n.path.length-e.path.length;return 0!==t?t:$e.comparator(n,e)}class j1{constructor(e){this.M=e}kt(e,t,i,r){const l=new FE("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dR,{unique:!0}),f.createObjectStore("documentMutations"),VR(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=be.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),VR(e)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",E)}(l))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(f,_){return _.store("mutations").qt().next(E=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dR,{unique:!0});const I=_.store("mutations"),R=E.map(G=>I.put(G));return be.waitFor(R)})}(e,l))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(d=d.next(()=>this.Kn(l))),i<6&&r>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),i<7&&r>=7&&(d=d.next(()=>this.jn(l))),i<8&&r>=8&&(d=d.next(()=>this.Wn(e,l))),i<9&&r>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(d=d.next(()=>this.zn(l))),i<11&&r>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:_1});_.createIndex("collectionPathOverlayIndex",v1,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",b1,{unique:!1})}(e)})),i<13&&r>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:a1});_.createIndex("documentKeyIndex",l1),_.createIndex("collectionGroupIndex",u1)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(d=d.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:p1}).createIndex("sequenceNumberIndex",g1,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:m1}).createIndex("documentKeyIndex",y1,{unique:!1})}(e)})),d}Qn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=UE(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Kn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>be.forEach(r,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",d).next(f=>be.forEach(f,_=>{Rt(_.userId===l.userId);const E=Gg(this.M,_);return TR(e,l.userId,E).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const l=[];return i.Wt((d,f)=>{const _=new tn(d),E=[0,_r(_)];l.push(t.get(E).next(I=>I?be.resolve():t.put({targetId:0,path:_r(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>be.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:f1});const i=t.store("collectionParents"),r=new lI,l=d=>{if(r.add(d)){const f=d.lastSegment(),_=d.popLast();return i.put({collectionId:f,parent:_r(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,f)=>{const _=new tn(d);return l(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,f,_],E)=>{const I=Ja(f);return l(I.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((i,r)=>{const l=P_(r),d=wR(this.M,l);return t.put(d)})}Hn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((l,d)=>{const f=t.store("remoteDocumentsV14"),_=(E=d,E.document?new $e(tn.fromString(E.document.name).popFirst(5)):E.noDocument?$e.fromSegments(E.noDocument.path):E.unknownDocument?$e.fromSegments(E.unknownDocument.path):lt()).path.toArray();var E;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(f.put(I))}).next(()=>be.waitFor(r))}}function VR(n){n.createObjectStore("targetDocuments",{keyPath:d1}).createIndex("documentTargetsIndex",h1,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",c1,{unique:!0}),n.createObjectStore("targetGlobal")}const dI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hI{constructor(e,t,i,r,l,d,f,_,E,I,R=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Jn=l,this.window=d,this.document=f,this.Yn=E,this.Xn=I,this.Zn=R,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=G=>Promise.resolve(),!hI.vt())throw new Fe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new V1(this,r),this.cs=t+"main",this.M=new vR(_),this.hs=new el(this.cs,this.Zn,new j1(this.M)),this.ls=new F1(this.referenceDelegate,this.M),this.fs=new B1(this.M),this.ds=new I1,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===I&&gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(fe.FAILED_PRECONDITION,dI);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Nr(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var i=(0,Ee.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,Ee.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>GE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(ff(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return B_(e).get("owner").next(t=>be.resolve(this.bs(t)))}Ps(e){return GE(e).delete(this.clientId)}Vs(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=vr(i,"clientMetadata");return r.qt().next(l=>{const d=e.Ss(l,18e5),f=l.filter(_=>-1===d.indexOf(_));return be.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._s)for(const i of t)e._s.removeItem(e.Ds(i.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?be.resolve(!0):B_(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Fe(fe.FAILED_PRECONDITION,dI);return!1}}return!(!this.networkEnabled||!this.inForeground)||GE(e).qt().next(i=>void 0===this.Ss(i,5e3).find(r=>{if(this.clientId!==r.clientId){const d=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new _R(t,Nr.A);return e.As(i).next(()=>e.Ps(i))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(i=>this.vs(i.updateTimeMs,t)&&!this.Cs(i.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>GE(e).qt().next(t=>this.Ss(t,18e5).map(i=>i.clientId)))}get started(){return this.es}getMutationQueue(e,t){return uI.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new k1(e)}getDocumentOverlayCache(e){return aI.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,i){Ve("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",l=14===(d=this.Zn)?E1:13===d?pR:12===d?w1:11===d?fR:void lt();var d;let f;return this.hs.runTransaction(e,r,l,_=>(f=new _R(_,this.ts?this.ts.next():Nr.A),"readwrite-primary"===t?this.Ts(f).next(E=>!!E||this.Es(f)).next(E=>{if(!E)throw gi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Fe(fe.FAILED_PRECONDITION,gR);return i(f)}).next(E=>this.Rs(f).next(()=>E)):this.Fs(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Fs(e){return B_(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(fe.FAILED_PRECONDITION,dI)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return B_(e).put("owner",t)}static vt(){return el.vt()}As(e){const t=B_(e);return t.get("owner").next(i=>this.bs(i)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):be.resolve())}vs(e,t){const i=Date.now();return!(e<i-t||e>i&&(gi(`Detected an update time that is in the future: ${e} > ${i}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Yt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const i=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return gi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){gi("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function B_(n){return vr(n,"owner")}function GE(n){return vr(n,"clientMetadata")}function fI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class G1{constructor(e,t,i){this.fs=e,this.$s=t,this.indexManager=i}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Ls(e,t,i))}Ls(e,t,i){return this.fs.getEntry(e,t).next(r=>{for(const l of i)l.applyToLocalView(r);return r})}Us(e,t){e.forEach((i,r)=>{for(const l of t)l.applyToLocalView(r)})}qs(e,t){return this.fs.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.Us(t,i))}Ks(e,t,i){return $e.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(e,t.path):AE(t)?this.js(e,t,i):this.Ws(e,t,i);var r}Qs(e,t){return this.Bs(e,new $e(t)).next(i=>{let r=Qx();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}js(e,t,i){const r=t.collectionGroup;let l=Qx();return this.indexManager.getCollectionParents(e,r).next(d=>be.forEach(d,f=>{const _=(E=t,I=f.child(r),new Qa(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,I;return this.Ws(e,_,i).next(E=>{E.forEach((I,R)=>{l=l.insert(I,R)})})}).next(()=>l))}Ws(e,t,i){let r;return this.fs.getAllFromCollection(e,t.path,i).next(l=>(r=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const f of d.mutations){const _=f.key;let E=r.get(_);null==E&&(E=Bn.newInvalidDocument(_),r=r.insert(_,E)),hf(f,E,d.localWriteTime),E.isFoundDocument()||(r=r.remove(_))}}).next(()=>(r.forEach((l,d)=>{TE(t,d)||(r=r.remove(l))}),r))}}class pI{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.zs=i,this.Hs=r}static Js(e,t){let i=Dn(),r=Dn();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new pI(e,t.fromCache,i,r)}}class BR{Ys(e){this.Xs=e}Ks(e,t,i,r){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||i.isEqual(At.min())?this.Zs(e,t):this.Xs.qs(e,r).next(l=>{const d=this.ti(t,l);return(C_(t)||kg(t))&&this.ei(t.limitType,d,r,i)?this.Zs(e,t):(bg()<=Nl.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),SE(t)),this.Xs.Ks(e,t,Sg(i,-1)).next(f=>(d.forEach(_=>{f=f.insert(_.key,_)}),f)))});var l}ti(e,t){let i=new Qn(s(e));return t.forEach((r,l)=>{TE(e,l)&&(i=i.add(l))}),i}ei(e,t,i,r){if(i.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}Zs(e,t){return bg()<=Nl.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",SE(t)),this.Xs.Ks(e,t,wo.min())}}class H1{constructor(e,t,i,r){this.persistence=e,this.ni=t,this.M=r,this.si=new Ni(Qt),this.ii=new Cd(l=>Ed(l),Mg),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(i)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new G1(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function UR(n,e,t,i){return new H1(n,e,t,i)}function jR(n,e){return gI.apply(this,arguments)}function gI(){return gI=(0,Ee.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.$s.getAllMutationBatches(i).next(l=>(r=l,t.ui(e),t.$s.getAllMutationBatches(i))).next(l=>{const d=[],f=[];let _=Dn();for(const E of r){d.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}for(const E of l){f.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}return t.ai.qs(i,_).next(E=>({ci:E,removedBatchIds:d,addedBatchIds:f}))})})}),gI.apply(this,arguments)}function $1(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(d,f,_,E){const I=_.batch,R=I.keys();let G=be.resolve();return R.forEach(K=>{G=G.next(()=>E.getEntry(f,K)).next(Q=>{const ce=_.docVersions.get(K);Rt(null!==ce),Q.version.compareTo(ce)<0&&(I.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),E.addEntry(Q)))})}),G.next(()=>d.$s.removeMutationBatch(f,I))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.$s.performConsistencyCheck(i)).next(()=>t.ai.qs(i,r))})}function GR(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function z1(n,e){const t=Je(n),i=e.snapshotVersion;let r=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.oi.newChangeBuffer({trackRemovals:!0});r=t.si;const f=[];e.targetChanges.forEach((E,I)=>{const R=r.get(I);if(!R)return;f.push(t.ls.removeMatchingKeys(l,E.removedDocuments,I).next(()=>t.ls.addMatchingKeys(l,E.addedDocuments,I)));let G=R.withSequenceNumber(l.currentSequenceNumber);var K,Q,ce;e.targetMismatches.has(I)?G=G.withResumeToken(Pi.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,i)),r=r.insert(I,G),Q=G,ce=E,(0===(K=R).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&f.push(t.ls.updateTargetData(l,G))});let _=ra();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),f.push(HR(l,d,e.documentUpdates).next(E=>{_=E})),!i.isEqual(At.min())){const E=t.ls.getLastRemoteSnapshotVersion(l).next(I=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(E)}return be.waitFor(f).next(()=>d.apply(l)).next(()=>t.ai.Gs(l,_)).next(()=>_)}).then(l=>(t.si=r,l))}function HR(n,e,t){let i=Dn();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let l=ra();return t.forEach((d,f)=>{const _=r.get(d);f.isNoDocument()&&f.version.isEqual(At.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):Ve("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",f.version)}),l})}function W1(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(i,e)))}function Wg(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.ls.getTargetData(i,e).next(l=>l?(r=l,be.resolve(r)):t.ls.allocateTargetId(i).next(d=>(r=new Dd(e,d,0,i.currentSequenceNumber),t.ls.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.si.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.si=t.si.insert(i.targetId,i),t.ii.set(e,i.targetId)),i})}function qg(n,e,t){return mI.apply(this,arguments)}function mI(){return mI=(0,Ee.Z)(function*(n,e,t){const i=Je(n),r=i.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",l,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!ff(d))throw d;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.si=i.si.remove(e),i.ii.delete(r.target)}),mI.apply(this,arguments)}function HE(n,e,t){const i=Je(n);let r=At.min(),l=Dn();return i.persistence.runTransaction("Execute query","readonly",d=>function(f,_,E){const I=Je(f),R=I.ii.get(E);return void 0!==R?be.resolve(I.si.get(R)):I.ls.getTargetData(_,E)}(i,d,Eo(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.ls.getMatchingKeysForTargetId(d,f.targetId).next(_=>{l=_})}).next(()=>i.ni.Ks(d,e,t?r:At.min(),t?l:Dn())).next(f=>(WR(i,Yx(e),f),{documents:f,hi:l})))}function $R(n,e){const t=Je(n),i=Je(t.ls),r=t.si.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",l=>i.Et(l,e).next(d=>d?d.target:null))}function zR(n,e){const t=Je(n),i=t.ri.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.oi.getAllFromCollectionGroup(r,e,Sg(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(WR(t,e,r),r))}function WR(n,e,t){let i=At.min();t.forEach((r,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ri.set(e,i)}function yI(){return yI=(0,Ee.Z)(function*(n,e,t,i){const r=Je(n);let l=Dn(),d=ra();for(const E of t){const I=e.li(E.metadata.name);E.document&&(l=l.add(I));const R=e.fi(E);R.setReadTime(e.di(E.metadata.readTime)),d=d.insert(I,R)}const f=r.oi.newChangeBuffer({trackRemovals:!0}),_=yield Wg(r,(E=i,Eo(uf(tn.fromString(`__bundle__/docs/${E}`)))));var E;return r.persistence.runTransaction("Apply bundle documents","readwrite",E=>HR(E,f,d).next(I=>(f.apply(E),I)).next(I=>r.ls.removeMatchingKeysForTargetId(E,_.targetId).next(()=>r.ls.addMatchingKeys(E,l,_.targetId)).next(()=>r.ai.Gs(E,I)).next(()=>I)))}),yI.apply(this,arguments)}function K1(n,e){return _I.apply(this,arguments)}function _I(){return _I=(0,Ee.Z)(function*(n,e,t=Dn()){const i=yield Wg(n,Eo(sI(e.bundledQuery))),r=Je(n);return r.persistence.runTransaction("Save named query","readwrite",l=>{const d=yr(e.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r.ds.saveNamedQuery(l,e);const f=i.withResumeToken(Pi.EMPTY_BYTE_STRING,d);return r.si=r.si.insert(f.targetId,f),r.ls.updateTargetData(l,f).next(()=>r.ls.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>r.ls.addMatchingKeys(l,t,i.targetId)).next(()=>r.ds.saveNamedQuery(l,e))})}),_I.apply(this,arguments)}class Y1{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return be.resolve(this._i.get(t))}saveBundleMetadata(e,t){var i;return this._i.set(t.id,{id:(i=t).id,version:i.version,createTime:yr(i.createTime)}),be.resolve()}getNamedQuery(e,t){return be.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(i=t).name,query:sI(i.bundledQuery),readTime:yr(i.readTime)}),be.resolve();var i}}class Z1{constructor(){this.overlays=new Ni($e.comparator),this.mi=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,l)=>{this.Xt(e,t,l)}),be.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.mi.get(i);return void 0!==r&&(r.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(i)),be.resolve()}getOverlaysForCollection(e,t,i){const r=A_(),l=t.length+1,d=new $e(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,E=_.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===l&&_.largestBatchId>i&&r.set(_.getKey(),_)}return be.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let l=new Ni((E,I)=>E-I);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>i){let I=l.get(E.largestBatchId);null===I&&(I=A_(),l=l.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const f=A_(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,I)=>f.set(E,I)),!(f.size()>=r)););return be.resolve(f)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const d=this.mi.get(r.largestBatchId).delete(i.key);this.mi.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new rI(t,i));let l=this.mi.get(t);void 0===l&&(l=Dn(),this.mi.set(t,l)),this.mi.set(t,l.add(i.key))}}class vI{constructor(){this.gi=new Qn(br.yi),this.pi=new Qn(br.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const i=new br(e,t);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}Ti(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ei(new br(e,t))}Ai(e,t){e.forEach(i=>this.removeReference(i,t))}Ri(e){const t=new $e(new tn([])),i=new br(t,e),r=new br(t,e+1),l=[];return this.pi.forEachInRange([i,r],d=>{this.Ei(d),l.push(d.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new $e(new tn([])),i=new br(t,e),r=new br(t,e+1);let l=Dn();return this.pi.forEachInRange([i,r],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new br(e,0),i=this.gi.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class br{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return $e.comparator(e.key,t.key)||Qt(e.Vi,t.Vi)}static Ii(e,t){return Qt(e.Vi,t.Vi)||$e.comparator(e.key,t.key)}}class Q1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Qn(br.yi)}checkEmpty(e){return be.resolve(0===this.$s.length)}addMutationBatch(e,t,i,r){const l=this.vi;this.vi++;const d=new nI(l,t,i,r);this.$s.push(d);for(const f of r)this.Si=this.Si.add(new br(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return be.resolve(d)}lookupMutationBatch(e,t){return be.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ci(t+1),l=r<0?0:r;return be.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return be.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new br(t,0),r=new br(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([i,r],d=>{const f=this.Di(d.Vi);l.push(f)}),be.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qn(Qt);return t.forEach(r=>{const l=new br(r,0),d=new br(r,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,d],f=>{i=i.add(f.Vi)})}),be.resolve(this.xi(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let l=i;$e.isDocumentKey(l)||(l=l.child(""));const d=new br(new $e(l),0);let f=new Qn(Qt);return this.Si.forEachWhile(_=>{const E=_.key.path;return!!i.isPrefixOf(E)&&(E.length===r&&(f=f.add(_.Vi)),!0)},d),be.resolve(this.xi(f))}xi(e){const t=[];return e.forEach(i=>{const r=this.Di(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Rt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let i=this.Si;return be.forEach(t.mutations,r=>{const l=new br(r.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Si=i})}dn(e){}containsKey(e,t){const i=new br(t,0),r=this.Si.firstAfterOrEqual(i);return be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return be.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class X1{constructor(e){this.ki=e,this.docs=new Ni($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),l=r?r.size:0,d=this.ki(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return be.resolve(i?i.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let i=ra();return t.forEach(r=>{const l=this.docs.get(r);i=i.insert(r,l?l.document.mutableCopy():Bn.newInvalidDocument(r))}),be.resolve(i)}getAllFromCollection(e,t,i){let r=ra();const l=new $e(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||w_(Ux(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return be.resolve(r)}getAllFromCollectionGroup(e,t,i,r){lt()}Mi(e,t){return be.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new J1(this)}getSize(e){return be.resolve(this.size)}}class J1 extends FR{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.qn.addEntry(e,r)):this.qn.removeEntry(i)}),be.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class eL{constructor(e){this.persistence=e,this.Oi=new Cd(t=>Ed(t),Mg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Fi=0,this.$i=new vI,this.targetCount=0,this.Bi=_f.mn()}forEachTarget(e,t){return this.Oi.forEach((i,r)=>t(r)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Fi&&(this.Fi=t),be.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new _f(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.In(t),be.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,i){let r=0;const l=[];return this.Oi.forEach((d,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Oi.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),be.waitFor(l).next(()=>r)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const i=this.Oi.get(t)||null;return be.resolve(i)}addMatchingKeys(e,t,i){return this.$i.Ti(t,i),be.resolve()}removeMatchingKeys(e,t,i){this.$i.Ai(t,i);const r=this.persistence.referenceDelegate,l=[];return r&&t.forEach(d=>{l.push(r.markPotentiallyOrphaned(e,d))}),be.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),be.resolve()}getMatchingKeysForTargetId(e,t){const i=this.$i.Pi(t);return be.resolve(i)}containsKey(e,t){return be.resolve(this.$i.containsKey(t))}}class tL{constructor(e,t){this.Li={},this.overlays={},this.ts=new Nr(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new eL(this),this.indexManager=new O1,this.fs=new X1(i=>this.referenceDelegate.Ui(i)),this.M=new vR(t),this.ds=new Y1(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Z1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Li[e.toKey()];return i||(i=new Q1(t,this.referenceDelegate),this.Li[e.toKey()]=i),i}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,i){Ve("MemoryPersistence","Starting transaction:",e);const r=new nL(this.ts.next());return this.referenceDelegate.qi(),i(r).next(l=>this.referenceDelegate.Gi(r).next(()=>l)).toPromise().then(l=>(r.raiseOnCommittedEvent(),l))}Ki(e,t){return be.or(Object.values(this.Li).map(i=>()=>i.containsKey(e,t)))}}class nL extends mR{constructor(e){super(),this.currentSequenceNumber=e}}class bI{constructor(e){this.persistence=e,this.Qi=new vI,this.ji=null}static Wi(e){return new bI(e)}get zi(){if(this.ji)return this.ji;throw lt()}addReference(e,t,i){return this.Qi.addReference(i,t),this.zi.delete(i.toString()),be.resolve()}removeReference(e,t,i){return this.Qi.removeReference(i,t),this.zi.add(i.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),be.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(r=>this.zi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(l=>this.zi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.zi,i=>{const r=$e.fromPath(i);return this.Hi(e,r).next(l=>{l||t.removeEntry(r,At.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(i=>{i?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return be.or([()=>be.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function qR(n,e){return`firestore_clients_${n}_${e}`}function KR(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function wI(n,e){return`firestore_targets_${n}_${e}`}class $E{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let l,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(l=new Fe(r.error.code,r.error.message))),d?new $E(e,t,r.state,l):(gi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class U_{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(r=new Fe(i.error.code,i.error.message))),l?new U_(e,i.state,r):(gi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,l=RE();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=mE(i.activeTargetIds[d]),l=l.add(i.activeTargetIds[d]);return r?new zE(e,l):(gi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class EI{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new EI(t.clientId,t.onlineState):(gi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class CI{constructor(){this.activeTargetIds=RE()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DI{constructor(e,t,i,r,l){this.window=e,this.Jn=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ni(Qt),this.started=!1,this.ir=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=qR(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new CI),this.ar=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.Os();for(const r of t){if(r===e.tr)continue;const l=e.getItem(qR(e.persistenceKey,r));if(l){const d=zE.Ji(r,l);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(wI(this.persistenceKey,e));if(i){const r=U_.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wI(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ve("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==i.key)if(t.ar.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.cr.test(i.key)){if(null!==i.newValue){const r=t.Vr(i.key,i.newValue);if(r)return t.vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(l){let d=Nr.A;if(null!=l)try{const f=JSON.parse(l);Rt("number"==typeof f),d=f}catch(f){gi("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(i.newValue);r!==Nr.A&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new $E(this.currentUser,e,t,i),l=KR(this.persistenceKey,this.currentUser,e);this.setItem(l,r.Yi())}pr(e){const t=KR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=wI(this.persistenceKey,e),l=new U_(e,t,i);this.setItem(r,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return zE.Ji(i,t)}Vr(e,t){const i=this.cr.exec(e),r=Number(i[1]);return $E.Ji(new pr(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return U_.Ji(r,t)}wr(e){return EI.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),l=this.gr(i),d=[],f=[];return l.forEach(_=>{r.has(_)||d.push(_)}),r.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.Or(d,f).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=RE();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class YR{constructor(){this.Fr=new CI,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new CI,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iL{Br(e){}shutdown(){}}class ZR{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sL{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class oL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,l){const d=this.oo(e,t);Ve("RestConnection","Sending: ",d,i);const f={};return this.uo(f,r,l),this.ao(e,d,f,i).then(_=>(Ve("RestConnection","Received: ",_),_),_=>{throw wg("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",i),_})}co(e,t,i,r,l){return this.ro(e,t,i,r,l)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ya,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,l)=>e[l]=r),i&&i.headers.forEach((r,l)=>e[l]=r)}oo(e,t){return`${this.so}/v1/${t}:${rL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,i,r){return new Promise((l,d)=>{const f=new PM;f.listenOnce(OM.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case vg.NO_ERROR:const E=f.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(E)),l(E);break;case vg.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),d(new Fe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case vg.HTTP_ERROR:const I=f.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const R=f.getResponseJson().error;if(R&&R.status&&R.message){const G=function(K){const Q=K.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Q)>=0?Q:fe.UNKNOWN}(R.status);d(new Fe(G,R.message))}else d(new Fe(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Fe(fe.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Rx(),d=RM(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new FM({})),this.uo(f.initMessageHeaders,t,i),(0,Yt.uI)()||(0,Yt.b$)()||(0,Yt.d)()||(0,Yt.w1)()||(0,Yt.Mn)()||(0,Yt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Ve("Connection","Creating WebChannel: "+_,f);const E=l.createWebChannel(_,f);let I=!1,R=!1;const G=new sL({jr:Q=>{R?Ve("Connection","Not sending because WebChannel is closed:",Q):(I||(Ve("Connection","Opening WebChannel transport."),E.open(),I=!0),Ve("Connection","WebChannel sending:",Q),E.send(Q))},Wr:()=>E.close()}),K=(Q,ce,Le)=>{Q.listen(ce,tt=>{try{Le(tt)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return K(E,g_.EventType.OPEN,()=>{R||Ve("Connection","WebChannel transport opened.")}),K(E,g_.EventType.CLOSE,()=>{R||(R=!0,Ve("Connection","WebChannel transport closed"),G.eo())}),K(E,g_.EventType.ERROR,Q=>{R||(R=!0,wg("Connection","WebChannel transport errored:",Q),G.eo(new Fe(fe.UNAVAILABLE,"The operation could not be completed")))}),K(E,g_.EventType.MESSAGE,Q=>{var ce;if(!R){const Le=Q.data[0];Rt(!!Le);const tt=Le,Xe=tt.error||(null===(ce=tt[0])||void 0===ce?void 0:ce.error);if(Xe){Ve("Connection","WebChannel received error:",Xe);const Ht=Xe.status;let ut=function(Ot){const Hn=Ki[Ot];if(void 0!==Hn)return WM(Hn)}(Ht),Ut=Xe.message;void 0===ut&&(ut=fe.INTERNAL,Ut="Unknown error status: "+Ht+" with message "+Xe.message),R=!0,G.eo(new Fe(ut,Ut)),E.close()}else Ve("Connection","WebChannel received:",Le),G.no(Le)}}),K(d,kM.STAT_EVENT,Q=>{Q.stat===Ox.PROXY?Ve("Connection","Detected buffering proxy"):Q.stat===Ox.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{G.Zr()},0),G}}function QR(){return"undefined"!=typeof window?window:null}function WE(){return"undefined"!=typeof document?document:null}function j_(n){return new qN(n,!0)}class xI{constructor(e,t,i=1e3,r=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=i,this.fo=r,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class XR{constructor(e,t,i,r,l,d,f,_){this.Jn=e,this.Ao=i,this.Ro=r,this.bo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new xI(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Ee.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,Ee.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var i=this;return(0,Ee.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new Fe(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,Ee.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aL extends XR{constructor(e,t,i,r,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,d),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function ZN(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:lt(),r=e.targetChange.targetIds||[],l=function(_,E){return _.N?(Rt(void 0===E||"string"==typeof E),Pi.fromBase64String(E||"")):(Rt(void 0===E||E instanceof Uint8Array),Pi.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const E=void 0===_.code?fe.UNKNOWN:WM(_.code);return new Fe(E,_.message||"")}(d);t=new YM(i,r,l,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Ql(n,i.document.name),l=yr(i.document.updateTime),d=new gr({mapValue:{fields:i.document.fields}}),f=Bn.newFoundDocument(r,l,d);t=new OE(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Ql(n,i.document),l=i.readTime?yr(i.readTime):At.min(),d=Bn.newNoDocument(r,l);t=new OE([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const i=e.documentRemove,r=Ql(n,i.document);t=new OE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return lt();{const i=e.filter,l=new VN(i.count||0);t=new KM(i.targetId,l)}}var _;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return At.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?At.min():l.readTime?yr(l.readTime):At.min()}(e);return this.listener.Ko(t,i)}Qo(e){const t={};t.database=O_(this.M),t.addTarget=function(r,l){let d;const f=l.target;return d=af(f)?{documents:sR(r,f)}:{query:oR(r,f)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=JM(r,l.resumeToken):l.snapshotVersion.compareTo(At.min())>0&&(d.readTime=M_(r,l.snapshotVersion.toTimestamp())),d}(this.M,e);const i=function XN(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Oo(t)}jo(e){const t={};t.database=O_(this.M),t.removeTarget=e,this.Oo(t)}}class lL extends XR{constructor(e,t,i,r,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,d),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function QN(n,e){return n&&n.length>0?(Rt(void 0!==e),n.map(t=>function(i,r){let l=yr(i.updateTime?i.updateTime:r);return l.isEqual(At.min())&&(l=yr(r)),new Ct(l,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=yr(e.commitTime);return this.listener.Jo(i,t)}return Rt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=O_(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>k_(this.M,i))};this.Oo(t)}}class uL extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.M=r,this.Zo=!1}tu(){if(this.Zo)throw new Fe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.bo.ro(e,t,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Fe(fe.UNKNOWN,r.toString())})}co(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.bo.co(e,t,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Fe(fe.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class cL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(gi(t),this.su=!1):Ve("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class dL{constructor(e,t,i,r,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(f=>{i.enqueueAndForget((0,Ee.Z)(function*(){var _;Sd(d)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ee.Z)(function*(E){const I=Je(E);I.lu.add(4),yield Kg(I),I._u.set("Unknown"),I.lu.delete(4),yield G_(I)}),function(E){return _.apply(this,arguments)})(d))}))}),this._u=new cL(i,r)}}function G_(n){return II.apply(this,arguments)}function II(){return II=(0,Ee.Z)(function*(n){if(Sd(n))for(const e of n.fu)yield e(!0)}),II.apply(this,arguments)}function Kg(n){return AI.apply(this,arguments)}function AI(){return AI=(0,Ee.Z)(function*(n){for(const e of n.fu)yield e(!1)}),AI.apply(this,arguments)}function qE(n,e){const t=Je(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),MI(t)?TI(t):Zg(t).Co()&&SI(t,e))}function H_(n,e){const t=Je(n),i=Zg(t);t.hu.delete(e),i.Co()&&JR(t,e),0===t.hu.size&&(i.Co()?i.ko():Sd(t)&&t._u.set("Unknown"))}function SI(n,e){n.wu.Z(e.targetId),Zg(n).Qo(e)}function JR(n,e){n.wu.Z(e),Zg(n).jo(e)}function TI(n){n.wu=new $N({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Zg(n).start(),n._u.iu()}function MI(n){return Sd(n)&&!Zg(n).Do()&&n.hu.size>0}function Sd(n){return 0===Je(n).lu.size}function eO(n){n.wu=void 0}function hL(n){return RI.apply(this,arguments)}function RI(){return RI=(0,Ee.Z)(function*(n){n.hu.forEach((e,t)=>{SI(n,e)})}),RI.apply(this,arguments)}function fL(n,e){return OI.apply(this,arguments)}function OI(){return OI=(0,Ee.Z)(function*(n,e){eO(n),MI(n)?(n._u.uu(e),TI(n)):n._u.set("Unknown")}),OI.apply(this,arguments)}function pL(n,e,t){return kI.apply(this,arguments)}function kI(){return kI=(0,Ee.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof YM&&2===e.state&&e.cause)try{yield(i=(0,Ee.Z)(function*(r,l){const d=l.cause;for(const f of l.targetIds)r.hu.has(f)&&(yield r.remoteSyncer.rejectListen(f,d),r.hu.delete(f),r.wu.removeTarget(f))}),function(r,l){return i.apply(this,arguments)})(n,e)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield KE(n,i)}else if(e instanceof OE?n.wu.ut(e):e instanceof KM?n.wu._t(e):n.wu.ht(e),!t.isEqual(At.min()))try{const i=yield GR(n.localStore);t.compareTo(i)>=0&&(yield function(r,l){const d=r.wu.yt(l);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const E=r.hu.get(_);E&&r.hu.set(_,E.withResumeToken(f.resumeToken,l))}}),d.targetMismatches.forEach(f=>{const _=r.hu.get(f);if(!_)return;r.hu.set(f,_.withResumeToken(Pi.EMPTY_BYTE_STRING,_.snapshotVersion)),JR(r,f);const E=new Dd(_.target,f,1,_.sequenceNumber);SI(r,E)}),r.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield KE(n,i)}var i}),kI.apply(this,arguments)}function KE(n,e,t){return FI.apply(this,arguments)}function FI(){return FI=(0,Ee.Z)(function*(n,e,t){if(!ff(e))throw e;n.lu.add(1),yield Kg(n),n._u.set("Offline"),t||(t=()=>GR(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield G_(n)}))}),FI.apply(this,arguments)}function tO(n,e){return e().catch(t=>KE(n,t,e))}function Yg(n){return PI.apply(this,arguments)}function PI(){return PI=(0,Ee.Z)(function*(n){const e=Je(n),t=Td(e);let i=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;gL(e);)try{const r=yield W1(e.localStore,i);if(null===r){0===e.cu.length&&t.ko();break}i=r.batchId,mL(e,r)}catch(r){yield KE(e,r)}nO(e)&&iO(e)}),PI.apply(this,arguments)}function gL(n){return Sd(n)&&n.cu.length<10}function mL(n,e){n.cu.push(e);const t=Td(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function nO(n){return Sd(n)&&!Td(n).Do()&&n.cu.length>0}function iO(n){Td(n).start()}function yL(n){return NI.apply(this,arguments)}function NI(){return NI=(0,Ee.Z)(function*(n){Td(n).Xo()}),NI.apply(this,arguments)}function _L(n){return LI.apply(this,arguments)}function LI(){return LI=(0,Ee.Z)(function*(n){const e=Td(n);for(const t of n.cu)e.Ho(t.mutations)}),LI.apply(this,arguments)}function vL(n,e,t){return VI.apply(this,arguments)}function VI(){return VI=(0,Ee.Z)(function*(n,e,t){const i=n.cu.shift(),r=iI.from(i,e,t);yield tO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Yg(n)}),VI.apply(this,arguments)}function bL(n,e){return BI.apply(this,arguments)}function BI(){return BI=(0,Ee.Z)(function*(n,e){var t;e&&Td(n).zo&&(yield(t=(0,Ee.Z)(function*(i,r){if(zM(l=r.code)&&l!==fe.ABORTED){const d=i.cu.shift();Td(i).No(),yield tO(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield Yg(i)}var l}),function(i,r){return t.apply(this,arguments)})(n,e)),nO(n)&&iO(n)}),BI.apply(this,arguments)}function rO(n,e){return UI.apply(this,arguments)}function UI(){return UI=(0,Ee.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const i=Sd(t);t.lu.add(3),yield Kg(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield G_(t)}),UI.apply(this,arguments)}function jI(n,e){return GI.apply(this,arguments)}function GI(){return GI=(0,Ee.Z)(function*(n,e){const t=Je(n);e?(t.lu.delete(2),yield G_(t)):e||(t.lu.add(2),yield Kg(t),t._u.set("Unknown"))}),GI.apply(this,arguments)}function Zg(n){return n.mu||(n.mu=function(e,t,i){const r=Je(e);return r.tu(),new aL(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:hL.bind(null,n),Jr:fL.bind(null,n),Ko:pL.bind(null,n)}),n.fu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.mu.No(),MI(n)?TI(n):n._u.set("Unknown")):(yield n.mu.stop(),eO(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Td(n){return n.gu||(n.gu=function(e,t,i){const r=Je(e);return r.tu(),new lL(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:yL.bind(null,n),Jr:bL.bind(null,n),Yo:_L.bind(null,n),Jo:vL.bind(null,n)}),n.fu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.gu.No(),yield Yg(n)):(yield n.gu.stop(),n.cu.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class HI{constructor(e,t,i,r,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=l,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,i,r,l){const d=Date.now()+i,f=new HI(e,t,d,r,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qg(n,e){if(gi("AsyncQueue",`${e}: ${n}`),ff(n))return new Fe(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class Xg{constructor(e){this.comparator=e?(t,i)=>e(t,i)||$e.comparator(t.key,i.key):(t,i)=>$e.comparator(t.key,i.key),this.keyedMap=Qx(),this.sortedSet=new Ni(this.comparator)}static emptySet(e){return new Xg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,l=i.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Xg;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class sO{constructor(){this.yu=new Ni($e.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):lt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Jg{constructor(e,t,i,r,l,d,f,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Jg(e,t,Xg.emptySet(t),l,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class wL{constructor(){this.Iu=void 0,this.listeners=[]}}class EL{constructor(){this.queries=new Cd(e=>Kx(e),df),this.onlineState="Unknown",this.Tu=new Set}}function $I(n,e){return zI.apply(this,arguments)}function zI(){return zI=(0,Ee.Z)(function*(n,e){const t=Je(n),i=e.query;let r=!1,l=t.queries.get(i);if(l||(r=!0,l=new wL),r)try{l.Iu=yield t.onListen(i)}catch(d){const f=Qg(d,`Initialization of query '${SE(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&KI(t)}),zI.apply(this,arguments)}function WI(n,e){return qI.apply(this,arguments)}function qI(){return qI=(0,Ee.Z)(function*(n,e){const t=Je(n),i=e.query;let r=!1;const l=t.queries.get(i);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),r=0===l.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),qI.apply(this,arguments)}function CL(n,e){const t=Je(n);let i=!1;for(const r of e){const d=t.queries.get(r.query);if(d){for(const f of d.listeners)f.Au(r)&&(i=!0);d.Iu=r}}i&&KI(t)}function DL(n,e,t){const i=Je(n),r=i.queries.get(e);if(r)for(const l of r.listeners)l.onError(t);i.queries.delete(e)}function KI(n){n.Tu.forEach(e=>{e.next()})}class YI{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Jg(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Jg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class xL{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class oO{constructor(e){this.M=e}li(e){return Ql(this.M,e)}fi(e){return e.metadata.exists?rR(this.M,e.document,!1):Bn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return yr(e)}}class IL{constructor(e,t,i){this.xu=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aO(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=tn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new oO(this.M);for(const r of e)if(r.metadata.queries){const l=i.li(r.metadata.name);for(const d of r.metadata.queries){const f=(t.get(d)||Dn()).add(l);t.set(d,f)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function q1(n,e,t,i){return yI.apply(this,arguments)}(e.localStore,new oO(e.M),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield K1(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function aO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class lO{constructor(e){this.key=e}}class uO{constructor(e){this.key=e}}class cO{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Dn(),this.mutatedKeys=Dn(),this.Lu=s(e),this.Uu=new Xg(this.Lu)}get qu(){return this.Fu}Gu(e,t){const i=t?t.Ku:new sO,r=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,d=r,f=!1;const _=C_(this.query)&&r.size===this.query.limit?r.last():null,E=kg(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,R)=>{const G=r.get(I),K=TE(this.query,R)?R:null,Q=!!G&&this.mutatedKeys.has(G.key),ce=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Le=!1;G&&K?G.data.isEqual(K.data)?Q!==ce&&(i.track({type:3,doc:K}),Le=!0):this.Qu(G,K)||(i.track({type:2,doc:K}),Le=!0,(_&&this.Lu(K,_)>0||E&&this.Lu(K,E)<0)&&(f=!0)):!G&&K?(i.track({type:0,doc:K}),Le=!0):G&&!K&&(i.track({type:1,doc:G}),Le=!0,(_||E)&&(f=!0)),Le&&(K?(d=d.add(K),l=ce?l.add(I):l.delete(I)):(d=d.delete(I),l=l.delete(I)))}),C_(this.query)||kg(this.query))for(;d.size>this.query.limit;){const I=C_(this.query)?d.last():d.first();d=d.delete(I.key),l=l.delete(I.key),i.track({type:1,doc:I})}return{Uu:d,Ku:i,ei:f,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((E,I)=>function(R,G){const K=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return K(R)-K(G)}(E.type,I.type)||this.Lu(E.doc,I.doc)),this.ju(i);const d=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==l.length||_?{snapshot:new Jg(this.query,e.Uu,r,l,e.mutatedKeys,0===f,_,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new sO,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Dn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new uO(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new lO(i))}),t}Ju(e){this.Fu=e.hi,this.Bu=Dn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Jg.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class AL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class SL{constructor(e){this.key=e,this.Xu=!1}}class TL{constructor(e,t,i,r,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Zu={},this.ta=new Cd(f=>Kx(f),df),this.ea=new Map,this.na=new Set,this.sa=new Ni($e.comparator),this.ia=new Map,this.ra=new vI,this.oa={},this.ua=new Map,this.aa=_f.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function ML(n,e){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,Ee.Z)(function*(n,e){const t=vA(n);let i,r;const l=t.ta.get(e);if(l)i=l.targetId,t.sharedClientState.addLocalQueryTarget(i),r=l.view.Yu();else{const d=yield Wg(t.localStore,Eo(e));t.isPrimaryClient&&qE(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield QI(t,e,i,"current"===f)}return r}),ZI.apply(this,arguments)}function QI(n,e,t,i){return XI.apply(this,arguments)}function XI(){return XI=(0,Ee.Z)(function*(n,e,t,i){n.ha=(I,R,G)=>{return(K=(0,Ee.Z)(function*(Q,ce,Le,tt){let Xe=ce.view.Gu(Le);Xe.ei&&(Xe=yield HE(Q.localStore,ce.query,!1).then(({documents:Ut})=>ce.view.Gu(Ut,Xe)));const Ht=tt&&tt.targetChanges.get(ce.targetId),ut=ce.view.applyChanges(Xe,Q.isPrimaryClient,Ht);return lA(Q,ce.targetId,ut.zu),ut.snapshot}),function(Q,ce,Le,tt){return K.apply(this,arguments)})(n,I,R,G);var K};const r=yield HE(n.localStore,e,!0),l=new cO(e,r.hi),d=l.Gu(r.documents),f=T_.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=l.applyChanges(d,n.isPrimaryClient,f);lA(n,t,_.zu);const E=new AL(e,t,l);return n.ta.set(e,E),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),_.snapshot}),XI.apply(this,arguments)}function RL(n,e){return JI.apply(this,arguments)}function JI(){return JI=(0,Ee.Z)(function*(n,e){const t=Je(n),i=t.ta.get(e),r=t.ea.get(i.targetId);if(r.length>1)return t.ea.set(i.targetId,r.filter(l=>!df(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield qg(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),H_(t.remoteStore,i.targetId),em(t,i.targetId)}).catch(vf))):(em(t,i.targetId),yield qg(t.localStore,i.targetId,!0))}),JI.apply(this,arguments)}function eA(){return eA=(0,Ee.Z)(function*(n,e,t){const i=bA(n);try{const r=yield function(l,d){const f=Je(l),_=mi.now(),E=d.reduce((R,G)=>R.add(G.key),Dn());let I;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>f.ai.qs(R,E).next(G=>{I=G;const K=[];for(const Q of d){const ce=x_(Q,I.get(Q.key));null!=ce&&K.push(new Xa(Q.key,ce,rf(ce.value.mapValue),wt.exists(!0)))}return f.$s.addMutationBatch(R,_,K,d)})).then(R=>(R.applyToLocalDocumentSet(I),{batchId:R.batchId,changes:I}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,d,f){let _=l.oa[l.currentUser.toKey()];_||(_=new Ni(Qt)),_=_.insert(d,f),l.oa[l.currentUser.toKey()]=_}(i,r.batchId,t),yield tc(i,r.changes),yield Yg(i.remoteStore)}catch(r){const l=Qg(r,"Failed to persist write");t.reject(l)}}),eA.apply(this,arguments)}function dO(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,Ee.Z)(function*(n,e){const t=Je(n);try{const i=yield z1(t.localStore,e);e.targetChanges.forEach((r,l)=>{const d=t.ia.get(l);d&&(Rt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.Xu=!0:r.modifiedDocuments.size>0?Rt(d.Xu):r.removedDocuments.size>0&&(Rt(d.Xu),d.Xu=!1))}),yield tc(t,i,e)}catch(i){yield vf(i)}}),tA.apply(this,arguments)}function hO(n,e,t){const i=Je(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ta.forEach((l,d)=>{const f=d.view.Eu(e);f.snapshot&&r.push(f.snapshot)}),function(l,d){const f=Je(l);f.onlineState=d;let _=!1;f.queries.forEach((E,I)=>{for(const R of I.listeners)R.Eu(d)&&(_=!0)}),_&&KI(f)}(i.eventManager,e),r.length&&i.Zu.Ko(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function kL(n,e,t){return nA.apply(this,arguments)}function nA(){return nA=(0,Ee.Z)(function*(n,e,t){const i=Je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ia.get(e),l=r&&r.key;if(l){let d=new Ni($e.comparator);d=d.insert(l,Bn.newNoDocument(l,At.min()));const f=Dn().add(l),_=new S_(At.min(),new Map,new Qn(Qt),d,f);yield dO(i,_),i.sa=i.sa.remove(l),i.ia.delete(e),uA(i)}else yield qg(i.localStore,e,!1).then(()=>em(i,e,t)).catch(vf)}),nA.apply(this,arguments)}function FL(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,Ee.Z)(function*(n,e){const t=Je(n),i=e.batch.batchId;try{const r=yield $1(t.localStore,e);aA(t,i,null),oA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield tc(t,r)}catch(r){yield vf(r)}}),iA.apply(this,arguments)}function PL(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=(0,Ee.Z)(function*(n,e,t){const i=Je(n);try{const r=yield function(l,d){const f=Je(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return f.$s.lookupMutationBatch(_,d).next(I=>(Rt(null!==I),E=I.keys(),f.$s.removeMutationBatch(_,I))).next(()=>f.$s.performConsistencyCheck(_)).next(()=>f.ai.qs(_,E))})}(i.localStore,e);aA(i,e,t),oA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield tc(i,r)}catch(r){yield vf(r)}}),rA.apply(this,arguments)}function sA(){return sA=(0,Ee.Z)(function*(n,e){const t=Je(n);Sd(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const d=Je(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.$s.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ua.get(i)||[];r.push(e),t.ua.set(i,r)}catch(i){const r=Qg(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),sA.apply(this,arguments)}function oA(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function aA(n,e,t){const i=Je(n);let r=i.oa[i.currentUser.toKey()];if(r){const l=r.get(e);l&&(t?l.reject(t):l.resolve(),r=r.remove(e)),i.oa[i.currentUser.toKey()]=r}}function em(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ea.get(e))n.ta.delete(i),t&&n.Zu.la(i,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(i=>{n.ra.containsKey(i)||fO(n,i)})}function fO(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(H_(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),uA(n))}function lA(n,e,t){for(const i of t)i instanceof lO?(n.ra.addReference(i.key,e),LL(n,i)):i instanceof uO?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.ra.removeReference(i.key,e),n.ra.containsKey(i.key)||fO(n,i.key)):lt()}function LL(n,e){const t=e.key,i=t.path.canonicalString();n.sa.get(t)||n.na.has(i)||(Ve("SyncEngine","New document in limbo: "+t),n.na.add(i),uA(n))}function uA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new $e(tn.fromString(e)),i=n.aa.next();n.ia.set(i,new SL(t)),n.sa=n.sa.insert(t,i),qE(n.remoteStore,new Dd(Eo(uf(t.path)),i,2,Nr.A))}}function tc(n,e,t){return cA.apply(this,arguments)}function cA(){return cA=(0,Ee.Z)(function*(n,e,t){const i=Je(n),r=[],l=[],d=[];var f;i.ta.isEmpty()||(i.ta.forEach((f,_)=>{d.push(i.ha(_,e,t).then(E=>{if(E){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,E.fromCache?"not-current":"current"),r.push(E);const I=pI.Js(_.targetId,E);l.push(I)}}))}),yield Promise.all(d),i.Zu.Ko(r),yield(f=(0,Ee.Z)(function*(_,E){const I=Je(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>be.forEach(E,G=>be.forEach(G.zs,K=>I.persistence.referenceDelegate.addReference(R,G.targetId,K)).next(()=>be.forEach(G.Hs,K=>I.persistence.referenceDelegate.removeReference(R,G.targetId,K)))))}catch(R){if(!ff(R))throw R;Ve("LocalStore","Failed to update sequence numbers: "+R)}for(const R of E){const G=R.targetId;if(!R.fromCache){const K=I.si.get(G),ce=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);I.si=I.si.insert(G,ce)}}}),function(_,E){return f.apply(this,arguments)})(i.localStore,l))}),cA.apply(this,arguments)}function VL(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,Ee.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const i=yield jR(t.localStore,e);t.currentUser=e,(r=t).ua.forEach(d=>{d.forEach(f=>{f.reject(new Fe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.ua.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield tc(t,i.ci)}var r}),dA.apply(this,arguments)}function BL(n,e){const t=Je(n),i=t.ia.get(e);if(i&&i.Xu)return Dn().add(i.key);{let r=Dn();const l=t.ea.get(e);if(!l)return r;for(const d of l){const f=t.ta.get(d);r=r.unionWith(f.view.qu)}return r}}function UL(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,Ee.Z)(function*(n,e){const t=Je(n),i=yield HE(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&lA(t,e.targetId,r.zu),r}),hA.apply(this,arguments)}function jL(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,Ee.Z)(function*(n,e){const t=Je(n);return zR(t.localStore,e).then(i=>tc(t,i))}),fA.apply(this,arguments)}function GL(n,e,t,i){return pA.apply(this,arguments)}function pA(){return pA=(0,Ee.Z)(function*(n,e,t,i){const r=Je(n),l=yield function(d,f){const _=Je(d),E=Je(_.$s);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>E.ln(I,f).next(R=>R?_.ai.qs(I,R):be.resolve(null)))}(r.localStore,e);var f;null!==l?("pending"===t?yield Yg(r.remoteStore):"acknowledged"===t||"rejected"===t?(aA(r,e,i||null),oA(r,e),f=e,Je(Je(r.localStore).$s).dn(f)):lt(),yield tc(r,l)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),pA.apply(this,arguments)}function gA(){return gA=(0,Ee.Z)(function*(n,e){const t=Je(n);if(vA(t),bA(t),!0===e&&!0!==t.ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield pO(t,i.toArray());t.ca=!0,yield jI(t.remoteStore,!0);for(const l of r)qE(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const i=[];let r=Promise.resolve();t.ea.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(em(t,d),qg(t.localStore,d,!0))),H_(t.remoteStore,d)}),yield r,yield pO(t,i),function(l){const d=Je(l);d.ia.forEach((f,_)=>{H_(d.remoteStore,_)}),d.ra.bi(),d.ia=new Map,d.sa=new Ni($e.comparator)}(t),t.ca=!1,yield jI(t.remoteStore,!1)}}),gA.apply(this,arguments)}function pO(n,e,t){return mA.apply(this,arguments)}function mA(){return mA=(0,Ee.Z)(function*(n,e,t){const i=Je(n),r=[],l=[];for(const d of e){let f;const _=i.ea.get(d);if(_&&0!==_.length){f=yield Wg(i.localStore,Eo(_[0]));for(const E of _){const I=i.ta.get(E),R=yield UL(i,I);R.snapshot&&l.push(R.snapshot)}}else{const E=yield $R(i.localStore,d);f=yield Wg(i.localStore,E),yield QI(i,gO(E),d,!1)}r.push(f)}return i.Zu.Ko(l),r}),mA.apply(this,arguments)}function gO(n){return Wx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $L(n){const e=Je(n);return Je(Je(e.localStore).persistence).Os()}function zL(n,e,t,i){return yA.apply(this,arguments)}function yA(){return yA=(0,Ee.Z)(function*(n,e,t,i){const r=Je(n);if(r.ca)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const l=r.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield zR(r.localStore,Yx(l[0])),f=S_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield tc(r,d,f);break}case"rejected":yield qg(r.localStore,e,!0),em(r,e,i);break;default:lt()}}),yA.apply(this,arguments)}function WL(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,Ee.Z)(function*(n,e,t){const i=vA(n);if(i.ca){for(const r of e){if(i.ea.has(r)){Ve("SyncEngine","Adding an already active target "+r);continue}const l=yield $R(i.localStore,r),d=yield Wg(i.localStore,l);yield QI(i,gO(l),d.targetId,!1),qE(i.remoteStore,d)}for(const r of t)i.ea.has(r)&&(yield qg(i.localStore,r,!1).then(()=>{H_(i.remoteStore,r),em(i,r)}).catch(vf))}}),_A.apply(this,arguments)}function vA(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kL.bind(null,e),e.Zu.Ko=CL.bind(null,e.eventManager),e.Zu.la=DL.bind(null,e.eventManager),e}function bA(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PL.bind(null,e),e}class mO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.M=j_(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return UR(this.persistence,new BR,e.initialUser,this.M)}_a(e){return new tL(bI.Wi,this.M)}da(e){return new YR}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yO extends mO{constructor(e,t,i){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e),yield i.ga.initialize(i,e),yield bA(i.ga.syncEngine),yield Yg(i.ga.remoteStore),yield i.persistence.Is(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ma(e){return UR(this.persistence,new BR,e.initialUser,this.M)}wa(e){return new N1(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=fI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Qs.withCacheSize(this.cacheSizeBytes):Qs.DEFAULT;return new hI(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,QR(),WE(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new YR}}class KL extends yO{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e);const r=i.ga.syncEngine;i.sharedClientState instanceof DI&&(i.sharedClientState.syncEngine={kr:GL.bind(null,r),Mr:zL.bind(null,r),Or:WL.bind(null,r),Os:$L.bind(null,r),Nr:jL.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Is(function(){var l=(0,Ee.Z)(function*(d){yield function HL(n,e){return gA.apply(this,arguments)}(i.ga.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):d||i.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}da(e){const t=QR();if(!DI.vt(t))throw new Fe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=fI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new DI(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class wA{initialize(e,t){var i=this;return(0,Ee.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>hO(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=VL.bind(null,i.syncEngine),yield jI(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new EL}createDatastore(e){const t=j_(e.databaseInfo.databaseId),i=new oL(e.databaseInfo);return new uL(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,l=f=>hO(this.syncEngine,f,0),d=ZR.vt()?new ZR:new iL,new dL(t,i,r,l,d);var t,i,r,l,d}createSyncEngine(e,t){return function(i,r,l,d,f,_,E){const I=new TL(i,r,l,d,f,_);return E&&(I.ca=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const i=Je(t);Ve("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield Kg(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _O(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class YE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class YL{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Ii,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const i=e.Ta.decode(t),r=Number(i);isNaN(r)&&e.Ra(`length string (${i}) is not valid number`);const l=yield e.ba(r);return new xL(JSON.parse(l),t.length+r)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,Ee.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ba(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const i=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class ZL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ee.Z)(function*(l,d){const f=Je(l),_=O_(f.M)+"/documents",E={documents:d.map(K=>R_(f.M,K))},I=yield f.co("BatchGetDocuments",_,E),R=new Map;I.forEach(K=>{const Q=function YN(n,e){return"found"in e?function(t,i){Rt(!!i.found);const r=Ql(t,i.found.name),l=yr(i.found.updateTime),d=new gr({mapValue:{fields:i.found.fields}});return Bn.newFoundDocument(r,l,d)}(n,e):"missing"in e?function(t,i){Rt(!!i.missing),Rt(!!i.readTime);const r=Ql(t,i.missing),l=yr(i.readTime);return Bn.newNoDocument(r,l)}(n,e):lt()}(f.M,K);R.set(Q.key.toString(),Q)});const G=[];return d.forEach(K=>{const Q=R.get(K.toString());Rt(!!Q),G.push(Q)}),G}),function(l,d){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new I_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const l=$e.fromPath(r);e.mutations.push(new Zx(l,e.precondition(l)))}),yield(i=(0,Ee.Z)(function*(r,l){const d=Je(r),f=O_(d.M)+"/documents",_={writes:l.map(E=>k_(d.M,E))};yield d.ro("Commit",f,_)}),function(r,l){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lt();t=At.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Fe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?wt.updateTime(t):wt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new Fe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wt.updateTime(t)}return wt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class QL{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.va=5,this.So=new xI(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,Ee.Z)(function*(){const t=new ZL(e.datastore),i=e.Da(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(l=>{e.Ca(l)}))}).catch(r=>{e.Ca(r)})}))}Da(e){try{const t=this.updateFunction(e);return!Yl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!zM(t)}return!1}}class XL{constructor(e,t,i,r){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=pr.UNAUTHENTICATED,this.clientId=Ys.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,Ee.Z)(function*(f){Ve("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(Ve("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Qg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function vO(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ee.Z)(function*(l){i.isEqual(l)||(yield jR(e.localStore,l),i=l)});return function(l){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),EA.apply(this,arguments)}function bO(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield DA(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>rO(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,l)=>rO(e.remoteStore,l)),n.onlineComponents=e}),CA.apply(this,arguments)}function DA(n){return xA.apply(this,arguments)}function xA(){return xA=(0,Ee.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield vO(n,new mO)),n.offlineComponents}),xA.apply(this,arguments)}function ZE(n){return IA.apply(this,arguments)}function IA(){return IA=(0,Ee.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield bO(n,new wA)),n.onlineComponents}),IA.apply(this,arguments)}function wO(n){return DA(n).then(e=>e.persistence)}function AA(n){return DA(n).then(e=>e.localStore)}function EO(n){return ZE(n).then(e=>e.remoteStore)}function SA(n){return ZE(n).then(e=>e.syncEngine)}function tm(n){return TA.apply(this,arguments)}function TA(){return TA=(0,Ee.Z)(function*(n){const e=yield ZE(n),t=e.eventManager;return t.onListen=ML.bind(null,e.syncEngine),t.onUnlisten=RL.bind(null,e.syncEngine),t}),TA.apply(this,arguments)}function CO(n,e,t={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,l,d,f,_){const E=new YE({next:R=>{l.enqueueAndForget(()=>WI(r,I));const G=R.docs.has(d);!G&&R.fromCache?_.reject(new Fe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&R.fromCache&&f&&"server"===f.source?_.reject(new Fe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),I=new YI(uf(d.path),E,{includeMetadataChanges:!0,Du:!0});return $I(r,I)}(yield tm(n),n.asyncQueue,e,t,i)})),i.promise}function DO(n,e,t={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,l,d,f,_){const E=new YE({next:R=>{l.enqueueAndForget(()=>WI(r,I)),R.fromCache&&"server"===f.source?_.reject(new Fe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),I=new YI(d,E,{includeMetadataChanges:!0,Du:!0});return $I(r,I)}(yield tm(n),n.asyncQueue,e,t,i)})),i.promise}const xO=new Map;function MA(n,e,t){if(!t)throw new Fe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IO(n,e,t,i){if(!0===e&&!0===i)throw new Fe(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function AO(n){if(!$e.isDocumentKey(n))throw new Fe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SO(n){if($e.isDocumentKey(n))throw new Fe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=QE(n);throw new Fe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function TO(n,e){if(e<=0)throw new Fe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class MO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,IO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $_{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MO({}),this._settingsFrozen=!1,e instanceof ta?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Fe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(r.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new NM;switch(t.type){case"gapi":const i=t.client;return Rt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new BM(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xO.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),xO.delete(e),t.terminate())}(this),Promise.resolve()}}class Xn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class ns{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class Xl extends ns{constructor(e,t,i){super(e,t,uf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new $e(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function RO(n,e,...t){if(n=(0,Yt.m9)(n),MA("collection","path",e),n instanceof $_){const i=tn.fromString(e,...t);return SO(i),new Xl(n,null,i)}{if(!(n instanceof Xn||n instanceof Xl))throw new Fe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(tn.fromString(e,...t));return SO(i),new Xl(n.firestore,null,i)}}function XE(n,e,...t){if(n=(0,Yt.m9)(n),1===arguments.length&&(e=Ys.R()),MA("doc","path",e),n instanceof $_){const i=tn.fromString(e,...t);return AO(i),new Xn(n,null,new $e(i))}{if(!(n instanceof Xn||n instanceof Xl))throw new Fe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(tn.fromString(e,...t));return AO(i),new Xn(n.firestore,n instanceof Xl?n.converter:null,new $e(i))}}function OO(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),(n instanceof Xn||n instanceof Xl)&&(e instanceof Xn||e instanceof Xl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function kO(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),n instanceof ns&&e instanceof ns&&n.firestore===e.firestore&&df(n._query,e._query)&&n.converter===e.converter}class uV{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new xI(this,"async_queue_retry"),this.Ua=()=>{const t=WE();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=WE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=WE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Ii;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!ff(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(i=>{throw this.Fa=i,this.$a=!1,gi("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(i)),i}).then(i=>(this.$a=!1,i))));return this.Na=t,t}enqueueAfterDelay(e,t,i){this.qa(),this.La.indexOf(e)>-1&&(t=0);const r=HI.createAndSchedule(this,e,t,i,l=>this.Qa(l));return this.Oa.push(r),r}qa(){this.Fa&&lt()}verifyOperationInProgress(){}ja(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function RA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class cV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class si extends $_{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new uV,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||FO(this),this._firestoreClient.terminate()}}function hV(n=(0,Ga.getApp)()){return(0,Ga._getProvider)(n,"firestore").getImmediate()}function Yi(n){return n._firestoreClient||FO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function FO(n){var e;const t=n._freezeSettings(),i=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new HM(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new XL(n._authCredentials,n._appCheckCredentials,n._queue,i)}function PO(n,e,t){const i=new Ii;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield vO(n,t),yield bO(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(l=r).name?l.code===fe.FAILED_PRECONDITION||l.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var l})).then(()=>i.promise)}function NO(n){if(n._initialized||n._terminated)throw new Fe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jl(Pi.fromBase64String(e))}catch(t){throw new Fe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jl(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wf{constructor(e){this._methodName=e}}class JE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}const wV=/^__.*__$/;class EV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms):new ec(e,this.data,t,this.fieldTransforms)}}class LO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class e0{constructor(e,t,i,r,l,d){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new e0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:i,tc:!1});return r.ec(e),r}nc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:i,tc:!1});return r.Ja(),r}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return r0(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(VO(this.Ya)&&wV.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class CV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||j_(e)}uc(e,t,i,r=!1){return new e0({Ya:e,methodName:t,oc:i,path:qi.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Ef(n){const e=n._freezeSettings(),t=j_(n._databaseId);return new CV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function t0(n,e,t,i,r,l={}){const d=n.uc(l.merge||l.mergeFields?2:0,e,t,r);PA("Data must be an object, but it was:",d,i);const f=jO(i,d);let _,E;if(l.merge)_=new ql(d.fieldMask),E=d.fieldTransforms;else if(l.mergeFields){const I=[];for(const R of l.mergeFields){const G=NA(e,R,t);if(!d.contains(G))throw new Fe(fe.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);HO(I,G)||I.push(G)}_=new ql(I),E=d.fieldTransforms.filter(R=>_.covers(R.field))}else _=null,E=d.fieldTransforms;return new EV(new gr(f),_,E)}class z_ extends wf{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof z_}}function BO(n,e,t){return new e0({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class OA extends wf{_toFieldTransform(e){return new rt(e.path,new S)}isEqual(e){return e instanceof OA}}class DV extends wf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=BO(this,e,!0),i=this.ac.map(l=>Cf(l,t)),r=new T(i);return new rt(e.path,r)}isEqual(e){return this===e}}class xV extends wf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=BO(this,e,!0),i=this.ac.map(l=>Cf(l,t)),r=new $(i);return new rt(e.path,r)}isEqual(e){return this===e}}class IV extends wf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new ve(e.M,h(e.M,this.cc));return new rt(e.path,t)}isEqual(e){return this===e}}function kA(n,e,t,i){const r=n.uc(1,e,t);PA("Data must be an object, but it was:",r,i);const l=[],d=gr.empty();Wl(i,(_,E)=>{const I=n0(e,_,t);E=(0,Yt.m9)(E);const R=r.nc(I);if(E instanceof z_)l.push(I);else{const G=Cf(E,R);null!=G&&(l.push(I),d.set(I,G))}});const f=new ql(l);return new LO(d,f,r.fieldTransforms)}function FA(n,e,t,i,r,l){const d=n.uc(1,e,t),f=[NA(e,i,t)],_=[r];if(l.length%2!=0)throw new Fe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let G=0;G<l.length;G+=2)f.push(NA(e,l[G])),_.push(l[G+1]);const E=[],I=gr.empty();for(let G=f.length-1;G>=0;--G)if(!HO(E,f[G])){const K=f[G];let Q=_[G];Q=(0,Yt.m9)(Q);const ce=d.nc(K);if(Q instanceof z_)E.push(K);else{const Le=Cf(Q,ce);null!=Le&&(E.push(K),I.set(K,Le))}}const R=new ql(E);return new LO(I,R,d.fieldTransforms)}function UO(n,e,t,i=!1){return Cf(t,n.uc(i?4:3,e))}function Cf(n,e){if(GO(n=(0,Yt.m9)(n)))return PA("Unsupported field value:",e,n),jO(n,e);if(n instanceof wf)return function(t,i){if(!VO(i.Ya))throw i.ic(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ic(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,i){const r=[];let l=0;for(const d of t){let f=Cf(d,i.sc(l));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),l++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return h(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=mi.fromDate(t);return{timestampValue:M_(i.M,r)}}if(t instanceof mi){const r=new mi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:M_(i.M,r)}}if(t instanceof JE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Jl)return{bytesValue:JM(i.M,t._byteString)};if(t instanceof Xn){const r=i.databaseId,l=t.firestore._databaseId;if(!l.isEqual(r))throw i.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Xx(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ic(`Unsupported field value: ${QE(t)}`)}(n,e)}function jO(n,e){const t={};return gE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wl(n,(i,r)=>{const l=Cf(r,e.Za(i));null!=l&&(t[i]=l)}),{mapValue:{fields:t}}}function GO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof mi||n instanceof JE||n instanceof Jl||n instanceof Xn||n instanceof wf)}function PA(n,e,t){if(!GO(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=QE(t);throw e.ic("an object"===i?n+" a custom object":n+" "+i)}var i}function NA(n,e,t){if((e=(0,Yt.m9)(e))instanceof nc)return e._internalPath;if("string"==typeof e)return n0(n,e);throw r0("Field path arguments must be of type string or ",n,!1,void 0,t)}const AV=new RegExp("[~\\*/\\[\\]]");function n0(n,e,t){if(e.search(AV)>=0)throw r0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nc(...e.split("."))._internalPath}catch(i){throw r0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function r0(n,e,t,i,r){const l=i&&!i.isEmpty(),d=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||d)&&(_+=" (found",l&&(_+=` in field ${i}`),d&&(_+=` in document ${r}`),_+=")"),new Fe(fe.INVALID_ARGUMENT,f+n+_)}function HO(n,e){return n.some(t=>t.isEqual(e))}class W_{constructor(e,t,i,r,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new SV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(s0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class SV extends W_{data(){return super.data()}}function s0(n,e){return"string"==typeof e?n0(n,e):e instanceof nc?e._internalPath:e._delegate._internalPath}class Df{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ic extends W_{constructor(e,t,i,r,l,d){super(e,t,i,r,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new q_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(s0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class q_ extends ic{data(e={}){return super.data(e)}}class Md{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Df(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new q_(this._firestore,this._userDataWriter,i.key,i,new Df(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new q_(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Df(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const f=new q_(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Df(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,E=-1;return 0!==d.type&&(_=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),E=l.indexOf(d.doc.key)),{type:TV(d.type),doc:f,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function TV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function $O(n,e){return n instanceof ic&&e instanceof ic?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Md&&e instanceof Md&&n._firestore===e._firestore&&kO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function zO(n){if(kg(n)&&0===n.explicitOrderBy.length)throw new Fe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K_{}function Rd(n,...e){for(const t of e)n=t._apply(n);return n}class MV extends K_{constructor(e,t,i){super(),this.hc=e,this.lc=t,this.fc=i,this.type="where"}_apply(e){const t=Ef(e.firestore),i=function(r,l,d,f,_,E,I){let R;if(_.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Fe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){QO(I,E);const K=[];for(const Q of I)K.push(ZO(f,r,Q));R={arrayValue:{values:K}}}else R=ZO(f,r,I)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||QO(I,E),R=UO(d,"where",I,"in"===E||"not-in"===E);const G=sr.create(_,E,R);return function(K,Q){if(Q.S()){const Le=IE(K);if(null!==Le&&!Le.isEqual(Q.field))throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Le.toString()}' and '${Q.field.toString()}'`);const tt=D_(K);null!==tt&&XO(0,Q.field,tt)}const ce=function(Le,tt){for(const Xe of Le.filters)if(tt.indexOf(Xe.op)>=0)return Xe.op;return null}(K,function(Le){switch(Le){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Q.op));if(null!==ce)throw new Fe(fe.INVALID_ARGUMENT,ce===Q.op?`Invalid query. You cannot use more than one '${Q.op.toString()}' filter.`:`Invalid query. You cannot use '${Q.op.toString()}' filters with '${ce.toString()}' filters.`)}(r,G),G}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new ns(e.firestore,e.converter,function(r,l){const d=r.filters.concat([l]);return new Qa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),d,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class OV extends K_{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(i,r,l){if(null!==i.startAt)throw new Fe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Fe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new lf(r,l);return function(f,_){if(null===D_(f)){const E=IE(f);null!==E&&XO(0,E,_.field)}}(i,d),d}(e._query,this.hc,this.dc);return new ns(e.firestore,e.converter,function(i,r){const l=i.explicitOrderBy.concat([r]);return new Qa(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class WO extends K_{constructor(e,t,i){super(),this.type=e,this._c=t,this.wc=i}_apply(e){return new ns(e.firestore,e.converter,qx(e._query,this._c,this.wc))}}class qO extends K_{constructor(e,t,i){super(),this.type=e,this.mc=t,this.gc=i}_apply(e){const t=YO(e,this.type,this.mc,this.gc);return new ns(e.firestore,e.converter,(r=t,new Qa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class KO extends K_{constructor(e,t,i){super(),this.type=e,this.mc=t,this.gc=i}_apply(e){const t=YO(e,this.type,this.mc,this.gc);return new ns(e.firestore,e.converter,(r=t,new Qa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function YO(n,e,t,i){if(t[0]=(0,Yt.m9)(t[0]),t[0]instanceof W_)return function(r,l,d,f,_){if(!f)throw new Fe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const I of cf(r))if(I.field.isKeyField())E.push(tf(l,f.key));else{const R=f.data.field(I.field);if(__(R))throw new Fe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const G=I.field.canonicalString();throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${G}' (used as the orderBy) does not exist.`)}E.push(R)}return new ia(E,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Ef(n.firestore);return function(l,d,f,_,E,I){const R=l.explicitOrderBy;if(E.length>R.length)throw new Fe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const G=[];for(let K=0;K<E.length;K++){const Q=E[K];if(R[K].field.isKeyField()){if("string"!=typeof Q)throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Q}`);if(!AE(l)&&-1!==Q.indexOf("/"))throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Q}' contains a slash.`);const ce=l.path.child(tn.fromString(Q));if(!$e.isDocumentKey(ce))throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ce}' is not because it contains an odd number of segments.`);const Le=new $e(ce);G.push(tf(d,Le))}else{const ce=UO(f,_,Q);G.push(ce)}}return new ia(G,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function ZO(n,e,t){if("string"==typeof(t=(0,Yt.m9)(t))){if(""===t)throw new Fe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AE(e)&&-1!==t.indexOf("/"))throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(tn.fromString(t));if(!$e.isDocumentKey(i))throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return tf(n,new $e(i))}if(t instanceof Xn)return tf(n,t._key);throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QE(t)}.`)}function QO(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function XO(n,e,t){if(!t.isEqual(e))throw new Fe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class LA{convertValue(e,t="none"){switch(Zl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){const i={};return Wl(e.fields,(r,l)=>{i[r]=this.convertValue(l,t)}),i}convertGeoPoint(e){return new JE(Zn(e.latitude),Zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=v_(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Jh(e));default:return null}}convertTimestamp(e){const t=Kl(e);return new mi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=tn.fromString(e);Rt(uR(i));const r=new ta(i.get(1),i.get(3)),l=new $e(i.popFirst(5));return r.isEqual(t)||gi(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function o0(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class UV extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,t)}}class JO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ef(e)}set(e,t,i){this._verifyNotCommitted();const r=Od(e,this._firestore),l=o0(r.converter,t,i),d=t0(this._dataReader,"WriteBatch.set",r._key,l,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,wt.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const l=Od(e,this._firestore);let d;return d="string"==typeof(t=(0,Yt.m9)(t))||t instanceof nc?FA(this._dataReader,"WriteBatch.update",l._key,t,i,r):kA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,wt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Od(e,this._firestore);return this._mutations=this._mutations.concat(new I_(t._key,wt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Od(n,e){if((n=(0,Yt.m9)(n)).firestore!==e)throw new Fe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class xf extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,t)}}function ek(n,e,t){n=dn(n,Xn);const i=dn(n.firestore,si),r=o0(n.converter,e,t);return nm(i,[t0(Ef(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,wt.none())])}function tk(n,e,t,...i){n=dn(n,Xn);const r=dn(n.firestore,si),l=Ef(r);let d;return d="string"==typeof(e=(0,Yt.m9)(e))||e instanceof nc?FA(l,"updateDoc",n._key,e,t,i):kA(l,"updateDoc",n._key,e),nm(r,[d.toMutation(n._key,wt.exists(!0))])}function nk(n,...e){var t,i,r;n=(0,Yt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||RA(e[d])||(l=e[d],d++);const f={includeMetadataChanges:l.includeMetadataChanges};if(RA(e[d])){const R=e[d];e[d]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[d+1]=null===(i=R.error)||void 0===i?void 0:i.bind(R),e[d+2]=null===(r=R.complete)||void 0===r?void 0:r.bind(R)}let _,E,I;if(n instanceof Xn)E=dn(n.firestore,si),I=uf(n._key.path),_={next:R=>{e[d]&&e[d](VA(E,n,R))},error:e[d+1],complete:e[d+2]};else{const R=dn(n,ns);E=dn(R.firestore,si),I=R._query;const G=new xf(E);_={next:K=>{e[d]&&e[d](new Md(E,G,R,K))},error:e[d+1],complete:e[d+2]},zO(n._query)}return function(R,G,K,Q){const ce=new YE(Q),Le=new YI(G,ce,K);return R.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return $I(yield tm(R),Le)})),()=>{ce.pa(),R.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return WI(yield tm(R),Le)}))}}(Yi(E),I,f,_)}function nm(n,e){return function(t,i){const r=new Ii;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function OL(n,e,t){return eA.apply(this,arguments)}(yield SA(t),i,r)})),r.promise}(Yi(n),e)}function VA(n,e,t){const i=t.docs.get(e._key),r=new xf(n);return new ic(n,r,e._key,i,new Df(t.hasPendingWrites,t.fromCache),e.converter)}class ZV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ef(e)}get(e){const t=Od(e,this._firestore),i=new UV(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return lt();const l=r[0];if(l.isFoundDocument())return new W_(this._firestore,i,l.key,l,t.converter);if(l.isNoDocument())return new W_(this._firestore,i,t._key,null,t.converter);throw lt()})}set(e,t,i){const r=Od(e,this._firestore),l=o0(r.converter,t,i),d=t0(this._dataReader,"Transaction.set",r._key,l,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(e,t,i,...r){const l=Od(e,this._firestore);let d;return d="string"==typeof(t=(0,Yt.m9)(t))||t instanceof nc?FA(this._dataReader,"Transaction.update",l._key,t,i,r):kA(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Od(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Od(e,this._firestore),i=new xf(this._firestore);return super.get(e).then(r=>new ic(this._firestore,i,t._key,r._document,new Df(!1,!1),t.converter))}}!function(n,e=!0){Ya=Ga.SDK_VERSION,(0,Ga._registerComponent)(new Xc.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=new si(r,new VM(t.getProvider("auth-internal")),new UM(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC")),(0,Ga.registerVersion)(kx,"3.4.7",n),(0,Ga.registerVersion)(kx,"3.4.7","esm2017")}();class BA{constructor(e){return e}}const rk="firestore",UA=new c.OlP("angularfire2.firestore-instances");function sB(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new BA(i)}}const oB={provide:class iB{constructor(){return(0,un.vb)(rk)}},deps:[[new c.FiY,UA]]},aB={provide:BA,useFactory:function rB(n,e){const t=(0,un.JM)(rk,n,e);return t&&new BA(t)},deps:[[new c.FiY,UA],Bu]};let lB=(()=>{class n{constructor(){(0,ja.KN)("angularfire",un.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[aB,oB]}),n})();function uB(n,...e){return{ngModule:lB,providers:[{provide:UA,useFactory:sB(n),multi:!0,deps:[c.R0b,c.zs3,un.HU,vp,[new c.FiY,_y],[new c.FiY,Gu],...e]}]}}const cB=(0,un.u3)(hV,!0);var im=F(6451);function sk(n){for(let e in n){let t=n[e]||"";switch(e){case"display":n.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=t;break;case"flex-direction":t=t||"row",n["-webkit-flex-direction"]=t,n["flex-direction"]=t;break;case"order":n.order=n["-webkit-"+e]=isNaN(+t)?"0":t}}return n}const jA="inline",a0=["row","column","row-reverse","column-reverse"];function ok(n){let[e,t,i]=ak(n);return function hB(n,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":e||null}}(e,t,i)}function ak(n){var e;n=null!==(e=null==n?void 0:n.toLowerCase())&&void 0!==e?e:"";let[t,i,r]=n.split(" ");return a0.find(l=>l===t)||(t=a0[0]),i===jA&&(i=r!==jA?r:"",r=jA),[t,dB(i),!!r]}function Y_(n){let[e]=ak(n);return e.indexOf("row")>-1}function dB(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function rc(n,...e){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(null!=t)for(let i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}var Z_=F(8505);const pB={provide:c.tb,useFactory:function fB(n,e){return()=>{if(an(e)){const t=Array.from(n.querySelectorAll(`[class*=${lk}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(r=>{r.classList.contains(`${lk}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[re,c.Lbi],multi:!0},lk="flex-layout-";let GA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[pB]}),n})();class If{constructor(e=!1,t="all",i="",r="",l=0){this.matches=e,this.mediaQuery=t,this.mqAlias=i,this.suffix=r,this.priority=l,this.property=""}clone(){return new If(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let gB=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(t,i,r){const l=this.stylesheet.get(t);l?l.set(i,r):this.stylesheet.set(t,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,i){const r=this.stylesheet.get(t);let l="";if(r){const d=r.get(i);("number"==typeof d||"string"==typeof d)&&(l=d+"")}return l}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HA={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},tl=new c.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>HA}),rm=new c.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),$A=new c.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function uk(n,e){return n=n?n.clone():new If,e&&(n.mqAlias=e.alias,n.mediaQuery=e.mediaQuery,n.suffix=e.suffix,n.priority=e.priority),n}class Ai{constructor(){this.shouldCache=!0}sideEffect(e,t,i){}}let Jn=(()=>{class n{constructor(t,i,r,l){this._serverStylesheet=t,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=l}applyStyleToElement(t,i,r=null){let l={};"string"==typeof i&&(l[i]=r,i=l),l=this.layoutConfig.disableVendorPrefixes?i:sk(i),this._applyMultiValueStyleToElement(l,t)}applyStyleToElements(t,i=[]){const r=this.layoutConfig.disableVendorPrefixes?t:sk(t);i.forEach(l=>{this._applyMultiValueStyleToElement(r,l)})}getFlowDirection(t){const i="flex-direction";let r=this.lookupStyle(t,i);return[r||"row",this.lookupInlineStyle(t,i)||dr(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,i){var r;return null!==(r=t.getAttribute(i))&&void 0!==r?r:""}lookupInlineStyle(t,i){return an(this._platformId)?t.style.getPropertyValue(i):function mB(n,e){var t;return null!==(t=ck(n)[e])&&void 0!==t?t:""}(t,i)}lookupStyle(t,i,r=!1){let l="";return t&&((l=this.lookupInlineStyle(t,i))||(an(this._platformId)?r||(l=getComputedStyle(t).getPropertyValue(i)):this._serverModuleLoaded&&(l=this._serverStylesheet.getStyleForElement(t,i)))),l?l.trim():""}_applyMultiValueStyleToElement(t,i){Object.keys(t).sort().forEach(r=>{const l=t[r],d=Array.isArray(l)?l:[l];d.sort();for(let f of d)f=f?f+"":"",an(this._platformId)||!this._serverModuleLoaded?an(this._platformId)?i.style.setProperty(r,f):yB(i,r,f):this._serverStylesheet.addStyleToElement(i,r,f)})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gB),c.LFG(rm),c.LFG(c.Lbi),c.LFG(tl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yB(n,e,t){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=ck(n);i[e]=null!=t?t:"",function _B(n,e){let t="";for(const i in e)e[i]&&(t+=`${i}:${e[i]};`);n.setAttribute("style",t)}(n,i)}function ck(n){const e={},t=n.getAttribute("style");if(t){const i=t.split(/;+/g);for(let r=0;r<i.length;r++){const l=i[r].trim();if(l.length>0){const d=l.indexOf(":");if(-1===d)throw new Error(`Invalid CSS style: ${l}`);e[l.substr(0,d).trim()]=l.substr(d+1).trim()}}}return e}function Q_(n,e){return(e&&e.priority||0)-(n&&n.priority||0)}function vB(n,e){return(n.priority||0)-(e.priority||0)}let zA=(()=>{class n{constructor(t,i,r){this._zone=t,this._platformId=i,this._document=r,this.source=new Tv(new If(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((i,r)=>{i.matches&&t.push(r)}),t}isActive(t){var i;const r=this.registry.get(t);return null!==(i=null==r?void 0:r.matches)&&void 0!==i?i:this.registerQuery(t).some(l=>l.matches)}observe(t,i=!1){if(t&&t.length){const r=this._observable$.pipe(ys(d=>!i||t.indexOf(d.mediaQuery)>-1)),l=new mo.y(d=>{const f=this.registerQuery(t);if(f.length){const _=f.pop();f.forEach(E=>{d.next(E)}),this.source.next(_)}d.complete()});return(0,im.T)(l,r)}return this._observable$}registerQuery(t){const i=Array.isArray(t)?t:[t],r=[];return function bB(n,e){const t=n.filter(i=>!dk[i]);if(t.length>0){const i=t.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),e.head.appendChild(r),t.forEach(l=>dk[l]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(l=>{const d=_=>{this._zone.run(()=>this.source.next(new If(_.matches,l)))};let f=this.registry.get(l);f||(f=this.buildMQL(l),f.addListener(d),this.pendingRemoveListenerFns.push(()=>f.removeListener(d)),this.registry.set(l,f)),f.matches&&r.push(new If(!0,l))}),r}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function wB(n,e){return e&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,an(this._platformId))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(c.Lbi),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dk={},EB=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],hk="(orientation: portrait) and (max-width: 599.98px)",fk="(orientation: landscape) and (max-width: 959.98px)",pk="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",gk="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",mk="(orientation: portrait) and (min-width: 840px)",yk="(orientation: landscape) and (min-width: 1280px)",sc={HANDSET:`${hk}, ${fk}`,TABLET:`${pk} , ${gk}`,WEB:`${mk}, ${yk} `,HANDSET_PORTRAIT:`${hk}`,TABLET_PORTRAIT:`${pk} `,WEB_PORTRAIT:`${mk}`,HANDSET_LANDSCAPE:`${fk}`,TABLET_LANDSCAPE:`${gk}`,WEB_LANDSCAPE:`${yk}`},CB=[{alias:"handset",priority:2e3,mediaQuery:sc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:sc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:sc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:sc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:sc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:sc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:sc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:sc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:sc.WEB_PORTRAIT,overlapping:!0}],DB=/(\.|-|_)/g;function xB(n){let e=n.length>0?n.charAt(0):"",t=n.length>1?n.slice(1):"";return e.toUpperCase()+t}const TB=new c.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,c.f3M)($A),e=(0,c.f3M)(tl),t=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function SB(n,e=[]){const t={};return n.forEach(i=>{t[i.alias]=i}),e.forEach(i=>{t[i.alias]?rc(t[i.alias],i):t[i.alias]=i}),function AB(n){return n.forEach(e=>{e.suffix||(e.suffix=function IB(n){return n.replace(DB,"|").split("|").map(xB).join("")}(e.alias),e.overlapping=!!e.overlapping)}),n}(Object.keys(t).map(i=>t[i]))}((e.disableDefaultBps?[]:EB).concat(e.addOrientationBps?CB:[]),t)}});let WA=(()=>{class n{constructor(t){this.findByMap=new Map,this.items=[...t].sort(vB)}findByAlias(t){return t?this.findWithPredicate(t,i=>i.alias===t):null}findByQuery(t){return this.findWithPredicate(t,i=>i.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>{var i;return null!==(i=null==t?void 0:t.suffix)&&void 0!==i?i:""})}findWithPredicate(t,i){var r;let l=this.findByMap.get(t);return l||(l=null!==(r=this.items.find(i))&&void 0!==r?r:null,this.findByMap.set(t,l)),null!=l?l:null}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(TB))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sm="print",MB={alias:sm,mediaQuery:sm,priority:1e3};let RB=(()=>{class n{constructor(t,i,r){this.breakpoints=t,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new OB,this.deactivations=[]}withPrintQuery(t){return[...t,sm]}isPrintEvent(t){return t.mediaQuery.startsWith(sm)}get printAlias(){var t;return[...null!==(t=this.layoutConfig.printWithBreakpoints)&&void 0!==t?t:[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const i=this.breakpoints.findByQuery(t);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Q_)}updateEvent(t){var i;let r=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(r=this.getEventBreakpoints(t)[0],t.mediaQuery=null!==(i=null==r?void 0:r.mediaQuery)&&void 0!==i?i:""),uk(t,r)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new If(!0,sm))),t.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(t){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(i)),t.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,i)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,i){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const l=this.formerActivations&&this.formerActivations.includes(r),d=!this.formerActivations&&t.activatedBreakpoints.includes(r);(l||d)&&(this.deactivations.push(r),this.deactivations.sort(Q_))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(WA),c.LFG(tl),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class OB{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(MB),e.sort(Q_),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function kB(n){var e;return null!==(e=null==n?void 0:n.mediaQuery.startsWith(sm))&&void 0!==e&&e}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}let oi=(()=>{class n{constructor(t,i,r){this.matchMedia=t,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new hi.x,this.observeActivations()}get activatedAlias(){var t,i;return null!==(i=null===(t=this.activatedBreakpoints[0])||void 0===t?void 0:t.alias)&&void 0!==i?i:""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const i=this.findByQuery(t.mediaQuery);if(i){t=uk(t,i);const r=this.activatedBreakpoints.indexOf(i);t.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(Q_),this.updateStyles()):!t.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(Q_),this.updateStyles())}}init(t,i,r,l,d=[]){_k(this.updateMap,t,i,r),_k(this.clearMap,t,i,l),this.buildElementKeyMap(t,i),this.watchExtraTriggers(t,i,d)}getValue(t,i,r){const l=this.elementMap.get(t);if(l){const d=void 0!==r?l.get(r):this.getActivatedValues(l,i);if(d)return d.get(i)}}hasValue(t,i){const r=this.elementMap.get(t);if(r){const l=this.getActivatedValues(r,i);if(l)return void 0!==l.get(i)||!1}return!1}setValue(t,i,r,l){var d;let f=this.elementMap.get(t);if(f){const E=(null!==(d=f.get(l))&&void 0!==d?d:new Map).set(i,r);f.set(l,E),this.elementMap.set(t,f)}else f=(new Map).set(l,(new Map).set(i,r)),this.elementMap.set(t,f);const _=this.getValue(t,i);void 0!==_&&this.updateElement(t,i,_)}trackValue(t,i){return this.subject.asObservable().pipe(ys(r=>r.element===t&&r.key===i))}updateStyles(){this.elementMap.forEach((t,i)=>{const r=new Set(this.elementKeyMap.get(i));let l=this.getActivatedValues(t);l&&l.forEach((d,f)=>{this.updateElement(i,f,d),r.delete(f)}),r.forEach(d=>{if(l=this.getActivatedValues(t,d),l){const f=l.get(d);this.updateElement(i,d,f)}else this.clearElement(i,d)})})}clearElement(t,i){const r=this.clearMap.get(t);if(r){const l=r.get(i);l&&(l(),this.subject.next({element:t,key:i,value:""}))}}updateElement(t,i,r){const l=this.updateMap.get(t);if(l){const d=l.get(i);d&&(d(r),this.subject.next({element:t,key:i,value:r}))}}releaseElement(t){const i=this.watcherMap.get(t);i&&(i.forEach(l=>l.unsubscribe()),this.watcherMap.delete(t));const r=this.elementMap.get(t);r&&(r.forEach((l,d)=>r.delete(d)),this.elementMap.delete(t))}triggerUpdate(t,i){const r=this.elementMap.get(t);if(r){const l=this.getActivatedValues(r,i);l&&(i?this.updateElement(t,i,l.get(i)):l.forEach((d,f)=>this.updateElement(t,f,d)))}}buildElementKeyMap(t,i){let r=this.elementKeyMap.get(t);r||(r=new Set,this.elementKeyMap.set(t,r)),r.add(i)}watchExtraTriggers(t,i,r){if(r&&r.length){let l=this.watcherMap.get(t);if(l||(l=new Map,this.watcherMap.set(t,l)),!l.get(i)){const f=(0,im.T)(...r).subscribe(()=>{const _=this.getValue(t,i);this.updateElement(t,i,_)});l.set(i,f)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,i){for(let l=0;l<this.activatedBreakpoints.length;l++){const f=t.get(this.activatedBreakpoints[l].alias);if(f&&(void 0===i||f.has(i)&&null!=f.get(i)))return f}if(!this._useFallbacks)return;const r=t.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const t=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe((0,Z_.b)(this.hook.interceptEvents(this)),ys(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zA),c.LFG(WA),c.LFG(RB))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _k(n,e,t,i){var r;if(void 0!==i){const l=null!==(r=n.get(e))&&void 0!==r?r:new Map;l.set(t,i),n.set(e,l)}}let yi=(()=>{class n{constructor(t,i,r,l){this.elementRef=t,this.styleBuilder=i,this.styler=r,this.marshal=l,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new hi.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(t[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,i){const r=this.styleBuilder,l=r.shouldCache;let d=this.styleCache.get(t);(!d||!l)&&(d=r.buildStyles(t,i),l&&this.styleCache.set(t,d)),this.mru=Object.assign({},d),this.applyStyleToElement(d),r.sideEffect(t,d,i)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,i=!1){if(t){const[r,l]=this.styler.getFlowDirection(t);if(!l&&i){const d=ok(r);this.styler.applyStyleToElements(d,[t])}return r.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,i,r=this.nativeElement){this.styler.applyStyleToElement(r,t,i)}setValue(t,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,i)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Ai),c.Y36(Jn),c.Y36(oi))},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();function l0(n,e){if(void 0===e)return n;const t=i=>{const r=+i.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(r)?`${r*e.value}${e.unit}`:n};return n.includes(" ")?n.split(" ").map(t).join(" "):t(n)}let jB=(()=>{class n extends yi{constructor(t,i,r,l,d,f,_){super(t,null,i,r),this.ngClassInstance=_,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new ur(l,d,t,f)),this.init(),this.setValue("","")}set klass(t){this.ngClassInstance.klass=t,this.setValue(t,"")}updateWithValue(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Jn),c.Y36(oi),c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.Qsj),c.Y36(ur,10))},n.\u0275dir=c.lG2({type:n,inputs:{klass:["class","klass"]},features:[c.qOj]}),n})();const GB=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let Ek=(()=>{class n extends jB{constructor(){super(...arguments),this.inputs=GB}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[c.qOj]}),n})(),Sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[GA]]}),n})(),JB=(()=>{class n extends Ai{buildStyles(t,{display:i}){const r=ok(t);return Object.assign(Object.assign({},r),{display:"none"===i?i:r.display})}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e2=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let t2=(()=>{class n extends yi{constructor(t,i,r,l,d){super(t,r,i,l),this._config=d,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){var i;const l=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(i=Mk.get(l))&&void 0!==i?i:new Map,Mk.set(l,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:l}),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Jn),c.Y36(JB),c.Y36(oi),c.Y36(tl))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),Tk=(()=>{class n extends t2{constructor(){super(...arguments),this.inputs=e2}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[c.qOj]}),n})();const Mk=new Map,Rk={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let n2=(()=>{class n extends Ai{constructor(t,i){super(),this._styler=t,this._config=i}buildStyles(t,i){return t.endsWith(u0)?function d2(n,e){const[t,i]=n.split(" "),l=E=>`-${E}`;let d="0px",f=l(null!=i?i:t),_="0px";return"rtl"===e?_=l(t):d=l(t),{margin:`0px ${d} ${f} ${_}`}}(t=l0(t=t.slice(0,t.indexOf(u0)),this._config.multiplier),i.directionality):{}}sideEffect(t,i,r){const l=r.items;if(t.endsWith(u0)){const d=function c2(n,e){const[t,i]=n.split(" ");let l="0px",f="0px";return"rtl"===e?f=t:l=t,{padding:`0px ${l} ${null!=i?i:t} ${f}`}}(t=l0(t=t.slice(0,t.indexOf(u0)),this._config.multiplier),r.directionality);this._styler.applyStyleToElements(d,r.items)}else{t=l0(t,this._config.multiplier),t=this.addFallbackUnit(t);const d=l.pop(),f=function h2(n,e){const t=kk(e.directionality,e.layout),i=Object.assign({},Rk);return i[t]=n,i}(t,r);this._styler.applyStyleToElements(f,l),this._styler.applyStyleToElements(Rk,[d])}}addFallbackUnit(t){return isNaN(+t)?t:`${t}${this._config.defaultUnit}`}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Jn),c.LFG(tl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const r2=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let s2=(()=>{class n extends yi{constructor(t,i,r,l,d,f){super(t,d,l,f),this.zone=i,this.directionality=r,this.styleUtils=l,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new hi.x;const _=[this.directionality.change,this.observerSubject.asObservable()];this.init(_),this.marshal.trackValue(this.nativeElement,"layout").pipe(zs(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,i=[];for(let r=t.length;r--;)i[r]=t[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const r=t.value.split(" ");this.layout=r[0],a0.find(l=>l===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,l)=>{const d=+this.styler.lookupStyle(r,"order"),f=+this.styler.lookupStyle(l,"order");return isNaN(d)||isNaN(f)||d===f?0:d>f?1:-1});if(i.length>0){const r=this.directionality.value,l=this.layout;"row"===l&&"rtl"===r?this.styleCache=o2:"row"===l&&"rtl"!==r?this.styleCache=l2:"column"===l&&"rtl"===r?this.styleCache=a2:"column"===l&&"rtl"!==r&&(this.styleCache=u2),this.addStyles(t,{directionality:r,items:i,layout:l})}}clearStyles(){const t=Object.keys(this.mru).length>0,i=t?"padding":kk(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(t){const i=this.marshal.getValue(t,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(t=>{t.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(ms),c.Y36(Jn),c.Y36(n2),c.Y36(oi))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),Ok=(()=>{class n extends s2{constructor(){super(...arguments),this.inputs=r2}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[c.qOj]}),n})();const o2=new Map,a2=new Map,l2=new Map,u2=new Map,u0=" grid";function kk(n,e){switch(e){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let H2=(()=>{class n extends Ai{buildStyles(t,i){const r={},[l,d]=t.split(" ");switch(l){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(d){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return rc(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===d?Y_(i.layout)?null:"100%":null,"max-height":"stretch"===d&&Y_(i.layout)?"100%":null})}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $2=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let z2=(()=>{class n extends yi{constructor(t,i,r,l){super(t,r,i,l),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(zs(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=Z2:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=X2:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=Q2:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=J2:"column-reverse"===i&&!r&&(this.styleCache=Y2):this.styleCache=q2:this.styleCache=K2:this.styleCache=W2,this.addStyles(t,{layout:i,inline:r})}onLayoutChange(t){const i=t.value.split(" ");this.layout=i[0],this.inline=t.value.includes("inline"),a0.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Jn),c.Y36(H2),c.Y36(oi))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),Fk=(()=>{class n extends z2{constructor(){super(...arguments),this.inputs=$2}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[c.qOj]}),n})();const W2=new Map,q2=new Map,K2=new Map,Y2=new Map,Z2=new Map,Q2=new Map,X2=new Map,J2=new Map;let Pk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[GA,ph]]}),n})(),Hk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[GA]]}),n})(),wj=(()=>{class n{constructor(t,i){dr(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,i=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:tl,useValue:Object.assign(Object.assign({},HA),t)},{provide:$A,useValue:i,multi:!0},{provide:rm,useValue:!0}]:[{provide:tl,useValue:Object.assign(Object.assign({},HA),t)},{provide:$A,useValue:i,multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(rm),c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Pk,Sk,Hk],Pk,Sk,Hk]}),n})();var eu=F(576);const{isArray:Cj}=Array,{getPrototypeOf:Dj,prototype:xj,keys:Ij}=Object;var Mn=F(4004);const{isArray:Tj}=Array;function $k(n){return(0,Mn.U)(e=>function Mj(n,e){return Tj(e)?n(...e):n(e)}(n,e))}function Rj(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function zk(...n){const e=(0,ap.jO)(n),{args:t,keys:i}=function Aj(n){if(1===n.length){const e=n[0];if(Cj(e))return{args:e,keys:null};if(function Sj(n){return n&&"object"==typeof n&&Dj(n)===xj}(e)){const t=Ij(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n),r=new mo.y(l=>{const{length:d}=t;if(!d)return void l.complete();const f=new Array(d);let _=d,E=d;for(let I=0;I<d;I++){let R=!1;(0,Vu.Xf)(t[I]).subscribe((0,Or.x)(l,G=>{R||(R=!0,E--),f[I]=G},()=>_--,void 0,()=>{(!_||!R)&&(E||l.next(i?Rj(i,f):f),l.complete())}))}});return e?r.pipe($k(e)):r}var c0=F(727);function Wk(n){return(0,Rr.e)((e,t)=>{let l,i=null,r=!1;i=e.subscribe((0,Or.x)(t,void 0,void 0,d=>{l=(0,Vu.Xf)(n(d,Wk(n)(e))),i?(i.unsubscribe(),i=null,l.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,l.subscribe(t))})}var qk=F(3099),d0=F(5698),KA=F(5577);class Fj{}class kd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),l=r.toLowerCase(),d=t.slice(i+1).trim();this.maybeSetNormalizedName(r,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof kd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new kd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof kd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const l=e.value;if(l){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===l.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Pj{encodeKey(e){return Kk(e)}encodeValue(e){return Kk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Lj=/%(\d[a-f0-9])/gi,Vj={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Kk(n){return encodeURIComponent(n).replace(Lj,(e,t)=>{var i;return null!==(i=Vj[t])&&void 0!==i?i:e})}function Yk(n){return`${n}`}class Fd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Pj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Nj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const l=r.indexOf("="),[d,f]=-1==l?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,l)),e.decodeValue(r.slice(l+1))],_=t.get(d)||[];_.push(f),t.set(d,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(l=>{t.push({param:i,value:l,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Fd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Yk(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Yk(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Bj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Zk(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Qk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Xk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class X_{constructor(e,t,i,r){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Uj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,l=r):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new kd),this.context||(this.context=new Bj),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new Fd,this.urlWithParams=t}serializeBody(){return null===this.body?null:Zk(this.body)||Qk(this.body)||Xk(this.body)||function jj(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xk(this.body)?null:Qk(this.body)?this.body.type||null:Zk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,l=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,I=e.params||this.params;const R=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((G,K)=>G.set(K,e.setHeaders[K]),E)),e.setParams&&(I=Object.keys(e.setParams).reduce((G,K)=>G.set(K,e.setParams[K]),I)),new X_(i,r,d,{params:I,headers:E,context:R,reportProgress:_,responseType:l,withCredentials:f})}}var Vr=(()=>((Vr=Vr||{})[Vr.Sent=0]="Sent",Vr[Vr.UploadProgress=1]="UploadProgress",Vr[Vr.ResponseHeader=2]="ResponseHeader",Vr[Vr.DownloadProgress=3]="DownloadProgress",Vr[Vr.Response=4]="Response",Vr[Vr.User=5]="User",Vr))();class YA extends class Gj{constructor(e,t=200,i="OK"){this.headers=e.headers||new kd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Vr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new YA({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function ZA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let eF=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let l;if(t instanceof X_)l=t;else{let _,E;_=r.headers instanceof kd?r.headers:new kd(r.headers),r.params&&(E=r.params instanceof Fd?r.params:new Fd({fromObject:r.params})),l=new X_(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:E,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=Mr(l).pipe(function kj(n,e){return(0,eu.m)(e)?(0,KA.z)(n,e,1):(0,KA.z)(n,1)}(_=>this.handler.handle(_)));if(t instanceof X_||"events"===r.observe)return d;const f=d.pipe(ys(_=>_ instanceof YA));switch(r.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe((0,Mn.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,Mn.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,Mn.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,Mn.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Fd).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,ZA(r,i))}post(t,i,r={}){return this.request("POST",t,ZA(r,i))}put(t,i,r={}){return this.request("PUT",t,ZA(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fj))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const $j=["*"];let h0;function J_(n){var e;return(null===(e=function zj(){if(void 0===h0&&(h0=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(h0=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return h0}())||void 0===e?void 0:e.createHTML(n))||n}function tF(n){return Error(`Unable to find icon with the name "${n}"`)}function nF(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function iF(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Af{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let f0=(()=>{class n{constructor(t,i,r,l){this._httpClient=t,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,l){return this._addSvgIconConfig(t,i,new Af(r,null,l))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,l){const d=this._sanitizer.sanitize(c.q3G.HTML,r);if(!d)throw iF(r);const f=J_(d);return this._addSvgIconConfig(t,i,new Af("",f,l))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Af(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const l=this._sanitizer.sanitize(c.q3G.HTML,i);if(!l)throw iF(i);const d=J_(l);return this._addSvgIconSetConfig(t,new Af("",d,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw nF(t);const r=this._cachedIconsByUrl.get(i);return r?Mr(p0(r)):this._loadSvgIconFromConfig(new Af(t,null)).pipe((0,Z_.b)(l=>this._cachedIconsByUrl.set(i,l)),(0,Mn.U)(l=>p0(l)))}getNamedSvgIcon(t,i=""){const r=rF(i,t);let l=this._svgIconConfigs.get(r);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,t),l)return this._svgIconConfigs.set(r,l),this._getSvgFromConfig(l);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(t,d):function Ej(n,e){const t=(0,eu.m)(n)?n:()=>n,i=r=>r.error(t());return new mo.y(e?r=>e.schedule(i,0,r):i)}(tF(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Mr(p0(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Mn.U)(i=>p0(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Mr(r):zk(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Wk(f=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(E)),Mr(null)})))).pipe((0,Mn.U)(()=>{const d=this._extractIconWithNameFromAnySet(t,i);if(!d)throw tF(t);return d}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const l=i[r];if(l.svgText&&l.svgText.toString().indexOf(t)>-1){const d=this._svgElementFromConfig(l),f=this._extractSvgIconFromSet(d,t,l.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Z_.b)(i=>t.svgText=i),(0,Mn.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Mr(null):this._fetchIcon(t).pipe((0,Z_.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const l=t.querySelector(`[id="${i}"]`);if(!l)return null;const d=l.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const f=this._svgElementFromString(J_("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(J_("<svg></svg>")),r=t.attributes;for(let l=0;l<r.length;l++){const{name:d,value:f}=r[l];"id"!==d&&i.setAttribute(d,f)}for(let l=0;l<t.childNodes.length;l++)t.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:l}=t,d=null!==(i=null==l?void 0:l.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Wj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const f=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,r);if(!f)throw nF(r);const _=this._inProgressUrlFetches.get(f);if(_)return _;const E=this._httpClient.get(f,{responseType:"text",withCredentials:d}).pipe((0,Mn.U)(I=>J_(I)),function Oj(n){return(0,Rr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>this._inProgressUrlFetches.delete(f)),(0,qk.B)());return this._inProgressUrlFetches.set(f,E),E}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(rF(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const l=this._resolvers[r](i,t);if(l)return Kj(l)?new Af(l.url,null,l.options):new Af(l,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(eF,8),c.LFG(qr),c.LFG(re,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function p0(n){return n.cloneNode(!0)}function rF(n,e){return n+":"+e}function Kj(n){return!(!n.url||!n.options)}const Yj=Zm(class{constructor(n){this._elementRef=n}}),Zj=new c.OlP("mat-icon-location",{providedIn:"root",factory:function Qj(){const n=(0,c.f3M)(re),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),sF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Xj=sF.map(n=>`[${n}]`).join(", "),Jj=/^url\(['"]?#(.*?)['"]?\)$/;let eG=(()=>{class n extends Yj{constructor(t,i,r,l,d){super(t),this._iconRegistry=i,this._location=l,this._errorHandler=d,this._inline=!1,this._currentIconFetch=c0.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=fr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,l)=>{r.forEach(d=>{l.setAttribute(d.name,`url('${t}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Xj),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)sF.forEach(d=>{const f=i[l],_=f.getAttribute(d),E=_?_.match(Jj):null;if(E){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:d,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,d0.q)(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${l.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(f0),c.$8M("aria-hidden"),c.Y36(Zj),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:$j,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),tG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ws],Ws]}),n})();var nG=F(1144);const iG=["addListener","removeListener"],rG=["addEventListener","removeEventListener"],sG=["on","off"];function g0(n,e,t,i){if((0,eu.m)(t)&&(i=t,t=void 0),i)return g0(n,e,t).pipe($k(i));const[r,l]=function lG(n){return(0,eu.m)(n.addEventListener)&&(0,eu.m)(n.removeEventListener)}(n)?rG.map(d=>f=>n[d](e,f,t)):function oG(n){return(0,eu.m)(n.addListener)&&(0,eu.m)(n.removeListener)}(n)?iG.map(oF(n,e)):function aG(n){return(0,eu.m)(n.on)&&(0,eu.m)(n.off)}(n)?sG.map(oF(n,e)):[];if(!r&&(0,nG.z)(n))return(0,KA.z)(d=>g0(d,e,t))((0,Vu.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new mo.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return r(f),()=>l(f)})}function oF(n,e){return t=>i=>n[t](e,i)}var uG=F(8189);function aF(...n){return function cG(){return(0,uG.J)(1)}()((0,Wo.D)(n,(0,ap.yG)(n)))}function om(...n){const e=(0,ap.yG)(n);return(0,Rr.e)((t,i)=>{(e?aF(n,t,e):aF(n,t)).subscribe(i)})}const dG=["connectionContainer"],hG=["inputContainer"],fG=["label"];function pG(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function gG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function mG(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function yG(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function _G(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function vG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.YNc(2,mG,4,1,"ng-container",12),c.YNc(3,yG,1,0,"ng-content",12),c.YNc(4,_G,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function bG(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function wG(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function EG(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function CG(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function DG(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,CG,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const xG=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],IG=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],AG=new c.OlP("MatError"),SG={transitionMessages:vu("transitionMessages",[Kr("enter",ln({opacity:1,transform:"translateY(0%)"})),Yr("void => enter",[ln({opacity:0,transform:"translateY(-5px)"}),va("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let QA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const TG=new c.OlP("MatHint");let XA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),MG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const RG=new c.OlP("MatPrefix"),lF=new c.OlP("MatSuffix");let OG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSuffix",""]],features:[c._Bn([{provide:lF,useExisting:n}])]}),n})(),uF=0;const FG=Zm(class{constructor(n){this._elementRef=n}},"primary"),PG=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),dF=new c.OlP("MatFormField");let NG=(()=>{class n extends FG{constructor(t,i,r,l,d,f,_){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=l,this._platform=d,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new hi.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+uF++,this._labelId="mat-form-field-label-"+uF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=fr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(om(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(zs(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zs(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,im.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(om(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(om(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(zs(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,g0(this._label.nativeElement,"transitionend").pipe((0,d0.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,r=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const I=i.querySelectorAll(`${r}, ${l}`);for(let R=0;R<I.length;R++)I[R].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,f=0;const _=i.querySelectorAll(r),E=i.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const I=i.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const R=this._getStartEnd(I),G=t.children,K=this._getStartEnd(G[0].getBoundingClientRect());let Q=0;for(let ce=0;ce<G.length;ce++)Q+=G[ce].offsetWidth;d=Math.abs(K-R)-5,f=Q>0?.75*Q+10:0}for(let I=0;I<_.length;I++)_[I].style.width=`${d}px`;for(let I=0;I<E.length;I++)E[I].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(ms,8),c.Y36(PG,8),c.Y36(di),c.Y36(c.R0b),c.Y36(Vc,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,QA,5),c.Suo(r,QA,7),c.Suo(r,XA,5),c.Suo(r,XA,7),c.Suo(r,MG,5),c.Suo(r,AG,5),c.Suo(r,TG,5),c.Suo(r,RG,5),c.Suo(r,lF,5)),2&t){let l;c.iGM(l=c.CRH())&&(i._controlNonStatic=l.first),c.iGM(l=c.CRH())&&(i._controlStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildNonStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildStatic=l.first),c.iGM(l=c.CRH())&&(i._placeholderChild=l.first),c.iGM(l=c.CRH())&&(i._errorChildren=l),c.iGM(l=c.CRH())&&(i._hintChildren=l),c.iGM(l=c.CRH())&&(i._prefixChildren=l),c.iGM(l=c.CRH())&&(i._suffixChildren=l)}},viewQuery:function(t,i){if(1&t&&(c.Gf(dG,7),c.Gf(hG,5),c.Gf(fG,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:dF,useExisting:n}]),c.qOj],ngContentSelectors:IG,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(c.F$t(xG),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(l){return i._control.onContainerClick&&i._control.onContainerClick(l)}),c.YNc(3,pG,9,0,"ng-container",3),c.YNc(4,gG,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,vG,5,16,"label",8),c.qZA()(),c.YNc(10,bG,2,0,"div",9),c.qZA(),c.YNc(11,wG,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,EG,2,1,"div",12),c.YNc(14,DG,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[ki,NC,Vi,Cr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[SG.transitionMessages]},changeDetection:0}),n})(),JA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ru,Ws,nb],Ws]}),n})(),hF=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Sf=(()=>{class n extends hF{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const tu=new c.OlP("NgValueAccessor"),VG={provide:tu,useExisting:(0,c.Gpc)(()=>m0),multi:!0},UG=new c.OlP("CompositionEventMode");let m0=(()=>{class n extends hF{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function BG(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(UG,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[c._Bn([VG]),c.qOj]}),n})();function Pd(n){return null==n||0===n.length}function pF(n){return null!=n&&"number"==typeof n.length}const is=new c.OlP("NgValidators"),Nd=new c.OlP("NgAsyncValidators"),jG=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class GG{static min(e){return function gF(n){return e=>{if(Pd(e.value)||Pd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function mF(n){return e=>{if(Pd(e.value)||Pd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function yF(n){return Pd(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function _F(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function vF(n){return Pd(n.value)||jG.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function bF(n){return e=>Pd(e.value)||!pF(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function wF(n){return e=>pF(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function EF(n){if(!n)return y0;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Pd(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return SF(e)}static composeAsync(e){return TF(e)}}function y0(n){return null}function CF(n){return null!=n}function DF(n){const e=(0,c.QGY)(n)?(0,Wo.D)(n):n;return(0,c.CqO)(e),e}function xF(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function IF(n,e){return e.map(t=>t(n))}function AF(n){return n.map(e=>function HG(n){return!n.validate}(e)?e:t=>e.validate(t))}function SF(n){if(!n)return null;const e=n.filter(CF);return 0==e.length?null:function(t){return xF(IF(t,e))}}function eS(n){return null!=n?SF(AF(n)):null}function TF(n){if(!n)return null;const e=n.filter(CF);return 0==e.length?null:function(t){return zk(IF(t,e).map(DF)).pipe((0,Mn.U)(xF))}}function tS(n){return null!=n?TF(AF(n)):null}function MF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function RF(n){return n._rawValidators}function OF(n){return n._rawAsyncValidators}function nS(n){return n?Array.isArray(n)?n:[n]:[]}function _0(n,e){return Array.isArray(n)?n.includes(e):n===e}function kF(n,e){const t=nS(e);return nS(n).forEach(r=>{_0(t,r)||t.push(r)}),t}function FF(n,e){return nS(e).filter(t=>!_0(n,t))}class PF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class oc extends PF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ws extends PF{get formDirective(){return null}get path(){return null}}let LF=(()=>{class n extends class NF{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oc,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})();function ev(n,e){sS(n,e),e.valueAccessor.writeValue(n.value),function XG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BF(n,e)})}(n,e),function eH(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function JG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function QG(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function w0(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),C0(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function E0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sS(n,e){const t=RF(n);null!==e.validator?n.setValidators(MF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=OF(n);null!==e.asyncValidator?n.setAsyncValidators(MF(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();E0(e._rawValidators,r),E0(e._rawAsyncValidators,r)}function C0(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=RF(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==e.validator);l.length!==r.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const r=OF(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==e.asyncValidator);l.length!==r.length&&(t=!0,n.setAsyncValidators(l))}}}const i=()=>{};return E0(e._rawValidators,i),E0(e._rawAsyncValidators,i),t}function BF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function UF(n,e){sS(n,e)}function GF(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function lS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const tv="VALID",D0="INVALID",am="PENDING",nv="DISABLED";function cS(n){return(x0(n)?n.validators:n)||null}function HF(n){return Array.isArray(n)?eS(n):n||null}function dS(n,e){return(x0(e)?e.asyncValidators:n)||null}function $F(n){return Array.isArray(n)?tS(n):n||null}function x0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const zF=n=>n instanceof YF,hS=n=>n instanceof pS;function WF(n){return zF(n)?n.value:n.getRawValue()}function qF(n,e){const t=hS(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")}function KF(n,e){hS(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class fS{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=HF(this._rawValidators),this._composedAsyncValidatorFn=$F(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tv}get invalid(){return this.status===D0}get pending(){return this.status==am}get disabled(){return this.status===nv}get enabled(){return this.status!==nv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=HF(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=$F(e)}addValidators(e){this.setValidators(kF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FF(e,this._rawAsyncValidators))}hasValidator(e){return _0(this._rawValidators,e)}hasAsyncValidator(e){return _0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=am,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nv,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tv,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tv||this.status===am)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nv:tv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=am,this._hasOwnPendingAsyncValidator=!0;const t=DF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function rH(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=hS(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof oH)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?nv:this.errors?D0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(am)?am:this._anyControlsHaveStatus(D0)?D0:tv}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){x0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class YF extends fS{constructor(e=null,t,i){super(cS(t),dS(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),x0(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class pS extends fS{constructor(e,t,i){super(cS(t),dS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){KF(this,e),Object.keys(e).forEach(i=>{qF(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=WF(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,l)=>{i=t(i,r,l)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class oH extends fS{constructor(e,t,i){super(cS(t),dS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){KF(this,e),e.forEach((i,r)=>{qF(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>WF(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const aH={provide:ws,useExisting:(0,c.Gpc)(()=>I0)},iv=(()=>Promise.resolve(null))();let I0=(()=>{class n extends ws{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new pS({},eS(t),tS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){iv.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),ev(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){iv.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){iv.then(()=>{const i=this._findContainer(t.path),r=new pS({});UF(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){iv.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){iv.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,GF(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(is,10),c.Y36(Nd,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([aH]),c.qOj]}),n})();const uH={provide:oc,useExisting:(0,c.Gpc)(()=>gS)},XF=(()=>Promise.resolve(null))();let gS=(()=>{class n extends oc{constructor(t,i,r,l,d){super(),this._changeDetectorRef=d,this.control=new YF,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function aS(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(l=>{l.constructor===m0?t=l:function iH(n){return Object.getPrototypeOf(n.constructor)===Sf}(l)?i=l:r=l}),r||i||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function oS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ev(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){XF.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;XF.then(()=>{var l;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function b0(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ws,9),c.Y36(is,10),c.Y36(Nd,10),c.Y36(tu,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([uH]),c.qOj,c.TTD]}),n})(),eP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const mH={provide:ws,useExisting:(0,c.Gpc)(()=>A0)};let A0=(()=>{class n extends ws{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(C0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return ev(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){w0(t.control||null,t,!1),lS(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,GF(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(w0(i||null,t),zF(r)&&(ev(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);UF(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function tH(n,e){return C0(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sS(this.form,this),this._oldForm&&C0(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(is,10),c.Y36(Nd,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([mH]),c.qOj,c.TTD]}),n})(),PH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[eP]]}),n})(),NH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[PH]}),n})();var LH=F(515);const _P=Uc({passive:!0});let VH=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return LH.E;const i=Pl(t),r=this._monitoredElements.get(i);if(r)return r.subject;const l=new hi.x,d="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,_P),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",f,_P)}}),l}stopMonitoring(t){const i=Pl(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(di),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const BH=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),UH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let jH=0;const GH=mb(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let HH=(()=>{class n extends GH{constructor(t,i,r,l,d,f,_,E,I,R){super(f,l,d,r),this._elementRef=t,this._platform=i,this._autofillMonitor=E,this._formField=R,this._uid="mat-input-"+jH++,this.focused=!1,this.stateChanges=new hi.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Q=>Mm().has(Q)),this._iOSKeyupListener=Q=>{const ce=Q.target;!ce.value&&0===ce.selectionStart&&0===ce.selectionEnd&&(ce.setSelectionRange(1,1),ce.setSelectionRange(0,0))};const G=this._elementRef.nativeElement,K=G.nodeName.toLowerCase();this._inputValueAccessor=_||G,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===K,this._isTextarea="textarea"===K,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=G.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=fr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,l;return null!==(l=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(GG.required))&&void 0!==l&&l}set required(t){this._required=fr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Mm().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=fr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=r,r?l.setAttribute("placeholder",r):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){UH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(di),c.Y36(oc,10),c.Y36(I0,8),c.Y36(A0,8),c.Y36(oD),c.Y36(BH,10),c.Y36(VH),c.Y36(c.R0b),c.Y36(dF,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:QA,useExisting:n}]),c.qOj,c.TTD]}),n})(),$H=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[oD],imports:[[vP,JA,Ws],vP,JA]}),n})();var Br=F(2011),lm=F(5363);function nl(n,e){return(0,Rr.e)((t,i)=>{let r=null,l=0,d=!1;const f=()=>d&&!r&&i.complete();t.subscribe((0,Or.x)(i,_=>{null==r||r.unsubscribe();let E=0;const I=l++;(0,Vu.Xf)(n(_,I)).subscribe(r=(0,Or.x)(i,R=>i.next(e?e(_,R,I,E++):R),()=>{r=null,f()}))},()=>{d=!0,f()}))})}var zH=F(6063);class bP extends hi.x{constructor(e=1/0,t=1/0,i=zH.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:l,_windowTime:d}=this;t||(i.push(e),!r&&i.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,l=r.slice();for(let d=0;d<l.length&&!e.closed;d+=i?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,l=(r?1:2)*e;if(e<1/0&&l<i.length&&i.splice(0,i.length-l),!r){const d=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=d;_+=2)f=_;f&&i.splice(0,f+1)}}}function wS(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,qk.B)({connector:()=>new bP(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}var S0=F(127);const qH=new c.OlP("angularfire2.functions.origin"),KH=new c.OlP("angularfire2.functions.region"),YH=new c.OlP("angularfire2.functions.use-emulator");let ES=(()=>{class n{constructor(t,i,r,l,d,f,_,E){const I=_,R=Mr(void 0).pipe((0,lm.Q)(l.outsideAngular),nl(()=>F.e(568).then(F.bind(F,7568))),(0,Mn.U)(()=>(0,Br.on)(t,r,i)),(0,Mn.U)(G=>(0,Br.cc)(`${G.name}.functions.${d||f}`,"AngularFireFunctions",G.name,()=>{let K;if(d&&f)throw new Error("REGION and ORIGIN can't be used at the same time.");return K=G.functions(d||f||void 0),I&&K.useEmulator(...I),K},[d,f,I])),wS({bufferSize:1,refCount:!1}));return this.httpsCallable=(G,K)=>Q=>(0,Wo.D)(R).pipe((0,lm.Q)(l.insideAngular),nl(ce=>ce.httpsCallable(G,K)(Q)),(0,Mn.U)(ce=>ce.data)),(0,Br.pX)(this,R,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Br.Dh),c.LFG(Br.xv,8),c.LFG(c.R0b),c.LFG(un.HU),c.LFG(KH,8),c.LFG(qH,8),c.LFG(YH,8),c.LFG(Gu,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZH=(()=>{class n{constructor(){S0.Z.registerVersion("angularfire",un.q4.full,"fn-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ES]}),n})();var wP=F(4408);const rv={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=rv;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(l=>{t=void 0,n(l)});return new c0.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=rv;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=rv;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var EP=F(7565);new class XH extends EP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class QH extends wP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=rv.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(rv.cancelAnimationFrame(t),e._scheduled=void 0)}});let CS,e$=1;const T0={};function CP(n){return n in T0&&(delete T0[n],!0)}const t$={setImmediate(n){const e=e$++;return T0[e]=!0,CS||(CS=Promise.resolve()),CS.then(()=>CP(e)&&n()),e},clearImmediate(n){CP(n)}},{setImmediate:n$,clearImmediate:i$}=t$,M0={setImmediate(...n){const{delegate:e}=M0;return((null==e?void 0:e.setImmediate)||n$)(...n)},clearImmediate(n){const{delegate:e}=M0;return((null==e?void 0:e.clearImmediate)||i$)(n)},delegate:void 0};new class s$ extends EP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class r$ extends wP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=M0.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(M0.clearImmediate(t),e._scheduled=void 0)}});var l$=F(3532);function DP(n,e=Um.z){return function a$(n){return(0,Rr.e)((e,t)=>{let i=!1,r=null,l=null,d=!1;const f=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const E=r;r=null,t.next(E)}d&&t.complete()},_=()=>{l=null,d&&t.complete()};e.subscribe((0,Or.x)(t,E=>{i=!0,r=E,l||(0,Vu.Xf)(n(E)).subscribe(l=(0,Or.x)(t,f,_))},()=>{d=!0,(!i||!l||l.closed)&&t.complete()}))})}(()=>function c$(n=0,e,t=Um.P){let i=-1;return null!=e&&((0,l$.K)(e)?t=e:i=e),new mo.y(r=>{let l=function u$(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},l)})}(n,e))}let h$=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new hi.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new mo.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(DP(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Mr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ys(l=>!l||r.indexOf(l)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,l)=>{this._scrollableContainsElement(l,t)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Pl(i),l=t.getElementRef().nativeElement;do{if(r==l)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>g0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(di),c.LFG(re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xP=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new hi.x,this._changeListener=l=>{this._change.next(l)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,l=r.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-l.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(DP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(di),c.LFG(c.R0b),c.LFG(re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),IP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ph,DS],ph,DS]}),n})();class xS{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class p$ extends xS{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class g$ extends xS{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class m$ extends xS{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class _$ extends class y${constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof p$?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof g$?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof m$?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,l){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const f=d.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=l}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let v$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const AP=Av();class b${constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=xi(-this._previousScrollPosition.left),e.style.top=xi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,l=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),AP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),AP&&(i.scrollBehavior=l,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class w${constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class SP{enable(){}disable(){}attach(){}}function IS(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function TP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class E${constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();IS(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let C$=(()=>{class n{constructor(t,i,r,l){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new SP,this.close=d=>new w$(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new b$(this._viewportRuler,this._document),this.reposition=d=>new E$(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=l}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(h$),c.LFG(xP),c.LFG(c.R0b),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class D${constructor(e){if(this.scrollStrategy=new SP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class x${constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class I${constructor(e,t,i,r,l,d,f,_,E){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=l,this._keyboardDispatcher=d,this._document=f,this._location=_,this._outsideClickDispatcher=E,this._backdropElement=null,this._backdropClick=new hi.x,this._attachments=new hi.x,this._detachments=new hi.x,this._locationChanges=c0.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new hi.x,this._outsidePointerEvents=new hi.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,d0.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=xi(this._config.width),e.height=xi(this._config.height),e.minWidth=xi(this._config.minWidth),e.minHeight=xi(this._config.minHeight),e.maxWidth=xi(this._config.maxWidth),e.maxHeight=xi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=eb(t||[]).filter(l=>!!l);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(zs((0,im.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let MP=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Om()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let l=0;l<r.length;l++)r[l].remove()}const i=this._document.createElement("div");i.classList.add(t),Om()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(di))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RP="cdk-overlay-connected-position-bounding-box",A$=/([A-Za-z%]+)$/;class S${constructor(e,t,i,r,l){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new hi.x,this._resizeSubscription=c0.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(RP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,l=[];let d;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),E=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(E,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,E,i)?l.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!d||d.overlayFit.visibleArea<I.visibleArea)&&(d={overlayFit:I,overlayPoint:E,originPoint:_,position:f,overlayRect:t})}if(l.length){let f=null,_=-1;for(const E of l){const I=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);I>_&&(_=I,f=E)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Mf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(RP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,l;if("center"==i.originX)r=e.left+e.width/2;else{const d=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?d:f}return t.left<0&&(r-=t.left),l="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(l-=t.top),{x:r,y:l}}_getOverlayPoint(e,t,i){let r,l;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,l="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+l}}_getOverlayFit(e,t,i,r){const l=kP(t);let{x:d,y:f}=e,_=this._getOffset(r,"x"),E=this._getOffset(r,"y");_&&(d+=_),E&&(f+=E);let G=0-f,K=f+l.height-i.height,Q=this._subtractOverflows(l.width,0-d,d+l.width-i.width),ce=this._subtractOverflows(l.height,G,K),Le=Q*ce;return{visibleArea:Le,isCompletelyWithinViewport:l.width*l.height===Le,fitsInViewportVertically:ce===l.height,fitsInViewportHorizontally:Q==l.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,l=i.right-t.x,d=OP(this._overlayRef.getConfig().minHeight),f=OP(this._overlayRef.getConfig().minWidth),E=e.fitsInViewportHorizontally||null!=f&&f<=l;return(e.fitsInViewportVertically||null!=d&&d<=r)&&E}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=kP(t),l=this._viewportRect,d=Math.max(e.x+r.width-l.width,0),f=Math.max(e.y+r.height-l.height,0),_=Math.max(l.top-i.top-e.y,0),E=Math.max(l.left-i.left-e.x,0);let I=0,R=0;return I=r.width<=l.width?E||-d:e.x<this._viewportMargin?l.left-i.left-e.x:0,R=r.height<=l.height?_||-f:e.y<this._viewportMargin?l.top-i.top-e.y:0,this._previousPushAmount={x:I,y:R},{x:e.x+I,y:e.y+R}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new x$(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let l=0;l<t.length;l++)t[l].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let l,d,f,I,R,G;if("top"===t.overlayY)d=e.y,l=i.height-d+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,l=i.height-f+this._viewportMargin;else{const K=Math.min(i.bottom-e.y+i.top,e.y),Q=this._lastBoundingBoxSize.height;l=2*K,d=e.y-K,l>Q&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.y-Q/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)G=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)R=e.x,I=i.right-e.x;else{const K=Math.min(i.right-e.x+i.left,e.x),Q=this._lastBoundingBoxSize.width;I=2*K,R=e.x-K,I>Q&&!this._isInitialRender&&!this._growAfterOpen&&(R=e.x-Q/2)}return{top:d,left:R,bottom:f,right:G,width:I,height:l}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=xi(i.height),r.top=xi(i.top),r.bottom=xi(i.bottom),r.width=xi(i.width),r.left=xi(i.left),r.right=xi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(r.maxHeight=xi(l)),d&&(r.maxWidth=xi(d))}this._lastBoundingBoxSize=i,Mf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Mf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Mf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),l=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();Mf(i,this._getExactOverlayY(t,e,I)),Mf(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",_=this._getOffset(t,"x"),E=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),E&&(f+=`translateY(${E}px)`),i.transform=f.trim(),d.maxHeight&&(r?i.maxHeight=xi(d.maxHeight):l&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=xi(d.maxWidth):l&&(i.maxWidth="")),Mf(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":r.top=xi(l.y),r}_getExactOverlayX(e,t,i){let d,r={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),d=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":r.left=xi(l.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:TP(e,i),isOriginOutsideView:IS(e,i),isOverlayClipped:TP(t,i),isOverlayOutsideView:IS(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&eb(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Mf(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function OP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(A$);return t&&"px"!==t?null:parseFloat(e)}return n||null}function kP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const FP="cdk-global-overlay-wrapper";class T${constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(FP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:l,maxWidth:d,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),E=!("100%"!==l&&"100vh"!==l||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=E?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(FP),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let M$=(()=>{class n{constructor(t,i,r,l){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=l}global(){return new T$}flexibleConnectedTo(t){return new S$(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xP),c.LFG(re),c.LFG(di),c.LFG(MP))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R$=(()=>{class n extends PP{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const l=this._attachedOverlays;for(let d=l.length-1;d>-1;d--)if(l[d]._keydownEvents.observers.length>0){const f=l[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O$=(()=>{class n extends PP{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Va(l)},this._clickListener=l=>{const d=Va(l),f="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let E=_.length-1;E>-1;E--){const I=_[E];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(d)||I.overlayElement.contains(f))break;const R=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(l)):R.next(l)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(di),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k$=0,AS=(()=>{class n{constructor(t,i,r,l,d,f,_,E,I,R,G){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=l,this._keyboardDispatcher=d,this._injector=f,this._ngZone=_,this._document=E,this._directionality=I,this._location=R,this._outsideClickDispatcher=G}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),l=this._createPortalOutlet(r),d=new D$(t);return d.direction=d.direction||this._directionality.value,new I$(l,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+k$++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new _$(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(C$),c.LFG(MP),c.LFG(c._Vd),c.LFG(M$),c.LFG(R$),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(re),c.LFG(ms),c.LFG(Me),c.LFG(O$))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const N$={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[AS],useFactory:function P$(n){return()=>n.scrollStrategies.reposition()}};let L$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[AS,N$],imports:[[ph,v$,IP],IP]}),n})();const j$={provide:new c.OlP("mat-tooltip-scroll-strategy"),deps:[AS],useFactory:function U$(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let H$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[j$],imports:[[Hc,ru,L$,Ws],Ws,DS]}),n})();const SS=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function TS(n,e){const t="object"==typeof e;return new Promise((i,r)=>{let d,l=!1;n.subscribe({next:f=>{d=f,l=!0},error:r,complete:()=>{l?i(d):t?i(e.defaultValue):r(new SS)}})})}class z${constructor(e,t,i,r,l,d){this.adminId=e,this.clienteId=t,this.activo=i,this.nombreCliente=r,this.fecha=l,this.revisadoAdmin=d}}class W${constructor(e,t,i,r){this.fecha=e,this.mensaje=t,this.nombre=i,this.uid=r}}function q$(n){return(0,Rr.e)((e,t)=>{let i=!1;e.subscribe((0,Or.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function K$(n=Y$){return(0,Rr.e)((e,t)=>{let i=!1;e.subscribe((0,Or.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Y$(){return new SS}function NP(n,e){return(0,eu.m)(e)?nl(()=>n,e):nl(()=>n)}var MS=F(9468);const LP=new c.OlP("angularfire2.auth.use-emulator"),VP=new c.OlP("angularfire2.auth.settings"),BP=new c.OlP("angularfire2.auth.tenant-id"),UP=new c.OlP("angularfire2.auth.langugage-code"),jP=new c.OlP("angularfire2.auth.use-device-language"),GP=new c.OlP("angularfire.auth.persistence"),HP=(n,e,t,i,r,l,d,f)=>(0,Br.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,l&&_.useDeviceLanguage(),d)for(const[E,I]of Object.entries(d))_.settings[E]=I;return f&&_.setPersistence(f),_},[t,i,r,l,d,f]);let RS=(()=>{class n{constructor(t,i,r,l,d,f,_,E,I,R,G,K){const Q=new hi.x,ce=Mr(void 0).pipe((0,lm.Q)(d.outsideAngular),nl(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,Mn.U)(()=>(0,Br.on)(t,l,i)),(0,Mn.U)(Le=>HP(Le,l,f,E,I,R,_,G)),wS({bufferSize:1,refCount:!1}));if(dr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Mr(null);else{ce.pipe(function Z$(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ys((r,l)=>n(r,l,i)):Bm.y,(0,d0.q)(1),t?q$(e):K$(()=>new SS))}()).subscribe();const tt=ce.pipe(nl(ut=>ut.getRedirectResult().then(Ut=>Ut,()=>null)),un.iC,wS({bufferSize:1,refCount:!1})),Xe=ce.pipe(nl(ut=>new mo.y(Ut=>({unsubscribe:l.runOutsideAngular(()=>ut.onAuthStateChanged(Ot=>Ut.next(Ot),Ot=>Ut.error(Ot),()=>Ut.complete()))})))),Ht=ce.pipe(nl(ut=>new mo.y(Ut=>({unsubscribe:l.runOutsideAngular(()=>ut.onIdTokenChanged(Ot=>Ut.next(Ot),Ot=>Ut.error(Ot),()=>Ut.complete()))}))));this.authState=tt.pipe(NP(Xe),(0,MS.R)(d.outsideAngular),(0,lm.Q)(d.insideAngular)),this.user=tt.pipe(NP(Ht),(0,MS.R)(d.outsideAngular),(0,lm.Q)(d.insideAngular)),this.idToken=this.user.pipe(nl(ut=>ut?(0,Wo.D)(ut.getIdToken()):Mr(null))),this.idTokenResult=this.user.pipe(nl(ut=>ut?(0,Wo.D)(ut.getIdTokenResult()):Mr(null))),this.credential=(0,im.T)(tt,Q,this.authState.pipe(ys(ut=>!ut))).pipe((0,Mn.U)(ut=>(null==ut?void 0:ut.user)?ut:null),(0,MS.R)(d.outsideAngular),(0,lm.Q)(d.insideAngular))}return(0,Br.pX)(this,ce,l,{spy:{apply:(Le,tt,Xe)=>{(Le.startsWith("signIn")||Le.startsWith("createUser"))&&Xe.then(Ht=>Q.next(Ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Br.Dh),c.LFG(Br.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(un.HU),c.LFG(LP,8),c.LFG(VP,8),c.LFG(BP,8),c.LFG(UP,8),c.LFG(jP,8),c.LFG(GP,8),c.LFG(Gu,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function OS(){return(0,Rr.e)((n,e)=>{let t,i=!1;n.subscribe((0,Or.x)(e,r=>{const l=t;t=r,i&&e.next([l,r]),i=!0}))})}function X$(n,e,t,i,r){return(l,d)=>{let f=t,_=e,E=0;l.subscribe((0,Or.x)(d,I=>{const R=E++;_=f?n(_,I,R):(f=!0,I),i&&d.next(_)},r&&(()=>{f&&d.next(_),d.complete()})))}}function kS(n,e){return(0,Rr.e)(X$(n,e,arguments.length>=2,!0))}F(5881);var J$=F(3942);function FS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function $P(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function zP(){if(!function bo(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class sv{constructor(e){this._delegate=e}static fromBase64String(e){return zP(),new sv(Jl.fromBase64String(e))}static fromUint8Array(e){return $P(),new sv(Jl.fromUint8Array(e))}toBase64(){return zP(),this._delegate.toBase64()}toUint8Array(){return $P(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PS(n){return function nz(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class iz{enableIndexedDbPersistence(e,t){return function fV(n,e){NO(n=dn(n,si));const t=Yi(n),i=n._freezeSettings(),r=new wA;return PO(t,r,new yO(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function pV(n){NO(n=dn(n,si));const e=Yi(n),t=n._freezeSettings(),i=new wA;return PO(e,i,new KL(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function gV(n){if(n._initialized&&!n._terminated)throw new Fe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ii;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(i){if(!el.vt())return Promise.resolve();const r=i+"main";yield el.delete(r)}),function(i){return t.apply(this,arguments)})(fI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class WP{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof ta||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&wg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function aV(n,e,t,i={}){var r;const l=(n=dn(n,$_))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&wg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let d,f;if("string"==typeof i.mockUserToken)d=i.mockUserToken,f=pr.MOCK_USER;else{d=(0,Yt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Fe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new pr(_)}n._authCredentials=new LM(new hE(d,f))}}(this._delegate,e,t,i)}enableNetwork(){return function yV(n){return function JL(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield wO(n),t=yield EO(n);return e.setNetworkEnabled(!0),function(i){const r=Je(i);return r.lu.delete(0),G_(r)}(t)}))}(Yi(n=dn(n,si)))}(this._delegate)}disableNetwork(){return function _V(n){return function eV(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield wO(n),t=yield EO(n);return e.setNetworkEnabled(!1),(i=(0,Ee.Z)(function*(r){const l=Je(r);l.lu.add(0),yield Kg(l),l._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Yi(n=dn(n,si)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,IO("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function mV(n){return function(e){const t=new Ii;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function NL(n,e){return sA.apply(this,arguments)}(yield SA(e),t)})),t.promise}(Yi(n=dn(n,si)))}(this._delegate)}onSnapshotsInSync(e){return function YV(n,e){return function iV(n,e){const t=new YE(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield tm(n),r=t,Je(i).Tu.add(r),void r.next();var i,r})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield tm(n),r=t,void Je(i).Tu.delete(r);var i,r}))}}(Yi(n=dn(n,si)),RA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new um(this,RO(this._delegate,e))}catch(t){throw Es(t,"collection()","Firestore.collection()")}}doc(e){try{return new sa(this,XE(this._delegate,e))}catch(t){throw Es(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cs(this,function lV(n,e){if(n=dn(n,$_),MA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ns(n,null,(t=e,new Qa(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Es(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function QV(n,e){return function rV(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const i=yield(r=n,ZE(r).then(l=>l.datastore));var r;new QL(n.asyncQueue,i,e,t).run()})),t.promise}(Yi(n=dn(n,si)),t=>e(new ZV(n,t)))}(this._delegate,t=>e(new qP(this,t)))}batch(){return Yi(this._delegate),new KP(new JO(this._delegate,e=>nm(this._delegate,e)))}loadBundle(e){return function vV(n,e){const t=Yi(n=dn(n,si)),i=new cV;return function sV(n,e,t,i){const r=function(l,d){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,E){if(_ instanceof Uint8Array)return _O(_,E);if(_ instanceof ArrayBuffer)return _O(new Uint8Array(_),E);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new YL(_,d);var _}(t,j_(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function qL(n,e,t){const i=Je(n);var r;(r=(0,Ee.Z)(function*(l,d,f){try{const _=yield d.getMetadata();if(yield function(G,K){const Q=Je(G),ce=yr(K.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",Le=>Q.ds.getBundleMetadata(Le,K.id)).then(Le=>!!Le&&Le.createTime.compareTo(ce)>=0)}(l.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(G=_).totalDocuments,bytesLoaded:G.totalBytes,totalDocuments:G.totalDocuments,totalBytes:G.totalBytes}),Promise.resolve(new Set);f._updateProgress(aO(_));const E=new IL(_,l.localStore,d.M);let I=yield d.fa();for(;I;){const G=yield E.Nu(I);G&&f._updateProgress(G),I=yield d.fa()}const R=yield E.complete();return yield tc(l,R.Ou,void 0),yield function(G,K){const Q=Je(G);return Q.persistence.runTransaction("Save bundle","readwrite",ce=>Q.ds.saveBundleMetadata(ce,K))}(l.localStore,_),f._completeWith(R.progress),Promise.resolve(R.Mu)}catch(_){return wg("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var G}),function(l,d,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield SA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function bV(n,e){return function oV(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,i){const r=Je(t);return r.persistence.runTransaction("Get named query","readonly",l=>r.ds.getNamedQuery(l,i))}(yield AA(n),e)}))}(Yi(n=dn(n,si)),e).then(t=>t?new ns(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Cs(this,t):null)}}class R0 extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new sv(new Jl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return sa.forKey(t,this.firestore,null)}}class qP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new R0(e)}get(e){const t=Of(e);return this._delegate.get(t).then(i=>new ov(this._firestore,new ic(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Of(e);return i?(FS("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const l=Of(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,i,...r),this}delete(e){const t=Of(e);return this._delegate.delete(t),this}}class KP{constructor(e){this._delegate=e}set(e,t,i){const r=Of(e);return i?(FS("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const l=Of(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,i,...r),this}delete(e){const t=Of(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Rf{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new q_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new av(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Rf.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let l=r.get(t);return l||(l=new Rf(e,new R0(e),t),r.set(t,l)),l}}Rf.INSTANCES=new WeakMap;class sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new R0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new sa(t,new Xn(t._delegate,i,new $e(e)))}static forKey(e,t,i){return new sa(t,new Xn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new um(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new um(this.firestore,RO(this._delegate,e))}catch(t){throw Es(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Yt.m9)(e))instanceof Xn&&OO(this._delegate,e)}set(e,t){t=FS("DocumentReference.set",t);try{return t?ek(this._delegate,e,t):ek(this._delegate,e)}catch(i){throw Es(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?tk(this._delegate,e):tk(this._delegate,e,t,...i)}catch(r){throw Es(r,"updateDoc()","DocumentReference.update()")}}delete(){return function qV(n){return nm(dn(n.firestore,si),[new I_(n._key,wt.none())])}(this._delegate)}onSnapshot(...e){const t=YP(e),i=ZP(e,r=>new ov(this.firestore,new ic(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return nk(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function GV(n){n=dn(n,Xn);const e=dn(n.firestore,si),t=Yi(e),i=new xf(e);return function tV(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,l,d){try{const f=yield function(_,E){const I=Je(_);return I.persistence.runTransaction("read document","readonly",R=>I.ai.Bs(R,E))}(r,l);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Fe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Qg(f,`Failed to get document '${l} from cache`);d.reject(_)}}),function(r,l,d){return i.apply(this,arguments)})(yield AA(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ic(e,i,n._key,r,new Df(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function HV(n){n=dn(n,Xn);const e=dn(n.firestore,si);return CO(Yi(e),n._key,{source:"server"}).then(t=>VA(e,n,t))}(this._delegate):function jV(n){n=dn(n,Xn);const e=dn(n.firestore,si);return CO(Yi(e),n._key).then(t=>VA(e,n,t))}(this._delegate),t.then(i=>new ov(this.firestore,new ic(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new sa(this.firestore,this._delegate.withConverter(e?Rf.getInstance(this.firestore,e):null))}}function Es(n,e,t){return n.message=n.message.replace(e,t),n}function YP(n){for(const e of n)if("object"==typeof e&&!PS(e))return e;return{}}function ZP(n,e){var t,i;let r;return r=PS(n[0])?n[0]:PS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{r.next&&r.next(e(l))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class ov{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return $O(this._delegate,e._delegate)}}class av extends ov{data(e){const t=this._delegate.data(e);return function dE(n,e){n||lt()}(void 0!==t),t}}class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new R0(e)}where(e,t,i){try{return new Cs(this.firestore,Rd(this._delegate,function RV(n,e,t){const i=e,r=s0("where",n);return new MV(r,i,t)}(e,t,i)))}catch(r){throw Es(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Cs(this.firestore,Rd(this._delegate,function kV(n,e="asc"){const t=e,i=s0("orderBy",n);return new OV(i,t)}(e,t)))}catch(i){throw Es(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cs(this.firestore,Rd(this._delegate,function FV(n){return TO("limit",n),new WO("limit",n,"F")}(e)))}catch(t){throw Es(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Cs(this.firestore,Rd(this._delegate,function PV(n){return TO("limitToLast",n),new WO("limitToLast",n,"L")}(e)))}catch(t){throw Es(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Cs(this.firestore,Rd(this._delegate,function NV(...n){return new qO("startAt",n,!0)}(...e)))}catch(t){throw Es(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Cs(this.firestore,Rd(this._delegate,function LV(...n){return new qO("startAfter",n,!1)}(...e)))}catch(t){throw Es(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Cs(this.firestore,Rd(this._delegate,function VV(...n){return new KO("endBefore",n,!1)}(...e)))}catch(t){throw Es(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Cs(this.firestore,Rd(this._delegate,function BV(...n){return new KO("endAt",n,!0)}(...e)))}catch(t){throw Es(t,"endAt()","Query.endAt()")}}isEqual(e){return kO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function zV(n){n=dn(n,ns);const e=dn(n.firestore,si),t=Yi(e),i=new xf(e);return function nV(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,l,d){try{const f=yield HE(r,l,!0),_=new cO(l,f.hi),E=_.Gu(f.documents),I=_.applyChanges(E,!1);d.resolve(I.snapshot)}catch(f){const _=Qg(f,`Failed to execute query '${l} against cache`);d.reject(_)}}),function(r,l,d){return i.apply(this,arguments)})(yield AA(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Md(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function WV(n){n=dn(n,ns);const e=dn(n.firestore,si),t=Yi(e),i=new xf(e);return DO(t,n._query,{source:"server"}).then(r=>new Md(e,i,n,r))}(this._delegate):function $V(n){n=dn(n,ns);const e=dn(n.firestore,si),t=Yi(e),i=new xf(e);return zO(n._query),DO(t,n._query).then(r=>new Md(e,i,n,r))}(this._delegate),t.then(i=>new NS(this.firestore,new Md(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=YP(e),i=ZP(e,r=>new NS(this.firestore,new Md(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return nk(this._delegate,t,i)}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?Rf.getInstance(this.firestore,e):null))}}class sz{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new av(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new av(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new sz(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new av(this._firestore,i))})}isEqual(e){return $O(this._delegate,e._delegate)}}class um extends Cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new sa(this.firestore,e):null}doc(e){try{return new sa(this.firestore,void 0===e?XE(this._delegate):XE(this._delegate,e))}catch(t){throw Es(t,"doc()","CollectionReference.doc()")}}add(e){return function KV(n,e){const t=dn(n.firestore,si),i=XE(n),r=o0(n.converter,e);return nm(t,[t0(Ef(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,wt.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new sa(this.firestore,t))}isEqual(e){return OO(this._delegate,e._delegate)}withConverter(e){return new um(this.firestore,this._delegate.withConverter(e?Rf.getInstance(this.firestore,e):null))}}function Of(n){return dn(n,Xn)}class LS{constructor(...e){this._delegate=new nc(...e)}static documentId(){return new LS(qi.keyField().canonicalString())}isEqual(e){return(e=(0,Yt.m9)(e))instanceof nc&&this._delegate._internalPath.isEqual(e._internalPath)}}class kf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function JV(){return new OA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new kf(e)}static delete(){const e=function XV(){return new z_("deleteField")}();return e._methodName="FieldValue.delete",new kf(e)}static arrayUnion(...e){const t=function eB(...n){return new DV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new kf(t)}static arrayRemove(...e){const t=function tB(...n){return new xV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new kf(t)}static increment(e){const t=function nB(n){return new IV("increment",n)}(e);return t._methodName="FieldValue.increment",new kf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const oz={Firestore:WP,GeoPoint:JE,Timestamp:mi,Blob:sv,Transaction:qP,WriteBatch:KP,DocumentReference:sa,DocumentSnapshot:ov,Query:Cs,QueryDocumentSnapshot:av,QuerySnapshot:NS,CollectionReference:um,FieldPath:LS,FieldValue:kf,setLogLevel:function rz(n){!function m_(n){Qu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function QP(n,e){return function uz(n,e=Um.z){return new mo.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function VS(n,e){return QP(n,e).pipe((0,Mn.U)(t=>({payload:t,type:"query"})))}function O0(n,e){return VS(n,e).pipe(om(void 0),OS(),(0,Mn.U)(([t,i])=>{const r=i.payload.docChanges(),l=r.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,f)=>{const _=r.find(I=>I.doc.ref.isEqual(d.ref)),E=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),l}))}function XP(n,e,t){return O0(n,t).pipe(kS((i,r)=>function dz(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function hz(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return BS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return BS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return BS(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(l=>l.payload),e),[]),OC(),(0,Mn.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function BS(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function JP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function lz(n){(function az(n,e){n.INTERNAL.registerComponent(new Xc.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},oz)))})(n,(e,t)=>new WP(e,t,new iz)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(J$.Z);class eN{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=O0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Mn.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(om(void 0),OS(),ys(([i,r])=>r.length>0||!i),(0,Mn.U)(([i,r])=>r),un.iC)}auditTrail(e){return this.stateChanges(e).pipe(kS((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=JP(e);return XP(this.query,t,this.afs.schedulers.outsideAngular).pipe(un.iC)}valueChanges(e={}){return VS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mn.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),un.iC)}get(e){return(0,Wo.D)(this.query.get(e)).pipe(un.iC)}add(e){return this.ref.add(e)}doc(e){return new tN(this.ref.doc(e),this.afs)}}class tN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:l}=nN(i,t);return new eN(r,l,this.afs)}snapshotChanges(){return function cz(n,e){return QP(n,e).pipe(om(void 0),OS(),(0,Mn.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(un.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Mn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Wo.D)(this.ref.get(e)).pipe(un.iC)}}class fz{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?O0(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mn.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),ys(t=>t.length>0),un.iC):O0(this.query,this.afs.schedulers.outsideAngular).pipe(un.iC)}auditTrail(e){return this.stateChanges(e).pipe(kS((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=JP(e);return XP(this.query,t,this.afs.schedulers.outsideAngular).pipe(un.iC)}valueChanges(e={}){return VS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mn.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),un.iC)}get(e){return(0,Wo.D)(this.query.get(e)).pipe(un.iC)}}const pz=new c.OlP("angularfire2.enableFirestorePersistence"),gz=new c.OlP("angularfire2.firestore.persistenceSettings"),mz=new c.OlP("angularfire2.firestore.settings"),yz=new c.OlP("angularfire2.firestore.use-emulator");function nN(n,e=(t=>t)){return{query:e(n),ref:n}}let iN=(()=>{class n{constructor(t,i,r,l,d,f,_,E,I,R,G,K,Q,ce,Le,tt,Xe){this.schedulers=_;const Ht=(0,Br.on)(t,f,i),ut=I;R&&HP(Ht,f,G,Q,ce,Le,K,tt),[this.firestore,this.persistenceEnabled$]=(0,Br.cc)(`${Ht.name}.firestore`,"AngularFirestore",Ht.name,()=>{const Ut=f.runOutsideAngular(()=>Ht.firestore());if(l&&Ut.settings(l),ut&&Ut.useEmulator(...ut),r&&!dr(d)){const Ot=()=>{try{return(0,Wo.D)(Ut.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(Hn){return"undefined"!=typeof console&&console.warn(Hn),Mr(!1)}};return[Ut,f.runOutsideAngular(Ot)]}return[Ut,Mr(!1)]},[l,ut,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=nN(r,i),f=this.schedulers.ngZone.run(()=>l);return new eN(f,d,this)}collectionGroup(t,i){const r=i||(d=>d),l=this.firestore.collectionGroup(t);return new fz(r(l),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new tN(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Br.Dh),c.LFG(Br.xv,8),c.LFG(pz,8),c.LFG(mz,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(un.HU),c.LFG(gz,8),c.LFG(yz,8),c.LFG(RS,8),c.LFG(LP,8),c.LFG(VP,8),c.LFG(BP,8),c.LFG(UP,8),c.LFG(jP,8),c.LFG(GP,8),c.LFG(Gu,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_z=(()=>{class n{constructor(t,i){this.auth=t,this.afs=i,this.auth.authState.subscribe(r=>{r?(this.userData=r,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):localStorage.removeItem("user")})}GoogleAuth(){return this.AuthLogin(new S0.Z.auth.GoogleAuthProvider).then(t=>t||null)}AuthLogin(t){return this.auth.signInWithPopup(t).then(i=>(this.SetUserData(i.user),i.user.uid)).catch(i=>{window.alert(i)})}SetUserData(t){try{const i=this.afs.doc(`users/${t.uid}`),r={uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL};return localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user")),i.set(r,{merge:!0})}catch(i){return i}}SignOut(){return this.auth.signOut().then(()=>{localStorage.removeItem("user")})}get uid(){try{let t=JSON.parse(localStorage.getItem("user"))||null;return t?t.uid:null}catch(t){return null}}get nombre(){let t=JSON.parse(localStorage.getItem("user"))||null;return t?t.displayName:null}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(RS),c.LFG(iN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vz=(()=>{class n{constructor(t){this.afs=t}listaDeChats(t){return this.afs.doc(`ChatRoom/${t}`).collection("Chats",i=>i.orderBy("fecha","asc")).valueChanges()}existeChatRoom(t){var i=this;return(0,Ee.Z)(function*(){return(yield TS(i.afs.collection("ChatRoom").doc(t).get())).exists})()}crearChatRoom(t,i){var r=this;return(0,Ee.Z)(function*(){try{return yield r.afs.collection("ChatRoom").doc(t).set({adminId:i.adminId,clienteId:i.clienteId,activo:i.activo,nombreCliente:i.nombreCliente,revisadoAdmin:!1,fecha:S0.Z.firestore.FieldValue.serverTimestamp()}),!0}catch(l){return!1}})()}actualizarRAChatRoom(t){var i=this;return(0,Ee.Z)(function*(){try{return yield i.afs.collection("ChatRoom").doc(t).set({revisadoAdmin:!1},{merge:!0}),!0}catch(r){return!1}})()}agregarMensaje(t,i){return this.afs.doc(`ChatRoom/${i}`).collection("Chats").add({fecha:S0.Z.firestore.FieldValue.serverTimestamp(),mensaje:t.mensaje,nombre:t.nombre,uid:t.uid})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(iN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bz=["scrollMe"],wz=["empty"];function Ez(n,e){1&n&&c.GkF(0)}function Cz(n,e){if(1&n&&(c.TgZ(0,"div",24)(1,"p"),c._uU(2),c.qZA()()),2&n){const t=c.oxw(2).$implicit;c.xp6(2),c.Oqu(t.nombre)}}function Dz(n,e){if(1&n&&(c.TgZ(0,"div",20),c.YNc(1,Cz,3,1,"div",21),c.TgZ(2,"div",22),c._uU(3),c.TgZ(4,"div",23)(5,"p"),c._uU(6),c.ALo(7,"date"),c.qZA()()()()),2&n){const t=c.oxw(),i=t.$implicit,r=t.index,l=c.oxw().ngIf;c.xp6(1),c.Q6J("ngIf",i.uid!==l[r-1].uid),c.xp6(2),c.hij(" ",i.mensaje," "),c.xp6(3),c.Oqu(c.xi3(7,3,1e3*i.fecha.seconds,"short"))}}function xz(n,e){if(1&n&&(c.TgZ(0,"div",25)(1,"div",26)(2,"p"),c._uU(3),c.qZA()()()),2&n){const t=c.oxw().$implicit;c.xp6(3),c.Oqu(t.mensaje)}}function Iz(n,e){if(1&n&&(c.TgZ(0,"li",16),c.YNc(1,Ez,1,0,"ng-container",17),c.YNc(2,Dz,8,6,"ng-template",null,18,c.W1O),c.YNc(4,xz,4,1,"ng-template",null,19,c.W1O),c.qZA()),2&n){const t=e.$implicit,i=c.MAs(3),r=c.MAs(5),l=c.oxw(3);c.xp6(1),c.Q6J("ngIf",l.uid!==t.uid)("ngIfThen",i)("ngIfElse",r)}}function Az(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Iz,6,3,"li",15),c.BQk()),2&n){const t=e.ngIf;c.xp6(1),c.Q6J("ngForOf",t)}}function Sz(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",27),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).enviar_mensaje()}),c.TgZ(1,"mat-icon"),c._uU(2,"send"),c.qZA()()}}const Tz=function(){return{standalone:!0}};function Mz(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"div",4)(2,"div",5),c.NdJ("click",function(){return c.CHM(t),c.oxw().closeForm()}),c.TgZ(3,"h2"),c._uU(4,"Hola!"),c.qZA(),c.TgZ(5,"mat-icon",6),c.NdJ("click",function(){return c.CHM(t),c.oxw().logout()}),c._uU(6,"logout"),c.qZA()(),c.TgZ(7,"div",7,8),c.YNc(9,Az,2,1,"ng-container",9),c.ALo(10,"async"),c.TgZ(11,"div",10,11),c._uU(13,"----"),c.qZA()(),c.TgZ(14,"mat-form-field",12)(15,"mat-label"),c._uU(16,"Enviar mensaje"),c.qZA(),c.TgZ(17,"input",13),c.NdJ("ngModelChange",function(r){return c.CHM(t),c.oxw().mensaje=r})("keyup.enter",function(){return c.CHM(t),c.oxw().enviar_mensaje()}),c.qZA(),c.YNc(18,Sz,3,0,"button",14),c.qZA()(),c.BQk()}if(2&n){const t=c.oxw();c.xp6(9),c.Q6J("ngIf",c.lcZ(10,4,t.chats$)),c.xp6(8),c.Q6J("ngModel",t.mensaje)("ngModelOptions",c.DdM(6,Tz)),c.xp6(1),c.Q6J("ngIf",t.mensaje)}}function Rz(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"button",28),c.NdJ("click",function(){return c.CHM(t),c.oxw().login()}),c._uU(2," Log in with Google "),c.qZA(),c.TgZ(3,"button",29),c.NdJ("click",function(){return c.CHM(t),c.oxw().closeForm()}),c._uU(4," Close "),c.qZA()()}}let Oz=(()=>{class n{constructor(t,i,r){this.AS=t,this.dbs=i,this.fns=r,this.visible=!1,this.mensaje="",this.comment={},this.empty={},this.scrolltop=0,this.adminId="YMhxHtHXFGcAXmCn7DFbv06a8s83",this.source="https://firebasestorage.googleapis.com/v0/b/paginas-clientes-4fe76.appspot.com/o/Short%20Marimba%20Notification%20Ding.mp3?alt=media&token=4f00f7a9-8d9e-4bea-b944-787d77b24d38",this.sendNotificationCallable=this.fns.httpsCallable("sendChatNotification")}ngAfterViewChecked(){void 0!==this.comment&&0===this.comment.nativeElement.scrollTop&&this.scrollToBottom()}ngOnInit(){var t=this;return(0,Ee.Z)(function*(){t.uid=t.AS.uid,t.idChatRoom=t.uid+"-"+t.adminId,t.chats$=t.dbs.listaDeChats(t.idChatRoom).pipe((0,Z_.b)(i=>{t.scrollToBottom(),t.empty.nativeElement.scrollIntoView({behavior:"smooth"}),i[i.length-1].uid===t.adminId&&new Audio(t.source).play()})),t.chatRoomExist=yield t.dbs.existeChatRoom(t.idChatRoom),t.scrollToBottom()})()}openForm(){this.visible=!0}closeForm(){this.visible=!1}enviar_mensaje(){var t=this;return(0,Ee.Z)(function*(){if(0===t.mensaje.length)return;let i=new W$;if(i.fecha=new Date,i.mensaje=t.mensaje,i.uid=t.uid,i.nombre=t.AS.nombre,t.chatRoomExist)t.dbs.agregarMensaje(i,t.idChatRoom).then((0,Ee.Z)(function*(){t.mensaje="",t.scrollToBottom(),yield t.dbs.actualizarRAChatRoom(t.idChatRoom),yield TS(t.sendNotificationCallable({adminId:t.adminId,messagetitle:"Nuevo chat",messagebody:`${t.AS.nombre} te ha enviado un nuevo mensaje`,idchat:t.idChatRoom}))})).catch(r=>console.error("Error al enviar",r));else{const r=new z$(t.adminId,t.uid,!0,t.AS.nombre,null),l=yield t.dbs.crearChatRoom(t.idChatRoom,r);t.chatRoomExist=l,t.dbs.agregarMensaje(i,t.idChatRoom).then((0,Ee.Z)(function*(){t.scrollToBottom(),t.mensaje="",yield TS(t.sendNotificationCallable({adminId:t.adminId,messagetitle:"Nueva solicitud de chat",messagebody:`${t.AS.nombre} ha solicitado informacion`,idchat:t.idChatRoom}))})).catch(d=>console.error("Error al enviar",d))}})()}logout(){var t=this;return(0,Ee.Z)(function*(){yield t.AS.SignOut()})()}login(){var t=this;return(0,Ee.Z)(function*(){const i=yield t.AS.GoogleAuth();i&&(t.uid=i,t.idChatRoom=t.uid+"-YMhxHtHXFGcAXmCn7DFbv06a8s83",t.chatRoomExist=yield t.dbs.existeChatRoom(t.idChatRoom),t.chats$=t.dbs.listaDeChats(t.idChatRoom))})()}tooltipfecha(t){const i=new al("en-US").transform(1e3*t.seconds,"MMMM d, y, h:mm a");return null!=i?i:""}scrollToBottom(){try{this.comment.nativeElement.scrollTop=this.comment.nativeElement.scrollHeight}catch(t){}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_z),c.Y36(vz),c.Y36(ES))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-chat-pop-up"]],viewQuery:function(t,i){if(1&t&&(c.Gf(bz,5),c.Gf(wz,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.comment=r.first),c.iGM(r=c.CRH())&&(i.empty=r.first)}},inputs:{adminId:"adminId"},decls:7,vars:4,consts:[["mat-fab","",3,"ngClass","click"],[3,"ngClass"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header",3,"click"],[3,"click"],[1,"mesgs"],["scrollMe",""],[4,"ngIf"],[2,"color","transparent"],["empty",""],["color","accent","appearance","fill"],["matInput","","type","text","autocomplete","off",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["class","message",4,"ngFor","ngForOf"],[1,"message"],[4,"ngIf","ngIfThen","ngIfElse"],["incoming_msg",""],["outgoing_msg",""],[1,"message-box-holder"],["class","message-sender",4,"ngIf"],[1,"message-box","message-partner"],[1,"message-sender-date"],[1,"message-sender"],[1,"outgoing_msg"],[1,"sent_msg"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["type","button",1,"btn",3,"click"],["type","button",1,"btn","cancel",3,"click"]],template:function(t,i){if(1&t&&(c.TgZ(0,"button",0),c.NdJ("click",function(){return i.openForm()}),c.TgZ(1,"mat-icon"),c._uU(2,"chat"),c.qZA()(),c.TgZ(3,"div",1),c.YNc(4,Mz,19,7,"ng-container",2),c.YNc(5,Rz,5,0,"ng-template",null,3,c.W1O),c.qZA()),2&t){const r=c.MAs(6);c.Q6J("ngClass",!1===i.visible?"open-button visible":"open-button no-visible"),c.xp6(3),c.Q6J("ngClass",!0===i.visible?"chat-popup visible":"chat-popup no-visible"),c.xp6(1),c.Q6J("ngIf",null!==i.AS.uid)("ngIfElse",r)}},directives:[Qc,ur,Ek,eG,ki,Tk,Ok,Fk,ui,NG,XA,HH,m0,LF,gS,OG],pipes:[Bd,al],styles:[".open-button[_ngcontent-%COMP%]{background-color:#555;color:#fff;opacity:.8;top:auto!important;right:20px!important;bottom:10px!important;left:auto!important;position:fixed!important;z-index:9}.chat-popup[_ngcontent-%COMP%]{position:fixed;bottom:0;right:15px;z-index:9}.btn[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff;padding:16px 20px;border:none;cursor:pointer;width:100%;margin-bottom:10px;opacity:.8}.cancel[_ngcontent-%COMP%]{background-color:red}.visible[_ngcontent-%COMP%]{display:block}.no-visible[_ngcontent-%COMP%]{position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0}.mesgs[_ngcontent-%COMP%]{float:left;background-color:#ffffff46;height:200px;overflow-y:scroll}@media only screen and (max-width: 600px){.mesgs[_ngcontent-%COMP%]{width:80%}}@media only screen and (min-width: 600px){.mesgs[_ngcontent-%COMP%]{width:80%}}@media only screen and (min-width: 768px){.mesgs[_ngcontent-%COMP%]{width:500px}}@media only screen and (min-width: 992px){.mesgs[_ngcontent-%COMP%]{width:300px}}@media only screen and (min-width: 1200px){.mesgs[_ngcontent-%COMP%]{width:450px}}.sent_msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#a364bd none repeat scroll 0 0;border-radius:3px;font-size:14px;margin:0;color:#fff;padding:5px 10px 5px 12px;width:100%}.outgoing_msg[_ngcontent-%COMP%]{overflow:hidden;margin:26px 0}.sent_msg[_ngcontent-%COMP%]{float:right;width:46%;overflow-wrap:anywhere}.header[_ngcontent-%COMP%]{background-color:#b500d5;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{list-style-type:none}.message-box-holder[_ngcontent-%COMP%]{width:100%;margin:0 0 15px;display:flex;flex-flow:column;align-items:flex-start}p[_ngcontent-%COMP%]{color:#30649c;text-decoration:none}.message-partner[_ngcontent-%COMP%]{background:rgba(0,114,135,.1);border:2px solid rgba(0,114,135,.1);align-self:flex-start}.message-box[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px 0;position:relative;background:rgba(100,170,0,.1);border:2px solid rgba(100,170,0,.1);color:#6c6c6c;font-size:12px;overflow-wrap:anywhere}.message-sender[_ngcontent-%COMP%]{font-size:12px;color:#30649c;align-self:flex-start}.message-sender-date[_ngcontent-%COMP%]{font-size:8px;color:#4a79ac28;align-self:flex-start;position:relative}"]}),n})();const k0={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if("undefined"==typeof window)return k0.schedule(n,0);if(void 0===window.requestAnimationFrame)return k0.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let US;function jz(n,e,t){let i=t;return function Fz(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((r,l)=>!("*"===r||!function Nz(n,e){if(!US){const t=Element.prototype;US=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&US.call(n,e)}(n,r)||(i=l,0))),i}class Hz{constructor(e,t){this.componentFactory=t.get(c._Vd).resolveComponentFactory(e)}create(e){return new $z(this.componentFactory,e)}}class $z{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new bP(1),this.events=this.eventEmitters.pipe(nl(i=>(0,im.T)(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(c.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=k0.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t){this.runInZone(()=>{null!==this.componentRef?function Lz(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=c.zs3.create({providers:[],parent:this.injector}),i=function Uz(n,e){const t=n.childNodes,i=e.map(()=>[]);let r=-1;e.some((l,d)=>"*"===l&&(r=d,!0));for(let l=0,d=t.length;l<d;++l){const f=t[l],_=jz(f,e,r);-1!==_&&i[_].push(f)}return i}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(c.sBO),this.implementsOnChanges=function Pz(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(c.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe((0,Mn.U)(d=>({name:r,value:d}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=k0.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[e];if(i)return void(i.currentValue=t);const r=this.unchangedInputs.has(e),l=r?void 0:this.getInputValue(e);this.inputChanges[e]=new c.WD2(l,t,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class zz extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}let qz=(()=>{class n{constructor(t){this.injector=t}ngDoBootstrap(){const t=function Wz(n,e){const t=function Bz(n,e){return e.get(c._Vd).resolveComponentFactory(n).inputs}(n,e.injector),i=e.strategyFactory||new Hz(n,e.injector),r=function Vz(n){const e={};return n.forEach(({propName:t,templateName:i})=>{e[function kz(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(i)]=t}),e}(t);class l extends zz{constructor(f){super(),this.injector=f}get ngElementStrategy(){if(!this._ngElementStrategy){const f=this._ngElementStrategy=i.create(this.injector||e.injector);t.forEach(({propName:_})=>{if(!this.hasOwnProperty(_))return;const E=this[_];delete this[_],f.setInputValue(_,E)})}return this._ngElementStrategy}attributeChangedCallback(f,_,E,I){this.ngElementStrategy.setInputValue(r[f],E)}connectedCallback(){let f=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),f=!0),this.ngElementStrategy.connect(this),f||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(f=>{const _=new CustomEvent(f.name,{detail:f.value});this.dispatchEvent(_)})}}return l.observedAttributes=Object.keys(r),t.forEach(({propName:d})=>{Object.defineProperty(l.prototype,d,{get(){return this.ngElementStrategy.getInputValue(d)},set(f){this.ngElementStrategy.setInputValue(d,f)},configurable:!0,enumerable:!0})}),l}(Oz,{injector:this.injector});customElements.define("chat-pop-up",t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[Rs,Z0,Cb,tG,JA,$H,Br.hO.initializeApp(Jm_firebase),Ab(()=>Sb(Jm_firebase)),jD(()=>GD()),uB(()=>cB()),ZH,wj,H$,NH]]}),n})();(0,c.G48)(),ga().bootstrapModule(qz).catch(n=>console.error(n))},5867:(ct,Ie,F)=>{F.d(Ie,{Mq:()=>c.getApp,C6:()=>c.getApps,ZF:()=>c.initializeApp,KN:()=>c.registerVersion});var c=F(9681);(0,c.registerVersion)("firebase","9.6.10","app")},127:(ct,Ie,F)=>{F.d(Ie,{Z:()=>c.Z});var c=F(3942);c.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(ct,Ie,F)=>{F.r(Ie);var c=F(5861),H=F(3942),k=F(424),oe=F(2090),re=(F(9681),F(1877),F(4859));function he(){return window}function z(){return(z=(0,c.Z)(function*(P,V,U){var ue;const{BuildInfo:Ue}=he();(0,k.ap)(V.sessionId,"AuthEvent did not contain a session ID");const Ke=yield De(V.sessionId),Dt={};return(0,k.aq)()?Dt.ibi=Ue.packageName:(0,k.ar)()?Dt.apn=Ue.packageName:(0,k.as)(P,"operation-not-supported-in-this-environment"),Ue.displayName&&(Dt.appDisplayName=Ue.displayName),Dt.sessionId=Ke,(0,k.at)(P,U,V.type,void 0,null!==(ue=V.eventId)&&void 0!==ue?ue:void 0,Dt)})).apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(P){const{BuildInfo:V}=he(),U={};(0,k.aq)()?U.iosBundleId=V.packageName:(0,k.ar)()?U.androidPackageName=V.packageName:(0,k.as)(P,"operation-not-supported-in-this-environment"),yield(0,k.au)(P,U)})).apply(this,arguments)}function je(){return(je=(0,c.Z)(function*(P,V,U){const{cordova:ue}=he();let Ue=()=>{};try{yield new Promise((Ke,Dt)=>{let it=null;function Mt(){var Zt;Ke();const Mi=null===(Zt=ue.plugins.browsertab)||void 0===Zt?void 0:Zt.close;"function"==typeof Mi&&Mi(),"function"==typeof(null==U?void 0:U.close)&&U.close()}function En(){it||(it=window.setTimeout(()=>{Dt((0,k.av)(P,"redirect-cancelled-by-user"))},2e3))}function ei(){"visible"===(null==document?void 0:document.visibilityState)&&En()}V.addPassiveListener(Mt),document.addEventListener("resume",En,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",ei,!1),Ue=()=>{V.removePassiveListener(Mt),document.removeEventListener("resume",En,!1),document.removeEventListener("visibilitychange",ei,!1),it&&window.clearTimeout(it)}})}finally{Ue()}})).apply(this,arguments)}function De(P){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(P){const V=He(P),U=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(U)).map(Ue=>Ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function He(P){if((0,k.ap)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(P);const V=new ArrayBuffer(P.length),U=new Uint8Array(V);for(let ue=0;ue<P.length;ue++)U[ue]=P.charCodeAt(ue);return U}class Me extends k.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(V)),super.onEvent(V)}initialized(){var V=this;return(0,c.Z)(function*(){yield V.initPromise})()}}function ie(P){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(P){const V=yield de()._get(me(P));return V&&(yield de()._remove(me(P))),V})).apply(this,arguments)}function pe(){const P=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<20;U++){const ue=Math.floor(Math.random()*V.length);P.push(V.charAt(ue))}return P.join("")}function de(){return(0,k.ax)(k.b)}function me(P){return(0,k.ay)("authEvent",P.config.apiKey,P.name)}function xt(P){if(!(null==P?void 0:P.includes("?")))return{};const[V,...U]=P.split("?");return(0,oe.zd)(U.join("?"))}function pt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.av)("no-auth-event")}}function Xt(){var P;return(null===(P=null==self?void 0:self.location)||void 0===P?void 0:P.protocol)||null}function In(P=(0,oe.z$)()){return!("file:"!==Xt()&&"ionic:"!==Xt()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function ar(){try{const P=self.localStorage,V=k.aG();if(P)return P.setItem(V,"1"),P.removeItem(V),!function jr(P=(0,oe.z$)()){return function Si(){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function bi(P=(0,oe.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,oe.hl)()}catch(P){return li()&&(0,oe.hl)()}return!1}function li(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function wi(){return(function en(){return"http:"===Xt()||"https:"===Xt()}()||(0,oe.ru)()||In())&&!function ai(){return(0,oe.b$)()||(0,oe.UG)()}()&&ar()&&!li()}function rs(){return In()&&"undefined"!=typeof document}function Ti(){return(Ti=(0,c.Z)(function*(){return!!rs()&&new Promise(P=>{const V=setTimeout(()=>{P(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),P(!0)})})})).apply(this,arguments)}const rn={LOCAL:"local",NONE:"none",SESSION:"session"},Un=k.aw,lr="persistence";function An(P){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(P){yield P._initializationPromise;const V=$t(),U=k.ay(lr,P.config.apiKey,P.name);V&&V.setItem(U,P._getPersistence())})).apply(this,arguments)}function $t(){var P;try{return(null===(P=function On(){return"undefined"!=typeof window?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch(V){return null}}const ht=k.aw;class st{constructor(){this.browserResolver=k.ax(k.k),this.cordovaResolver=k.ax(class Rn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aA}_initialize(V){var U=this;return(0,c.Z)(function*(){const ue=V._key();let Ue=U.eventManagers.get(ue);return Ue||(Ue=new Me(V),U.eventManagers.set(ue,Ue),U.attachCallbackListeners(V,Ue)),Ue})()}_openPopup(V){(0,k.as)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,U,ue,Ue){var Ke=this;return(0,c.Z)(function*(){!function we(P){var V,U,ue,Ue,Ke,Dt,it,Mt,En,ei;const Zt=he();(0,k.aw)("function"==typeof(null===(V=null==Zt?void 0:Zt.universalLinks)||void 0===V?void 0:V.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aw)(void 0!==(null===(U=null==Zt?void 0:Zt.BuildInfo)||void 0===U?void 0:U.packageName),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aw)("function"==typeof(null===(Ke=null===(Ue=null===(ue=null==Zt?void 0:Zt.cordova)||void 0===ue?void 0:ue.plugins)||void 0===Ue?void 0:Ue.browsertab)||void 0===Ke?void 0:Ke.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(Mt=null===(it=null===(Dt=null==Zt?void 0:Zt.cordova)||void 0===Dt?void 0:Dt.plugins)||void 0===it?void 0:it.browsertab)||void 0===Mt?void 0:Mt.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(ei=null===(En=null==Zt?void 0:Zt.cordova)||void 0===En?void 0:En.InAppBrowser)||void 0===ei?void 0:ei.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Dt=yield Ke._initialize(V);yield Dt.initialized(),Dt.resetRedirect(),(0,k.aB)(),yield Ke._originValidation(V);const it=function Ce(P,V,U=null){return{type:V,eventId:U,urlResponse:null,sessionId:pe(),postBody:null,tenantId:P.tenantId,error:(0,k.av)(P,"no-auth-event")}}(V,ue,Ue);yield function Ye(P,V){return de()._set(me(P),V)}(V,it);const Mt=yield function W(P,V,U){return z.apply(this,arguments)}(V,it,U),En=yield function Oe(P){const{cordova:V}=he();return new Promise(U=>{V.plugins.browsertab.isAvailable(ue=>{let Ue=null;ue?V.plugins.browsertab.openUrl(P):Ue=V.InAppBrowser.open(P,(0,k.ao)()?"_blank":"_system","location=yes"),U(Ue)})})}(Mt);return function Ne(P,V,U){return je.apply(this,arguments)}(V,Dt,En)})()}_isIframeWebStorageSupported(V,U){throw new Error("Method not implemented.")}_originValidation(V){const U=V._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function ne(P){return qe.apply(this,arguments)}(V)),this.originValidationPromises[U]}attachCallbackListeners(V,U){const{universalLinks:ue,handleOpenURL:Ue,BuildInfo:Ke}=he(),Dt=setTimeout((0,c.Z)(function*(){yield ie(V),U.onEvent(pt())}),500),it=function(){var ei=(0,c.Z)(function*(Zt){clearTimeout(Dt);const Mi=yield ie(V);let Er=null;Mi&&(null==Zt?void 0:Zt.url)&&(Er=function J(P,V){var U,ue;const Ue=function le(P){const V=xt(P),U=V.link?decodeURIComponent(V.link):void 0,ue=xt(U).link,Ue=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return xt(Ue).link||Ue||ue||U||P}(V);if(Ue.includes("/__/auth/callback")){const Ke=xt(Ue),Dt=Ke.firebaseError?function Pe(P){try{return JSON.parse(P)}catch(V){return null}}(decodeURIComponent(Ke.firebaseError)):null,it=null===(ue=null===(U=null==Dt?void 0:Dt.code)||void 0===U?void 0:U.split("auth/"))||void 0===ue?void 0:ue[1],Mt=it?(0,k.av)(it):null;return Mt?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:Mt,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:Ue,postBody:null}}return null}(Mi,Zt.url)),U.onEvent(Er||pt())});return function(Mi){return ei.apply(this,arguments)}}();void 0!==ue&&"function"==typeof ue.subscribe&&ue.subscribe(null,it);const Mt=Ue,En=`${Ke.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var ei=(0,c.Z)(function*(Zt){if(Zt.toLowerCase().startsWith(En)&&it({url:Zt}),"function"==typeof Mt)try{Mt(Zt)}catch(Mi){console.error(Mi)}});return function(Zt){return ei.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aA}_initialize(V){var U=this;return(0,c.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,U,ue,Ue){var Ke=this;return(0,c.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openPopup(V,U,ue,Ue)})()}_openRedirect(V,U,ue,Ue){var Ke=this;return(0,c.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openRedirect(V,U,ue,Ue)})()}_isIframeWebStorageSupported(V,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,U)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return rs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,c.Z)(function*(){if(V.underlyingResolver)return;const U=yield function gt(){return Ti.apply(this,arguments)}();V.underlyingResolver=U?V.cordovaResolver:V.browserResolver})()}}function Zi(P){return P.unwrap()}function qt(P){return Fn(P)}function Fn(P){const{_tokenResponse:V}=P instanceof oe.ZR?P.customData:P;if(!V)return null;if(!(P instanceof oe.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return k.P.credentialFromResult(P);const U=V.providerId;if(!U||U===k.o.PASSWORD)return null;let ue;switch(U){case k.o.GOOGLE:ue=k.N;break;case k.o.FACEBOOK:ue=k.M;break;case k.o.GITHUB:ue=k.Q;break;case k.o.TWITTER:ue=k.V;break;default:const{oauthIdToken:Ue,oauthAccessToken:Ke,oauthTokenSecret:Dt,pendingToken:it,nonce:Mt}=V;return Ke||Dt||Ue||it?it?U.startsWith("saml.")?k.aJ._create(U,it):k.I._fromParams({providerId:U,signInMethod:U,pendingToken:it,idToken:Ue,accessToken:Ke}):new k.T(U).credential({idToken:Ue,accessToken:Ke,rawNonce:Mt}):null}return P instanceof oe.ZR?ue.credentialFromError(P):ue.credentialFromResult(P)}function on(P,V){return V.catch(U=>{throw U instanceof oe.ZR&&function Hr(P,V){var U;const ue=null===(U=V.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===V.code)V.resolver=new Kt(P,k.am(P,V));else if(ue){const Ue=Fn(V),Ke=V;Ue&&(Ke.credential=Ue,Ke.tenantId=ue.tenantId||void 0,Ke.email=ue.email||void 0,Ke.phoneNumber=ue.phoneNumber||void 0)}}(P,U),U}).then(U=>{const Ue=U.user;return{operationType:U.operationType,credential:qt(U),additionalUserInfo:k.ak(U),user:ze.getOrCreate(Ue)}})}function _t(P,V){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(P,V){const U=yield V;return{verificationId:U.verificationId,confirm:ue=>on(P,U.confirm(ue))}})).apply(this,arguments)}class Kt{constructor(V,U){this.resolver=U,this.auth=function Gr(P){return P.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return on(Zi(this.auth),this.resolver.resolveSignIn(V))}}class ze{constructor(V){this._delegate=V,this.multiFactor=k.an(V)}static getOrCreate(V){return ze.USER_MAP.has(V)||ze.USER_MAP.set(V,new ze(V)),ze.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var U=this;return(0,c.Z)(function*(){return on(U.auth,k.Y(U._delegate,V))})()}linkWithPhoneNumber(V,U){var ue=this;return(0,c.Z)(function*(){return _t(ue.auth,k.l(ue._delegate,V,U))})()}linkWithPopup(V){var U=this;return(0,c.Z)(function*(){return on(U.auth,k.d(U._delegate,V,st))})()}linkWithRedirect(V){var U=this;return(0,c.Z)(function*(){return yield An(k.aC(U.auth)),k.g(U._delegate,V,st)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var U=this;return(0,c.Z)(function*(){return on(U.auth,k.Z(U._delegate,V))})()}reauthenticateWithPhoneNumber(V,U){return _t(this.auth,k.r(this._delegate,V,U))}reauthenticateWithPopup(V){return on(this.auth,k.e(this._delegate,V,st))}reauthenticateWithRedirect(V){var U=this;return(0,c.Z)(function*(){return yield An(k.aC(U.auth)),k.h(U._delegate,V,st)})()}sendEmailVerification(V){return k.aa(this._delegate,V)}unlink(V){var U=this;return(0,c.Z)(function*(){return yield k.aj(U._delegate,V),U})()}updateEmail(V){return k.af(this._delegate,V)}updatePassword(V){return k.ag(this._delegate,V)}updatePhoneNumber(V){return k.u(this._delegate,V)}updateProfile(V){return k.ae(this._delegate,V)}verifyBeforeUpdateEmail(V,U){return k.ab(this._delegate,V,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ze.USER_MAP=new WeakMap;const xe=k.aw;let et=(()=>{class P{constructor(U,ue){if(this.app=U,ue.isInitialized())return this._delegate=ue.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ue}=U.options;xe(Ue,"invalid-api-key",{appName:U.name}),xe(Ue,"invalid-api-key",{appName:U.name});const Ke="undefined"!=typeof window?st:void 0;this._delegate=ue.initialize({options:{persistence:Nt(Ue,U.name),popupRedirectResolver:Ke}}),this._delegate._updateErrorMap(k.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ze.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,ue){k.E(this._delegate,U,ue)}applyActionCode(U){return k.a1(this._delegate,U)}checkActionCode(U){return k.a2(this._delegate,U)}confirmPasswordReset(U,ue){return k.a0(this._delegate,U,ue)}createUserWithEmailAndPassword(U,ue){var Ue=this;return(0,c.Z)(function*(){return on(Ue._delegate,k.a4(Ue._delegate,U,ue))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return k.a9(this._delegate,U)}isSignInWithEmailLink(U){return k.a7(this._delegate,U)}getRedirectResult(){var U=this;return(0,c.Z)(function*(){xe(wi(),U._delegate,"operation-not-supported-in-this-environment");const ue=yield k.j(U._delegate,st);return ue?on(U._delegate,Promise.resolve(ue)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function pn(P,V){(0,k.aC)(P)._logFramework(V)}(this._delegate,U)}onAuthStateChanged(U,ue,Ue){const{next:Ke,error:Dt,complete:it}=ft(U,ue,Ue);return this._delegate.onAuthStateChanged(Ke,Dt,it)}onIdTokenChanged(U,ue,Ue){const{next:Ke,error:Dt,complete:it}=ft(U,ue,Ue);return this._delegate.onIdTokenChanged(Ke,Dt,it)}sendSignInLinkToEmail(U,ue){return k.a6(this._delegate,U,ue)}sendPasswordResetEmail(U,ue){return k.$(this._delegate,U,ue||void 0)}setPersistence(U){var ue=this;return(0,c.Z)(function*(){let Ue;switch(function kn(P,V){Un(Object.values(rn).includes(V),P,"invalid-persistence-type"),(0,oe.b$)()?Un(V!==rn.SESSION,P,"unsupported-persistence-type"):(0,oe.UG)()?Un(V===rn.NONE,P,"unsupported-persistence-type"):li()?Un(V===rn.NONE||V===rn.LOCAL&&(0,oe.hl)(),P,"unsupported-persistence-type"):Un(V===rn.NONE||ar(),P,"unsupported-persistence-type")}(ue._delegate,U),U){case rn.SESSION:Ue=k.a;break;case rn.LOCAL:Ue=(yield k.ax(k.i)._isAvailable())?k.i:k.b;break;case rn.NONE:Ue=k.K;break;default:return k.as("argument-error",{appName:ue._delegate.name})}return ue._delegate.setPersistence(Ue)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return on(this._delegate,k.W(this._delegate))}signInWithCredential(U){return on(this._delegate,k.X(this._delegate,U))}signInWithCustomToken(U){return on(this._delegate,k._(this._delegate,U))}signInWithEmailAndPassword(U,ue){return on(this._delegate,k.a5(this._delegate,U,ue))}signInWithEmailLink(U,ue){return on(this._delegate,k.a8(this._delegate,U,ue))}signInWithPhoneNumber(U,ue){return _t(this._delegate,k.s(this._delegate,U,ue))}signInWithPopup(U){var ue=this;return(0,c.Z)(function*(){return xe(wi(),ue._delegate,"operation-not-supported-in-this-environment"),on(ue._delegate,k.c(ue._delegate,U,st))})()}signInWithRedirect(U){var ue=this;return(0,c.Z)(function*(){return xe(wi(),ue._delegate,"operation-not-supported-in-this-environment"),yield An(ue._delegate),k.f(ue._delegate,U,st)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return k.a3(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=rn,P})();function ft(P,V,U){let ue=P;"function"!=typeof P&&({next:ue,error:V,complete:U}=P);const Ue=ue;return{next:Dt=>Ue(Dt&&ze.getOrCreate(Dt)),error:V,complete:U}}function Nt(P,V){const U=function Xs(P,V){const U=$t();if(!U)return[];const ue=k.ay(lr,P,V);switch(U.getItem(ue)){case rn.NONE:return[k.K];case rn.LOCAL:return[k.i,k.a];case rn.SESSION:return[k.a];default:return[]}}(P,V);if("undefined"!=typeof self&&!U.includes(k.i)&&U.push(k.i),"undefined"!=typeof window)for(const ue of[k.b,k.a])U.includes(ue)||U.push(ue);return U.includes(k.K)||U.push(k.K),U}class Lt{constructor(){this.providerId="phone",this._delegate=new k.P(Zi(H.Z.auth()))}static credential(V,U){return k.P.credential(V,U)}verifyPhoneNumber(V,U){return this._delegate.verifyPhoneNumber(V,U)}unwrap(){return this._delegate}}Lt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Lt.PROVIDER_ID=k.P.PROVIDER_ID;const q=k.aw;class B{constructor(V,U,ue=H.Z.app()){var Ue;q(null===(Ue=ue.options)||void 0===Ue?void 0:Ue.apiKey,"invalid-api-key",{appName:ue.name}),this._delegate=new k.R(V,U,ue.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ge(P){P.INTERNAL.registerComponent(new re.wA("auth-compat",V=>{const U=V.getProvider("app-compat").getImmediate(),ue=V.getProvider("auth");return new et(U,ue)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.L,FacebookAuthProvider:k.M,GithubAuthProvider:k.Q,GoogleAuthProvider:k.N,OAuthProvider:k.T,SAMLAuthProvider:k.U,PhoneAuthProvider:Lt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:B,TwitterAuthProvider:k.V,Auth:et,AuthCredential:k.G,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.2.11")}(H.Z)},8306:(ct,Ie,F)=>{F.d(Ie,{y:()=>W});var c=F(930),H=F(727),k=F(8822),oe=F(4671);var re=F(2416),he=F(576),ye=F(2806);let W=(()=>{class Oe{constructor(je){je&&(this._subscribe=je)}lift(je){const we=new Oe;return we.source=this,we.operator=je,we}subscribe(je,we,De){const nt=function qe(Oe){return Oe&&Oe instanceof c.Lv||function ne(Oe){return Oe&&(0,he.m)(Oe.next)&&(0,he.m)(Oe.error)&&(0,he.m)(Oe.complete)}(Oe)&&(0,H.Nn)(Oe)}(je)?je:new c.Hp(je,we,De);return(0,ye.x)(()=>{const{operator:He,source:Re}=this;nt.add(He?He.call(nt,Re):Re?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(je){try{return this._subscribe(je)}catch(we){je.error(we)}}forEach(je,we){return new(we=z(we))((De,nt)=>{const He=new c.Hp({next:Re=>{try{je(Re)}catch(Me){nt(Me),He.unsubscribe()}},error:nt,complete:De});this.subscribe(He)})}_subscribe(je){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(je)}[k.L](){return this}pipe(...je){return function _e(Oe){return 0===Oe.length?oe.y:1===Oe.length?Oe[0]:function(je){return Oe.reduce((we,De)=>De(we),je)}}(je)(this)}toPromise(je){return new(je=z(je))((we,De)=>{let nt;this.subscribe(He=>nt=He,He=>De(He),()=>we(nt))})}}return Oe.create=Ne=>new Oe(Ne),Oe})();function z(Oe){var Ne;return null!==(Ne=null!=Oe?Oe:re.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(ct,Ie,F)=>{F.d(Ie,{x:()=>re});var c=F(8306),H=F(727);const oe=(0,F(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=F(8737),_e=F(2806);let re=(()=>{class ye extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ne=new he(this,this);return ne.operator=z,ne}_throwIfClosed(){if(this.closed)throw new oe}next(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(z)}})}error(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ne}=this;for(;ne.length;)ne.shift().error(z)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ne,isStopped:qe,observers:Oe}=this;return ne||qe?H.Lc:(this.currentObservers=null,Oe.push(z),new H.w0(()=>{this.currentObservers=null,(0,se.P)(Oe,z)}))}_checkFinalizedStatuses(z){const{hasError:ne,thrownError:qe,isStopped:Oe}=this;ne?z.error(qe):Oe&&z.complete()}asObservable(){const z=new c.y;return z.source=this,z}}return ye.create=(W,z)=>new he(W,z),ye})();class he extends re{constructor(W,z){super(),this.destination=W,this.source=z}next(W){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ne||ne.call(z,W)}error(W){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ne||ne.call(z,W)}complete(){var W,z;null===(z=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===z||z.call(W)}_subscribe(W){var z,ne;return null!==(ne=null===(z=this.source)||void 0===z?void 0:z.subscribe(W))&&void 0!==ne?ne:H.Lc}}},930:(ct,Ie,F)=>{F.d(Ie,{Hp:()=>je,Lv:()=>ne});var c=F(576),H=F(727),k=F(2416),oe=F(7849),se=F(5032);const _e=ye("C",void 0,void 0);function ye(Re,Me,Ce){return{kind:Re,value:Me,error:Ce}}var W=F(3410),z=F(2806);class ne extends H.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,H.Nn)(Me)&&Me.add(this)):this.destination=He}static create(Me,Ce,Ye){return new je(Me,Ce,Ye)}next(Me){this.isStopped?nt(function he(Re){return ye("N",Re,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?nt(function re(Re){return ye("E",void 0,Re)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?nt(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Oe(Re,Me){return qe.call(Re,Me)}class Ne{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Me)}catch(Ye){we(Ye)}}error(Me){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Me)}catch(Ye){we(Ye)}else we(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(Ce){we(Ce)}}}class je extends ne{constructor(Me,Ce,Ye){let ie;if(super(),(0,c.m)(Me)||!Me)ie={next:null!=Me?Me:void 0,error:null!=Ce?Ce:void 0,complete:null!=Ye?Ye:void 0};else{let Qe;this&&k.v.useDeprecatedNextContext?(Qe=Object.create(Me),Qe.unsubscribe=()=>this.unsubscribe(),ie={next:Me.next&&Oe(Me.next,Qe),error:Me.error&&Oe(Me.error,Qe),complete:Me.complete&&Oe(Me.complete,Qe)}):ie=Me}this.destination=new Ne(ie)}}function we(Re){k.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Re):(0,oe.h)(Re)}function nt(Re,Me){const{onStoppedNotification:Ce}=k.v;Ce&&W.z.setTimeout(()=>Ce(Re,Me))}const He={closed:!0,next:se.Z,error:function De(Re){throw Re},complete:se.Z}},727:(ct,Ie,F)=>{F.d(Ie,{Lc:()=>_e,w0:()=>se,Nn:()=>re});var c=F(576);const k=(0,F(3888).d)(ye=>function(z){ye(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ne,qe)=>`${qe+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var oe=F(8737);class se{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Oe of z)Oe.remove(this);else z.remove(this);const{initialTeardown:ne}=this;if((0,c.m)(ne))try{ne()}catch(Oe){W=Oe instanceof k?Oe.errors:[Oe]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Oe of qe)try{he(Oe)}catch(Ne){W=null!=W?W:[],Ne instanceof k?W=[...W,...Ne.errors]:W.push(Ne)}}if(W)throw new k(W)}}add(W){var z;if(W&&W!==this)if(this.closed)he(W);else{if(W instanceof se){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(W)}}_hasParent(W){const{_parentage:z}=this;return z===W||Array.isArray(z)&&z.includes(W)}_addParent(W){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(W),z):z?[z,W]:W}_removeParent(W){const{_parentage:z}=this;z===W?this._parentage=null:Array.isArray(z)&&(0,oe.P)(z,W)}remove(W){const{_finalizers:z}=this;z&&(0,oe.P)(z,W),W instanceof se&&W._removeParent(this)}}se.EMPTY=(()=>{const ye=new se;return ye.closed=!0,ye})();const _e=se.EMPTY;function re(ye){return ye instanceof se||ye&&"closed"in ye&&(0,c.m)(ye.remove)&&(0,c.m)(ye.add)&&(0,c.m)(ye.unsubscribe)}function he(ye){(0,c.m)(ye)?ye():ye.unsubscribe()}},2416:(ct,Ie,F)=>{F.d(Ie,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Ie,F)=>{F.d(Ie,{E:()=>H});const H=new(F(8306).y)(se=>se.complete())},8996:(ct,Ie,F)=>{F.d(Ie,{D:()=>Me});var c=F(8421),H=F(5363),k=F(9468),_e=F(8306),he=F(2202),ye=F(576),W=F(9672);function ne(Ce,Ye){if(!Ce)throw new Error("Iterable cannot be null");return new _e.y(ie=>{(0,W.f)(ie,Ye,()=>{const Qe=Ce[Symbol.asyncIterator]();(0,W.f)(ie,Ye,()=>{Qe.next().then(J=>{J.done?ie.complete():ie.next(J.value)})},0,!0)})})}var qe=F(3670),Oe=F(8239),Ne=F(1144),je=F(6495),we=F(2206),De=F(4532),nt=F(3260);function Me(Ce,Ye){return Ye?function Re(Ce,Ye){if(null!=Ce){if((0,qe.c)(Ce))return function oe(Ce,Ye){return(0,c.Xf)(Ce).pipe((0,k.R)(Ye),(0,H.Q)(Ye))}(Ce,Ye);if((0,Ne.z)(Ce))return function re(Ce,Ye){return new _e.y(ie=>{let Qe=0;return Ye.schedule(function(){Qe===Ce.length?ie.complete():(ie.next(Ce[Qe++]),ie.closed||this.schedule())})})}(Ce,Ye);if((0,Oe.t)(Ce))return function se(Ce,Ye){return(0,c.Xf)(Ce).pipe((0,k.R)(Ye),(0,H.Q)(Ye))}(Ce,Ye);if((0,we.D)(Ce))return ne(Ce,Ye);if((0,je.T)(Ce))return function z(Ce,Ye){return new _e.y(ie=>{let Qe;return(0,W.f)(ie,Ye,()=>{Qe=Ce[he.h](),(0,W.f)(ie,Ye,()=>{let J,pe;try{({value:J,done:pe}=Qe.next())}catch(de){return void ie.error(de)}pe?ie.complete():ie.next(J)},0,!0)}),()=>(0,ye.m)(null==Qe?void 0:Qe.return)&&Qe.return()})}(Ce,Ye);if((0,nt.L)(Ce))return function He(Ce,Ye){return ne((0,nt.Q)(Ce),Ye)}(Ce,Ye)}throw(0,De.z)(Ce)}(Ce,Ye):(0,c.Xf)(Ce)}},8421:(ct,Ie,F)=>{F.d(Ie,{Xf:()=>qe});var c=F(655),H=F(1144),k=F(8239),oe=F(8306),se=F(3670),_e=F(2206),re=F(4532),he=F(6495),ye=F(3260),W=F(576),z=F(7849),ne=F(8822);function qe(Re){if(Re instanceof oe.y)return Re;if(null!=Re){if((0,se.c)(Re))return function Oe(Re){return new oe.y(Me=>{const Ce=Re[ne.L]();if((0,W.m)(Ce.subscribe))return Ce.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,H.z)(Re))return function Ne(Re){return new oe.y(Me=>{for(let Ce=0;Ce<Re.length&&!Me.closed;Ce++)Me.next(Re[Ce]);Me.complete()})}(Re);if((0,k.t)(Re))return function je(Re){return new oe.y(Me=>{Re.then(Ce=>{Me.closed||(Me.next(Ce),Me.complete())},Ce=>Me.error(Ce)).then(null,z.h)})}(Re);if((0,_e.D)(Re))return De(Re);if((0,he.T)(Re))return function we(Re){return new oe.y(Me=>{for(const Ce of Re)if(Me.next(Ce),Me.closed)return;Me.complete()})}(Re);if((0,ye.L)(Re))return function nt(Re){return De((0,ye.Q)(Re))}(Re)}throw(0,re.z)(Re)}function De(Re){return new oe.y(Me=>{(function He(Re,Me){var Ce,Ye,ie,Qe;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,c.KL)(Re);!(Ye=yield Ce.next()).done;)if(Me.next(Ye.value),Me.closed)return}catch(J){ie={error:J}}finally{try{Ye&&!Ye.done&&(Qe=Ce.return)&&(yield Qe.call(Ce))}finally{if(ie)throw ie.error}}Me.complete()})})(Re,Me).catch(Ce=>Me.error(Ce))})}},6451:(ct,Ie,F)=>{F.d(Ie,{T:()=>_e});var c=F(8189),H=F(8421),k=F(515),oe=F(3269),se=F(8996);function _e(...re){const he=(0,oe.yG)(re),ye=(0,oe._6)(re,1/0),W=re;return W.length?1===W.length?(0,H.Xf)(W[0]):(0,c.J)(ye)((0,se.D)(W,he)):k.E}},5403:(ct,Ie,F)=>{F.d(Ie,{x:()=>H});var c=F(930);function H(oe,se,_e,re,he){return new k(oe,se,_e,re,he)}class k extends c.Lv{constructor(se,_e,re,he,ye,W){super(se),this.onFinalize=ye,this.shouldUnsubscribe=W,this._next=_e?function(z){try{_e(z)}catch(ne){se.error(ne)}}:super._next,this._error=he?function(z){try{he(z)}catch(ne){se.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(z){se.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(ct,Ie,F)=>{F.d(Ie,{U:()=>k});var c=F(4482),H=F(5403);function k(oe,se){return(0,c.e)((_e,re)=>{let he=0;_e.subscribe((0,H.x)(re,ye=>{re.next(oe.call(se,ye,he++))}))})}},8189:(ct,Ie,F)=>{F.d(Ie,{J:()=>k});var c=F(5577),H=F(4671);function k(oe=1/0){return(0,c.z)(H.y,oe)}},5577:(ct,Ie,F)=>{F.d(Ie,{z:()=>he});var c=F(4004),H=F(8421),k=F(4482),oe=F(9672),se=F(5403),re=F(576);function he(ye,W,z=1/0){return(0,re.m)(W)?he((ne,qe)=>(0,c.U)((Oe,Ne)=>W(ne,Oe,qe,Ne))((0,H.Xf)(ye(ne,qe))),z):("number"==typeof W&&(z=W),(0,k.e)((ne,qe)=>function _e(ye,W,z,ne,qe,Oe,Ne,je){const we=[];let De=0,nt=0,He=!1;const Re=()=>{He&&!we.length&&!De&&W.complete()},Me=Ye=>De<ne?Ce(Ye):we.push(Ye),Ce=Ye=>{Oe&&W.next(Ye),De++;let ie=!1;(0,H.Xf)(z(Ye,nt++)).subscribe((0,se.x)(W,Qe=>{null==qe||qe(Qe),Oe?Me(Qe):W.next(Qe)},()=>{ie=!0},void 0,()=>{if(ie)try{for(De--;we.length&&De<ne;){const Qe=we.shift();Ne?(0,oe.f)(W,Ne,()=>Ce(Qe)):Ce(Qe)}Re()}catch(Qe){W.error(Qe)}}))};return ye.subscribe((0,se.x)(W,Me,()=>{He=!0,Re()})),()=>{null==je||je()}}(ne,qe,ye,z)))}},5363:(ct,Ie,F)=>{F.d(Ie,{Q:()=>oe});var c=F(9672),H=F(4482),k=F(5403);function oe(se,_e=0){return(0,H.e)((re,he)=>{re.subscribe((0,k.x)(he,ye=>(0,c.f)(he,se,()=>he.next(ye),_e),()=>(0,c.f)(he,se,()=>he.complete(),_e),ye=>(0,c.f)(he,se,()=>he.error(ye),_e)))})}},3099:(ct,Ie,F)=>{F.d(Ie,{B:()=>_e});var c=F(8996),H=F(5698),k=F(7579),oe=F(930),se=F(4482);function _e(he={}){const{connector:ye=(()=>new k.x),resetOnError:W=!0,resetOnComplete:z=!0,resetOnRefCountZero:ne=!0}=he;return qe=>{let Oe=null,Ne=null,je=null,we=0,De=!1,nt=!1;const He=()=>{null==Ne||Ne.unsubscribe(),Ne=null},Re=()=>{He(),Oe=je=null,De=nt=!1},Me=()=>{const Ce=Oe;Re(),null==Ce||Ce.unsubscribe()};return(0,se.e)((Ce,Ye)=>{we++,!nt&&!De&&He();const ie=je=null!=je?je:ye();Ye.add(()=>{we--,0===we&&!nt&&!De&&(Ne=re(Me,ne))}),ie.subscribe(Ye),Oe||(Oe=new oe.Hp({next:Qe=>ie.next(Qe),error:Qe=>{nt=!0,He(),Ne=re(Re,W,Qe),ie.error(Qe)},complete:()=>{De=!0,He(),Ne=re(Re,z),ie.complete()}}),(0,c.D)(Ce).subscribe(Oe))})(qe)}}function re(he,ye,...W){return!0===ye?(he(),null):!1===ye?null:ye(...W).pipe((0,H.q)(1)).subscribe(()=>he())}},9468:(ct,Ie,F)=>{F.d(Ie,{R:()=>H});var c=F(4482);function H(k,oe=0){return(0,c.e)((se,_e)=>{_e.add(k.schedule(()=>se.subscribe(_e),oe))})}},5698:(ct,Ie,F)=>{F.d(Ie,{q:()=>oe});var c=F(515),H=F(4482),k=F(5403);function oe(se){return se<=0?()=>c.E:(0,H.e)((_e,re)=>{let he=0;_e.subscribe((0,k.x)(re,ye=>{++he<=se&&(re.next(ye),se<=he&&re.complete())}))})}},8505:(ct,Ie,F)=>{F.d(Ie,{b:()=>se});var c=F(576),H=F(4482),k=F(5403),oe=F(4671);function se(_e,re,he){const ye=(0,c.m)(_e)||re||he?{next:_e,error:re,complete:he}:_e;return ye?(0,H.e)((W,z)=>{var ne;null===(ne=ye.subscribe)||void 0===ne||ne.call(ye);let qe=!0;W.subscribe((0,k.x)(z,Oe=>{var Ne;null===(Ne=ye.next)||void 0===Ne||Ne.call(ye,Oe),z.next(Oe)},()=>{var Oe;qe=!1,null===(Oe=ye.complete)||void 0===Oe||Oe.call(ye),z.complete()},Oe=>{var Ne;qe=!1,null===(Ne=ye.error)||void 0===Ne||Ne.call(ye,Oe),z.error(Oe)},()=>{var Oe,Ne;qe&&(null===(Oe=ye.unsubscribe)||void 0===Oe||Oe.call(ye)),null===(Ne=ye.finalize)||void 0===Ne||Ne.call(ye)}))}):oe.y}},4408:(ct,Ie,F)=>{F.d(Ie,{o:()=>se});var c=F(727);class H extends c.w0{constructor(re,he){super()}schedule(re,he=0){return this}}const k={setInterval(_e,re,...he){const{delegate:ye}=k;return(null==ye?void 0:ye.setInterval)?ye.setInterval(_e,re,...he):setInterval(_e,re,...he)},clearInterval(_e){const{delegate:re}=k;return((null==re?void 0:re.clearInterval)||clearInterval)(_e)},delegate:void 0};var oe=F(8737);class se extends H{constructor(re,he){super(re,he),this.scheduler=re,this.work=he,this.pending=!1}schedule(re,he=0){if(this.closed)return this;this.state=re;const ye=this.id,W=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(W,ye,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(W,this.id,he),this}requestAsyncId(re,he,ye=0){return k.setInterval(re.flush.bind(re,this),ye)}recycleAsyncId(re,he,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return he;k.clearInterval(he)}execute(re,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(re,he);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,he){let W,ye=!1;try{this.work(re)}catch(z){ye=!0,W=z||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:re,scheduler:he}=this,{actions:ye}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ye,this),null!=re&&(this.id=this.recycleAsyncId(he,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Ie,F)=>{F.d(Ie,{v:()=>k});var c=F(6063);class H{constructor(se,_e=H.now){this.schedulerActionCtor=se,this.now=_e}schedule(se,_e=0,re){return new this.schedulerActionCtor(this,se).schedule(re,_e)}}H.now=c.l.now;class k extends H{constructor(se,_e=H.now){super(se,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:_e}=this;if(this._active)return void _e.push(se);let re;this._active=!0;do{if(re=se.execute(se.state,se.delay))break}while(se=_e.shift());if(this._active=!1,re){for(;se=_e.shift();)se.unsubscribe();throw re}}}},4986:(ct,Ie,F)=>{F.d(Ie,{z:()=>k,P:()=>oe});var c=F(4408);const k=new(F(7565).v)(c.o),oe=k},6063:(ct,Ie,F)=>{F.d(Ie,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ct,Ie,F)=>{F.d(Ie,{z:()=>c});const c={setTimeout(H,k,...oe){const{delegate:se}=c;return(null==se?void 0:se.setTimeout)?se.setTimeout(H,k,...oe):setTimeout(H,k,...oe)},clearTimeout(H){const{delegate:k}=c;return((null==k?void 0:k.clearTimeout)||clearTimeout)(H)},delegate:void 0}},2202:(ct,Ie,F)=>{F.d(Ie,{h:()=>H});const H=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Ie,F)=>{F.d(Ie,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ct,Ie,F)=>{F.d(Ie,{jO:()=>oe,yG:()=>se,_6:()=>_e});var c=F(576),H=F(3532);function k(re){return re[re.length-1]}function oe(re){return(0,c.m)(k(re))?re.pop():void 0}function se(re){return(0,H.K)(k(re))?re.pop():void 0}function _e(re,he){return"number"==typeof k(re)?re.pop():he}},8737:(ct,Ie,F)=>{function c(H,k){if(H){const oe=H.indexOf(k);0<=oe&&H.splice(oe,1)}}F.d(Ie,{P:()=>c})},3888:(ct,Ie,F)=>{function c(H){const oe=H(se=>{Error.call(se),se.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}F.d(Ie,{d:()=>c})},2806:(ct,Ie,F)=>{F.d(Ie,{x:()=>k,O:()=>oe});var c=F(2416);let H=null;function k(se){if(c.v.useDeprecatedSynchronousErrorHandling){const _e=!H;if(_e&&(H={errorThrown:!1,error:null}),se(),_e){const{errorThrown:re,error:he}=H;if(H=null,re)throw he}}else se()}function oe(se){c.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=se)}},9672:(ct,Ie,F)=>{function c(H,k,oe,se=0,_e=!1){const re=k.schedule(function(){oe(),_e?H.add(this.schedule(null,se)):this.unsubscribe()},se);if(H.add(re),!_e)return re}F.d(Ie,{f:()=>c})},4671:(ct,Ie,F)=>{function c(H){return H}F.d(Ie,{y:()=>c})},1144:(ct,Ie,F)=>{F.d(Ie,{z:()=>c});const c=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(ct,Ie,F)=>{F.d(Ie,{D:()=>H});var c=F(576);function H(k){return Symbol.asyncIterator&&(0,c.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(ct,Ie,F)=>{function c(H){return"function"==typeof H}F.d(Ie,{m:()=>c})},3670:(ct,Ie,F)=>{F.d(Ie,{c:()=>k});var c=F(8822),H=F(576);function k(oe){return(0,H.m)(oe[c.L])}},6495:(ct,Ie,F)=>{F.d(Ie,{T:()=>k});var c=F(2202),H=F(576);function k(oe){return(0,H.m)(null==oe?void 0:oe[c.h])}},8239:(ct,Ie,F)=>{F.d(Ie,{t:()=>H});var c=F(576);function H(k){return(0,c.m)(null==k?void 0:k.then)}},3260:(ct,Ie,F)=>{F.d(Ie,{Q:()=>k,L:()=>oe});var c=F(655),H=F(576);function k(se){return(0,c.FC)(this,arguments,function*(){const re=se.getReader();try{for(;;){const{value:he,done:ye}=yield(0,c.qq)(re.read());if(ye)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(he)}}finally{re.releaseLock()}})}function oe(se){return(0,H.m)(null==se?void 0:se.getReader)}},3532:(ct,Ie,F)=>{F.d(Ie,{K:()=>H});var c=F(576);function H(k){return k&&(0,c.m)(k.schedule)}},4482:(ct,Ie,F)=>{F.d(Ie,{e:()=>k});var c=F(576);function k(oe){return se=>{if(function H(oe){return(0,c.m)(null==oe?void 0:oe.lift)}(se))return se.lift(function(_e){try{return oe(_e,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ct,Ie,F)=>{function c(){}F.d(Ie,{Z:()=>c})},7849:(ct,Ie,F)=>{F.d(Ie,{h:()=>k});var c=F(2416),H=F(3410);function k(oe){H.z.setTimeout(()=>{const{onUnhandledError:se}=c.v;if(!se)throw oe;se(oe)})}},4532:(ct,Ie,F)=>{function c(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ie,{z:()=>c})},655:(ct,Ie,F)=>{function oe(J,pe){var de={};for(var me in J)Object.prototype.hasOwnProperty.call(J,me)&&pe.indexOf(me)<0&&(de[me]=J[me]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(me=Object.getOwnPropertySymbols(J);Pe<me.length;Pe++)pe.indexOf(me[Pe])<0&&Object.prototype.propertyIsEnumerable.call(J,me[Pe])&&(de[me[Pe]]=J[me[Pe]])}return de}function he(J,pe,de,me){return new(de||(de=Promise))(function(le,xt){function Jt(pt){try{dt(me.next(pt))}catch(pn){xt(pn)}}function Rn(pt){try{dt(me.throw(pt))}catch(pn){xt(pn)}}function dt(pt){pt.done?le(pt.value):function Pe(le){return le instanceof de?le:new de(function(xt){xt(le)})}(pt.value).then(Jt,Rn)}dt((me=me.apply(J,pe||[])).next())})}function we(J){return this instanceof we?(this.v=J,this):new we(J)}function De(J,pe,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,me=de.apply(J,pe||[]),le=[];return Pe={},xt("next"),xt("throw"),xt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function xt(hn){me[hn]&&(Pe[hn]=function(or){return new Promise(function(nn,Xt){le.push([hn,or,nn,Xt])>1||Jt(hn,or)})})}function Jt(hn,or){try{!function Rn(hn){hn.value instanceof we?Promise.resolve(hn.value.v).then(dt,pt):pn(le[0][2],hn)}(me[hn](or))}catch(nn){pn(le[0][3],nn)}}function dt(hn){Jt("next",hn)}function pt(hn){Jt("throw",hn)}function pn(hn,or){hn(or),le.shift(),le.length&&Jt(le[0][0],le[0][1])}}function He(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,pe=J[Symbol.asyncIterator];return pe?pe.call(J):(J=function ne(J){var pe="function"==typeof Symbol&&Symbol.iterator,de=pe&&J[pe],me=0;if(de)return de.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&me>=J.length&&(J=void 0),{value:J&&J[me++],done:!J}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),de={},me("next"),me("throw"),me("return"),de[Symbol.asyncIterator]=function(){return this},de);function me(le){de[le]=J[le]&&function(xt){return new Promise(function(Jt,Rn){!function Pe(le,xt,Jt,Rn){Promise.resolve(Rn).then(function(dt){le({value:dt,done:Jt})},xt)}(Jt,Rn,(xt=J[le](xt)).done,xt.value)})}}}F.d(Ie,{_T:()=>oe,mG:()=>he,qq:()=>we,FC:()=>De,KL:()=>He})},5e3:(ct,Ie,F)=>{F.d(Ie,{tb:()=>dE,AFp:()=>Ve,ip1:()=>bg,CZH:()=>m_,hGG:()=>D_,z2F:()=>Eg,sBO:()=>nf,_Vd:()=>ud,EJc:()=>hE,SBq:()=>Lh,qLn:()=>op,vpe:()=>bs,OlP:()=>jn,zs3:()=>yo,ZZ4:()=>ia,aQg:()=>Og,soG:()=>Ii,h0i:()=>Wu,R0b:()=>Ys,FiY:()=>er,Lbi:()=>Rt,g9A:()=>lt,Qsj:()=>Mw,FYo:()=>qy,JOm:()=>di,q3G:()=>Yn,WD2:()=>dc,tp0:()=>tr,Rgc:()=>Wa,dDg:()=>_d,q4F:()=>Rw,GfV:()=>zu,s_b:()=>sg,ifc:()=>$t,eFA:()=>v_,G48:()=>wd,Gpc:()=>z,f3M:()=>yt,X6Q:()=>yE,_c5:()=>kg,VLi:()=>qi,zSh:()=>Wm,wAp:()=>St,vHH:()=>Ne,EiD:()=>dh,mCW:()=>M,qzn:()=>Fa,JVY:()=>uh,pB0:()=>Oc,eBb:()=>Rc,L6k:()=>bm,LAX:()=>Qf,cg1:()=>uw,kL8:()=>JD,yhl:()=>Zf,dqk:()=>qt,sIi:()=>yp,CqO:()=>Vb,QGY:()=>Sh,F4k:()=>ay,RDi:()=>Ss,AaK:()=>he,z3N:()=>po,qOj:()=>wh,TTD:()=>To,_Bn:()=>Wp,xp6:()=>_C,uIk:()=>Eb,ekj:()=>Rh,Suo:()=>zh,Xpm:()=>Lt,lG2:()=>ue,Yz7:()=>nn,cJS:()=>en,oAB:()=>P,Yjl:()=>Ue,Y36:()=>ed,_UZ:()=>Tp,GkF:()=>Uu,BQk:()=>Ah,ynx:()=>td,qZA:()=>Sp,TgZ:()=>Ap,EpF:()=>Lb,n5z:()=>Du,Ikx:()=>lw,LFG:()=>Ge,$8M:()=>xu,NdJ:()=>Th,CRH:()=>gd,oxw:()=>jb,ALo:()=>Ul,lcZ:()=>Hw,xi3:()=>jl,Hsn:()=>kp,F$t:()=>Op,Q6J:()=>Ip,DdM:()=>jh,iGM:()=>Zw,MAs:()=>Ab,CHM:()=>Hd,YNc:()=>Ib,W1O:()=>Xw,_uU:()=>nw,Oqu:()=>Np,hij:()=>nd,Gf:()=>Qw});var c=F(7579),H=F(727),k=F(8306),oe=F(6451),se=F(3099);function _e(s){for(let o in s)if(s[o]===_e)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ye(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const W=_e({__forward_ref__:_e});function z(s){return s.__forward_ref__=z,s.toString=function(){return he(this())},s}function ne(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===z}class Ne extends Error{constructor(o,a){super(function je(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function we(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():we(s)}function Me(s,o){const a=o?` in ${o}`:"";throw new Ne(-201,`No provider for ${De(s)} found${a}`)}function dt(s,o){null==s&&function pt(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function nn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function en(s){return{providers:s.providers||[],imports:s.imports||[]}}function In(s){return ai(s,ar)||ai(s,wi)}function ai(s,o){return s.hasOwnProperty(o)?s[o]:null}function jr(s){return s&&(s.hasOwnProperty(li)||s.hasOwnProperty(rs))?s[li]:null}const ar=_e({\u0275prov:_e}),li=_e({\u0275inj:_e}),wi=_e({ngInjectableDef:_e}),rs=_e({ngInjectorDef:_e});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let Ti;function rn(s){const o=Ti;return Ti=s,o}function Un(s,o,a){const u=In(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&gt.Optional?null:void 0!==o?o:void Me(he(s),"Injector")}function kn(s){return{toString:s}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),$t=(()=>{return(s=$t||($t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",$t;var s})();const ht="undefined"!=typeof globalThis&&globalThis,st="undefined"!=typeof window&&window,Zi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qt=ht||"undefined"!=typeof global&&global||st||Zi,on={},_t=[],Pn=_e({\u0275cmp:_e}),Kt=_e({\u0275dir:_e}),ze=_e({\u0275pipe:_e}),xe=_e({\u0275mod:_e}),et=_e({\u0275fac:_e}),ft=_e({__NG_ELEMENT_ID__:_e});let Nt=0;function Lt(s){return kn(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||_t,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||$t.Emulated,id:"c",styles:s.styles||_t,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return u.id+=Nt++,u.inputs=U(s.inputs,a),u.outputs=U(s.outputs),p&&p.forEach(b=>b(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(B):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(Y):null,u})}function B(s){return Ke(s)||function Dt(s){return s[Kt]||null}(s)}function Y(s){return function it(s){return s[ze]||null}(s)}const ge={};function P(s){return kn(()=>{const o={type:s.type,bootstrap:s.bootstrap||_t,declarations:s.declarations||_t,imports:s.imports||_t,exports:s.exports||_t,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ge[s.id]=s.type),o})}function U(s,o){if(null==s)return on;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=u,o&&(o[h]=p)}return a}const ue=Lt;function Ue(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ke(s){return s[Pn]||null}function Mt(s,o){const a=s[xe]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function Vi(s){return Array.isArray(s)&&"object"==typeof s[1]}function Cr(s){return Array.isArray(s)&&!0===s[1]}function sl(s){return 0!=(8&s.flags)}function xo(s){return 2==(2&s.flags)}function Io(s){return 1==(1&s.flags)}function Dr(s){return null!==s.template}function aa(s){return 0!=(512&s[2])}function cr(s,o){return s.hasOwnProperty(et)?s[et]:null}class dc{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function To(){return ul}function ul(s){return s.type.prototype.ngOnChanges&&(s.setInput=ca),Ud}function Ud(){const s=xr(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===on)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ca(s,o,a,u){const h=xr(s)||function ls(s,o){return s[ru]=o}(s,{previous:on,current:null}),p=h.current||(h.current={}),y=h.previous,b=this.declaredInputs[a],C=y[b];p[b]=new dc(C&&C.currentValue,o,y===on),s[u]=o}To.ngInherit=!0;const ru="__ngSimpleChanges__";function xr(s){return s[ru]||null}let ou;function Ss(s){ou=s}function wn(s){return!!s.listen}const no={createRenderer:(s,o)=>function to(){return void 0!==ou?ou:"undefined"!=typeof document?document:void 0}()};function yn(s){for(;Array.isArray(s);)s=s[0];return s}function Ts(s,o){return yn(o[s])}function Ei(s,o){return yn(o[s.index])}function dl(s,o){return s.data[o]}function hr(s,o){return s[o]}function Bi(s,o){const a=o[s];return Vi(a)?a:a[0]}function us(s){return 4==(4&s[2])}function ro(s){return 128==(128&s[2])}function Ir(s,o){return null==o?null:s[o]}function zr(s){s[18]=0}function cs(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const Et={lFrame:pu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fo(){return Et.bindingsEnabled}function Ae(){return Et.lFrame.lView}function jt(){return Et.lFrame.tView}function Hd(s){return Et.lFrame.contextLView=s,s[8]}function bn(){let s=hl();for(;null!==s&&64===s.type;)s=s.parent;return s}function hl(){return Et.lFrame.currentTNode}function Ar(s,o){const a=Et.lFrame;a.currentTNode=s,a.isParent=o}function uu(){return Et.lFrame.isParent}function pa(){Et.lFrame.isParent=!1}function Po(){return Et.isInCheckNoChangesMode}function No(s){Et.isInCheckNoChangesMode=s}function ni(){const s=Et.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Vo(){return Et.lFrame.bindingIndex++}function pc(s,o){const a=Et.lFrame;a.bindingIndex=a.bindingRootIndex=s,du(o)}function du(s){Et.lFrame.currentDirectiveIndex=s}function zd(){return Et.lFrame.currentQueryIndex}function hu(s){Et.lFrame.currentQueryIndex=s}function fu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function fl(s,o,a){if(a&gt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&gt.Host||(h=fu(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const u=Et.lFrame=so();return u.currentTNode=o,u.lView=s,!0}function ma(s){const o=so(),a=s[1];Et.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function so(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?pu(s):o}function pu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Wd(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const gc=Wd;function oo(){const s=Wd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ui(){return Et.lFrame.selectedIndex}function ks(s){Et.lFrame.selectedIndex=s}function Ln(){const s=Et.lFrame;return dl(s.tView,s.selectedIndex)}function ya(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:T}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),b&&((s.contentHooks||(s.contentHooks=[])).push(a,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,b)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=T&&(s.destroyHooks||(s.destroyHooks=[])).push(a,T)}}function yu(s,o,a){yc(s,o,3,a)}function pl(s,o,a,u){(3&s[2])===a&&yc(s,o,a,u)}function qn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function yc(s,o,a,u){const p=null!=u?u:-1,y=o.length-1;let b=0;for(let C=void 0!==u?65535&s[18]:0;C<y;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=u&&b>=u)break}else o[C]<0&&(s[18]+=65536),(b<p||-1==p)&&(_c(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function _c(s,o,a,u){const h=a[u]<0,p=a[u+1],b=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class gl{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function ji(s,o,a){const u=wn(s);let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const y=a[h++],b=a[h++],C=a[h++];u?s.setAttribute(o,b,C,y):o.setAttributeNS(y,b,C)}else{const y=p,b=a[++h];va(y)?u&&s.setProperty(o,y,b):u?s.setAttribute(o,y,b):o.setAttribute(y,b),h++}}return h}function vu(s){return 3===s||4===s||6===s}function va(s){return 64===s.charCodeAt(0)}function Fs(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||bu(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function bu(s,o,a,u,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){y=-1;break}if(b>o){y=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===a){if(null===u)return void(null!==h&&(s[p+1]=h));if(u===s[p+1])return void(s[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==u&&s.splice(p++,0,u),null!==h&&s.splice(p++,0,h)}function ln(s){return-1!==s}function Kr(s){return 32767&s}function Yr(s,o){let a=function wu(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let ba=!0;function wa(s){const o=ba;return ba=s,o}let Ea=0;function Zr(s,o){const a=Wt(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Qr(u.data,s),Qr(o,null),Qr(u.blueprint,null));const h=ci(s,o),p=s.injectorIndex;if(ln(h)){const y=Kr(h),b=Yr(h,o),C=b[1].data;for(let S=0;S<8;S++)o[p+S]=b[y+S]|C[y+S]}return o[p+8]=h,p}function Qr(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Wt(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ci(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(u=2===y?p.declTNode:1===y?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function lo(s,o,a){!function Ps(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ft)&&(u=a[ft]),null==u&&(u=a[ft]=Ea++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Ca(s,o,a){if(a&gt.Optional)return s;Me(o,"NodeInjector")}function Da(s,o,a,u){if(a&gt.Optional&&void 0===u&&(u=null),0==(a&(gt.Self|gt.Host))){const h=s[9],p=rn(void 0);try{return h?h.get(o,u,a&gt.Optional):Un(o,u,a&gt.Optional)}finally{rn(p)}}return Ca(u,o,a)}function yl(s,o,a,u=gt.Default,h){if(null!==s){const p=function Zd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ft)?s[ft]:void 0;return"number"==typeof o?o>=0?255&o:Eu:o}(a);if("function"==typeof p){if(!fl(o,s,u))return u&gt.Host?Ca(h,a,u):Da(o,a,u,h);try{const y=p(u);if(null!=y||u&gt.Optional)return y;Me(a)}finally{gc()}}else if("number"==typeof p){let y=null,b=Wt(s,o),C=-1,S=u&gt.Host?o[16][6]:null;for((-1===b||u&gt.SkipSelf)&&(C=-1===b?ci(s,o):o[b+8],-1!==C&&_l(u,!1)?(y=o[1],b=Kr(C),o=Yr(C,o)):b=-1);-1!==b;){const T=o[1];if(Cu(p,b,T.data)){const L=fm(b,o,a,y,u,S);if(L!==Uo)return L}C=o[b+8],-1!==C&&_l(u,o[1].data[b+8]===S)&&Cu(p,b,o)?(y=T,b=Kr(C),o=Yr(C,o)):b=-1}}}return Da(o,a,u,h)}const Uo={};function Eu(){return new Ns(bn(),Ae())}function fm(s,o,a,u,h,p){const y=o[1],b=y.data[s+8],T=xa(b,y,a,null==u?xo(b)&&ba:u!=y&&0!=(3&b.type),h&gt.Host&&p===b);return null!==T?Ia(o,y,T,b):Uo}function xa(s,o,a,u,h){const p=s.providerIndexes,y=o.data,b=1048575&p,C=s.directiveStart,T=p>>20,$=h?b+T:s.directiveEnd;for(let ee=u?b:b+T;ee<$;ee++){const ve=y[ee];if(ee<C&&a===ve||ee>=C&&ve.type===a)return ee}if(h){const ee=y[C];if(ee&&Dr(ee)&&ee.type===a)return C}return null}function Ia(s,o,a,u){let h=s[a];const p=o.data;if(function _a(s){return s instanceof gl}(h)){const y=h;y.resolving&&function nt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${s}${a}`)}(De(p[a]));const b=wa(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?rn(y.injectImpl):null;fl(s,u,gt.Default);try{h=s[a]=y.factory(void 0,p,s,u),o.firstCreatePass&&a>=u.directiveStart&&function ao(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(u){const y=ul(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==C&&rn(C),wa(b),y.resolving=!1,gc()}}return h}function Cu(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function _l(s,o){return!(s&gt.Self||s&gt.Host&&o)}class Ns{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return yl(this._tNode,this._lView,o,u,a)}}function Du(s){return kn(()=>{const o=s.prototype.constructor,a=o[et]||jo(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const p=h[et]||jo(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function jo(s){return qe(s)?()=>{const o=jo(ne(s));return o&&o()}:cr(s)}function xu(s){return function ml(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const p=a[h];if(vu(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(bn(),s)}const hs="__parameters__";function Bs(s,o,a){return kn(()=>{const u=function Iu(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...p){if(this instanceof h)return u.apply(this,p),this;const y=new h(...p);return b.annotation=y,b;function b(C,S,T){const L=C.hasOwnProperty(hs)?C[hs]:Object.defineProperty(C,hs,{value:[]})[hs];for(;L.length<=T;)L.push(null);return(L[T]=L[T]||[]).push(y),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class jn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=nn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Ci(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Ci(u,o)):o!==s&&o.push(u)}return o}function Ji(s,o){s.forEach(a=>Array.isArray(a)?Ji(a,o):o(a))}function uo(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Di(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Gi(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function ii(s,o,a){let u=js(s,o);return u>=0?s[1|u]=a:(u=~u,function bl(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function Su(s,o){const a=js(s,o);if(a>=0)return s[1|a]}function js(s,o){return function Ma(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const p=u+(h-u>>1),y=s[p<<a];if(o===y)return p<<a;y>o?h=p:u=p+1}return~(h<<a)}(s,o,1)}const Tr={},$o="__NG_DI_FLAG__",zo="ngTempTokenPath",D=/\n/gm,O="__source",j=_e({provide:String,useValue:_e});let X;function ae(s){const o=X;return X=s,o}function ke(s,o=gt.Default){if(void 0===X)throw new Ne(203,"");return null===X?Un(s,void 0,o):X.get(s,o&gt.Optional?null:void 0,o)}function Ge(s,o=gt.Default){return(function On(){return Ti}()||ke)(ne(s),o)}const yt=Ge;function Ft(s){const o=[];for(let a=0;a<s.length;a++){const u=ne(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Ne(900,"");let h,p=gt.Default;for(let y=0;y<u.length;y++){const b=u[y],C=Hi(b);"number"==typeof C?-1===C?h=b.token:p|=C:h=b}o.push(Ge(h,p))}else o.push(Ge(u))}return o}function vt(s,o){return s[$o]=o,s.prototype[$o]=o,s}function Hi(s){return s[$o]}const er=vt(Bs("Optional"),8),tr=vt(Bs("SkipSelf"),4);let Ra;function Oa(s){var o;return(null===(o=function Tc(){if(void 0===Ra&&(Ra=null,qt.trustedTypes))try{Ra=qt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Ra}())||void 0===o?void 0:o.createHTML(s))||s}class Hs{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class vm extends Hs{getTypeName(){return"HTML"}}class ka extends Hs{getTypeName(){return"Style"}}class Fu extends Hs{getTypeName(){return"Script"}}class lh extends Hs{getTypeName(){return"URL"}}class Al extends Hs{getTypeName(){return"ResourceURL"}}function po(s){return s instanceof Hs?s.changingThisBreaksApplicationSecurity:s}function Fa(s,o){const a=Zf(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function Zf(s){return s instanceof Hs&&s.getTypeName()||null}function uh(s){return new vm(s)}function bm(s){return new ka(s)}function Rc(s){return new Fu(s)}function Qf(s){return new lh(s)}function Oc(s){return new Al(s)}class Fc{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Oa(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class wm{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Oa(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Oa(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,w=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function M(s){return(s=String(s)).match(g)||s.match(w)?s:"unsafe:"+s}function te(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Te(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const ot=te("area,br,col,hr,img,wbr"),bt=te("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bt=te("rp,rt"),Sl=Te(ot,Te(bt,te("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Te(Bt,te("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Te(Bt,bt)),Pc=te("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tl=te("srcset"),Pu=Te(Pc,Tl,te("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),te("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xf=te("script,style,template");class Nc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Sl.hasOwnProperty(a))return this.sanitizedSomething=!0,!Xf.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let h=0;h<u.length;h++){const p=u.item(h),y=p.name,b=y.toLowerCase();if(!Pu.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=p.value;Pc[b]&&(C=M(C)),Tl[b]&&(s=C,C=(s=String(s)).split(",").map(o=>M(o.trim())).join(", ")),this.buf.push(" ",y,'="',ep(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Sl.hasOwnProperty(a)&&!ot.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(ep(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const ch=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jf=/([^\#-~ |!])/g;function ep(s){return s.replace(/&/g,"&amp;").replace(ch,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Jf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ml;function dh(s,o){let a=null;try{Ml=Ml||function kc(s){const o=new wm(s);return function v(){try{return!!(new window.DOMParser).parseFromString(Oa(""),"text/html")}catch(s){return!1}}()?new Fc(o):o}(s);let u=o?String(o):"";a=Ml.getInertBodyElement(u);let h=5,p=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=p,p=a.innerHTML,a=Ml.getInertBodyElement(u)}while(u!==p);return Oa((new Nc).sanitizeChildren(Dm(a)||a))}finally{if(a){const u=Dm(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Dm(s){return"content"in s&&function $s(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Yn=(()=>((Yn=Yn||{})[Yn.NONE=0]="NONE",Yn[Yn.HTML=1]="HTML",Yn[Yn.STYLE=2]="STYLE",Yn[Yn.SCRIPT=3]="SCRIPT",Yn[Yn.URL=4]="URL",Yn[Yn.RESOURCE_URL=5]="RESOURCE_URL",Yn))();const pv="__ngContext__";function nr(s,o){s[pv]=o}function np(s){const o=function fh(s){return s[pv]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function sp(s){return s.ngOriginalError}function bv(s,...o){s.error(...o)}class op{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function H0(s){return s&&s.ngErrorLogger||bv}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&sp(o);for(;a&&sp(a);)a=sp(a);return a||null}}const GS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(qt))();function ms(s){return s instanceof Function?s():s}var di=(()=>((di=di||{})[di.Important=1]="Important",di[di.DashCase=2]="DashCase",di))();function Ol(s,o){return undefined(s,o)}function Na(s){const o=s[3];return Cr(o)?o[3]:o}function jc(s){return Av(s[13])}function La(s){return Av(s[4])}function Av(s){for(;null!==s&&!Cr(s);)s=s[4];return s}function kl(s,o,a,u,h){if(null!=u){let p,y=!1;Cr(u)?p=u:Vi(u)&&(y=!0,u=u[0]);const b=yn(u);0===s&&null!==a?null==h?iC(o,a,b):Gc(o,a,b,h||null,!0):1===s&&null!==a?Gc(o,a,b,h||null,!0):2===s?function cC(s,o,a){const u=km(s,o);u&&function zS(s,o,a,u){wn(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}(o,b,y):3===s&&o.destroyNode(b),null!=p&&function KS(s,o,a,u,h){const p=a[7];p!==yn(a)&&kl(o,s,u,p,h);for(let b=10;b<a.length;b++){const C=a[b];lp(C[1],C,s,o,u,p)}}(o,s,p,a,h)}}function Va(s,o,a){if(wn(s))return s.createElement(o,a);{const u=null!==a?function jd(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function eC(s,o){const a=s[9],u=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,cs(h,-1)),a.splice(u,1)}function Mv(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&eC(h,u),o>0&&(s[a-1][4]=u[4]);const p=Di(s,10+o);!function Om(s,o){lp(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function tC(s,o){if(!(256&o[2])){const a=o[11];wn(a)&&a.destroyNode&&lp(s,o,a,3,null,null),function ap(s){let o=s[13];if(!o)return Rv(s[1],s);for(;o;){let a=null;if(Vi(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)Vi(o)&&Rv(o[1],o),o=o[3];null===o&&(o=s),Vi(o)&&Rv(o[1],o),a=o&&o[4]}o=a}}(o)}}function Rv(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function nC(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof gl)){const p=a[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=h[p[y]],C=p[y+1];try{C.call(b)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function $S(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],b="function"==typeof y?y(o):yn(o[y]),C=u[h=a[p+2]],S=a[p+3];"boolean"==typeof S?b.removeEventListener(a[p],C,S):S>=0?u[h=S]():u[h=-S].unsubscribe(),p+=2}else{const y=u[h=a[p+1]];a[p].call(y)}if(null!==u){for(let p=h+1;p<u.length;p++)u[p]();o[7]=null}}(s,o),1===o[1].type&&wn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&Cr(o[3])){a!==o[3]&&eC(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function Ov(s,o,a){return function kv(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===$t.None||h===$t.Emulated)return null}return Ei(u,a)}(s,o.parent,a)}function Gc(s,o,a,u,h){wn(s)?s.insertBefore(o,a,u,h):o.insertBefore(a,u,h)}function iC(s,o,a){wn(s)?s.appendChild(o,a):o.appendChild(a)}function rC(s,o,a,u,h){null!==u?Gc(s,o,a,u,h):iC(s,o,a)}function km(s,o){return wn(s)?s.parentNode(o):o.parentNode}function sC(s,o,a){return aC(s,o,a)}let aC=function oC(s,o,a){return 40&s.type?Ei(s,a):null};function Fm(s,o,a,u){const h=Ov(s,u,o),p=o[11],b=sC(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)rC(p,h,a[C],b,!1);else rC(p,h,a,b,!1)}function Pm(s,o){if(null!==o){const a=o.type;if(3&a)return Ei(o,s);if(4&a)return Pv(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return Pm(s,u);{const h=s[o.index];return Cr(h)?Pv(-1,h):yn(h)}}if(32&a)return Ol(o,s)()||yn(s[o.index]);{const u=uC(s,o);return null!==u?Array.isArray(u)?u[0]:Pm(Na(s[16]),u):Pm(s,o.next)}}return null}function uC(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Pv(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return Pm(u,h)}return o[7]}function Nv(s,o,a,u,h,p,y){for(;null!=a;){const b=u[a.index],C=a.type;if(y&&0===o&&(b&&nr(yn(b),u),a.flags|=4),64!=(64&a.flags))if(8&C)Nv(s,o,a.child,u,h,p,!1),kl(o,s,h,b,p);else if(32&C){const S=Ol(a,u);let T;for(;T=S();)kl(o,s,h,T,p);kl(o,s,h,b,p)}else 16&C?dC(s,o,u,a,h,p):kl(o,s,h,b,p);a=y?a.projectionNext:a.next}}function lp(s,o,a,u,h,p){Nv(a,u,s.firstChild,o,h,p,!1)}function dC(s,o,a,u,h,p){const y=a[16],C=y[6].projection[u.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)kl(o,s,h,C[S],p);else Nv(s,o,C,y[3],h,p,!0)}function hC(s,o,a){wn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Lv(s,o,a){wn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function fC(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===u||s.charCodeAt(h+p)<=32)return h}a=h+1}}const pC="ng-template";function ZS(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==fC(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function gC(s){return 4===s.type&&s.value!==pC}function QS(s,o,a){return o===(4!==s.type||a?s.value:pC)}function XS(s,o,a){let u=4;const h=s.attrs||[],p=function tT(s){for(let o=0;o<s.length;o++)if(vu(s[o]))return o;return s.length}(h);let y=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!y)if(4&u){if(u=2|1&u,""!==C&&!QS(s,C,a)||""===C&&1===o.length){if(qo(u))return!1;y=!0}}else{const S=8&u?C:o[++b];if(8&u&&null!==s.attrs){if(!ZS(s.attrs,S,a)){if(qo(u))return!1;y=!0}continue}const L=JS(8&u?"class":C,h,gC(s),a);if(-1===L){if(qo(u))return!1;y=!0;continue}if(""!==S){let $;$=L>p?"":h[L+1].toLowerCase();const ee=8&u?$:null;if(ee&&-1!==fC(ee,S,0)||2&u&&S!==$){if(qo(u))return!1;y=!0}}}}else{if(!y&&!qo(u)&&!qo(C))return!1;if(y&&qo(C))continue;y=!1,u=C|1&u}}return qo(u)||y}function qo(s){return 0==(1&s)}function JS(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function nT(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function mC(s,o,a=!1){for(let u=0;u<o.length;u++)if(XS(s,o[u],a))return!0;return!1}function iT(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function yC(s,o){return s?":not("+o.trim()+")":o}function rT(s){let o=s[0],a=1,u=2,h="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&u){const b=s[++a];h+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!qo(y)&&(o+=yC(p,h),h=""),u=y,p=p||!qo(u);a++}return""!==h&&(o+=yC(p,h)),o}const Gt={};function _C(s){vC(jt(),Ae(),Ui()+s,Po())}function vC(s,o,a,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&yu(o,p,a)}else{const p=s.preOrderHooks;null!==p&&pl(o,p,0,a)}ks(a)}function Nm(s,o){return s<<17|o<<2}function Ko(s){return s>>17&32767}function Vv(s){return 2|s}function Fl(s){return(131068&s)>>2}function Bv(s,o){return-131069&s|o<<2}function Uv(s){return 1|s}function TC(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],p=a[u+1];if(-1!==p){const y=s.data[p];hu(h),y.contentQueries(2,o[p],p)}}}function up(s,o,a,u,h,p,y,b,C,S){const T=o.blueprint.slice();return T[0]=h,T[2]=140|u,zr(T),T[3]=T[15]=s,T[8]=a,T[10]=y||s&&s[10],T[11]=b||s&&s[11],T[12]=C||s&&s[12]||null,T[9]=S||s&&s[9]||null,T[6]=p,T[16]=2==o.type?s[16]:T,T}function gh(s,o,a,u,h){let p=s.data[o];if(null===p)p=function Zv(s,o,a,u,h){const p=hl(),y=uu(),C=s.data[o]=function kC(s,o,a,u,h,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,o,a,u,h),function $d(){return Et.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=h;const y=function Ms(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Ar(p,!0),p}function mh(s,o,a,u){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function cp(s,o,a){ma(o);try{const u=s.viewQuery;null!==u&&ub(1,u,a);const h=s.template;null!==h&&MC(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&TC(s,o),s.staticViewQueries&&ub(2,s.viewQuery,a);const p=s.components;null!==p&&function vT(s,o){for(let a=0;a<o.length;a++)jC(s,o[a])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,oo()}}function yh(s,o,a,u){const h=o[2];if(256==(256&h))return;ma(o);const p=Po();try{zr(o),function Lo(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&MC(s,o,a,2,u);const y=3==(3&h);if(!p)if(y){const S=s.preOrderCheckHooks;null!==S&&yu(o,S,null)}else{const S=s.preOrderHooks;null!==S&&pl(o,S,0,null),qn(o,0)}if(function AT(s){for(let o=jc(s);null!==o;o=La(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],p=h[3];0==(1024&h[2])&&cs(p,1),h[2]|=1024}}}(o),function IT(s){for(let o=jc(s);null!==o;o=La(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];ro(u)&&yh(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&TC(s,o),!p)if(y){const S=s.contentCheckHooks;null!==S&&yu(o,S)}else{const S=s.contentHooks;null!==S&&pl(o,S,1),qn(o,1)}!function yT(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)ks(~h);else{const p=h,y=a[++u],b=a[++u];pc(y,p),b(2,o[p])}}}finally{ks(-1)}}(s,o);const b=s.components;null!==b&&function _T(s,o){for(let a=0;a<o.length;a++)ST(s,o[a])}(o,b);const C=s.viewQuery;if(null!==C&&ub(2,C,u),!p)if(y){const S=s.viewCheckHooks;null!==S&&yu(o,S)}else{const S=s.viewHooks;null!==S&&pl(o,S,2),qn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,cs(o[3],-1))}finally{oo()}}function bT(s,o,a,u){const h=o[10],p=!Po(),y=us(o);try{p&&!y&&h.begin&&h.begin(),y&&cp(s,o,u),yh(s,o,a,u)}finally{p&&!y&&h.end&&h.end()}}function MC(s,o,a,u,h){const p=Ui(),y=2&u;try{ks(-1),y&&o.length>20&&vC(s,o,20,Po()),a(u,h)}finally{ks(p)}}function Qv(s,o,a){if(sl(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function Xv(s,o,a){!Fo()||(function nb(s,o,a,u){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Zr(a,o),nr(u,o);const y=a.initialInputs;for(let b=h;b<p;b++){const C=s.data[b],S=Dr(C);S&&CT(o,a,C);const T=Ia(o,s,b,a);nr(T,o),null!==y&&DT(0,b-h,T,C,0,y),S&&(Bi(a.index,o)[8]=T)}}(s,o,a,Ei(a,o)),128==(128&a.flags)&&function ib(s,o,a){const u=a.directiveStart,h=a.directiveEnd,y=a.index,b=function ga(){return Et.lFrame.currentDirectiveIndex}();try{ks(y);for(let C=u;C<h;C++){const S=s.data[C],T=o[C];du(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&LC(S,T)}}finally{ks(-1),du(b)}}(s,o,a))}function Rr(s,o,a=Ei){const u=o.localNames;if(null!==u){let h=o.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],b=-1===y?a(o,s):s[y];s[h++]=b}}}function Or(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=ys(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function ys(s,o,a,u,h,p,y,b,C,S){const T=20+u,L=T+h,$=function RC(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:Gt);return a}(T,L),ee="function"==typeof S?S():S;return $[1]={type:s,blueprint:$,template:a,queries:null,viewQuery:b,declTNode:o,data:$.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:ee,incompleteFirstPass:!1}}function Vu(s,o,a,u){const h=$C(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&zC(s).push(u,h.length-1))}function zs(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function _s(s,o,a,u,h,p,y,b){const C=Ei(o,a);let T,S=o.inputs;!b&&null!=S&&(T=S[u])?($m(s,a,T,u,h),xo(o)&&function eb(s,o){const a=Bi(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function FC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=y?y(h,o.value||"",u):h,wn(p)?p.setProperty(C,u,h):va(u)||(C.setProperty?C.setProperty(u,h):C[u]=h))}function dp(s,o,a,u){let h=!1;if(Fo()){const p=function wT(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];mC(a,y.selectors,!1)&&(h||(h=[]),lo(Zr(a,o),s,y.type),Dr(y)?(jm(s,a),h.unshift(y)):h.push(y))}return h}(s,o,a),y=null===u?null:{"":-1};if(null!==p){h=!0,BC(a,s.data.length,p.length);for(let T=0;T<p.length;T++){const L=p[T];L.providersResolver&&L.providersResolver(L)}let b=!1,C=!1,S=mh(s,o,p.length,null);for(let T=0;T<p.length;T++){const L=p[T];a.mergedAttrs=Fs(a.mergedAttrs,L.hostAttrs),rb(s,a,o,S,L),VC(S,L,y),null!==L.contentQueries&&(a.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(a.flags|=128);const $=L.type.prototype;!b&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),b=!0),!C&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),C=!0),S++}!function fr(s,o){const u=o.directiveEnd,h=s.data,p=o.attrs,y=[];let b=null,C=null;for(let S=o.directiveStart;S<u;S++){const T=h[S],L=T.inputs,$=null===p||gC(o)?null:xT(L,p);y.push($),b=zs(L,S,b),C=zs(T.outputs,S,C)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=b,o.outputs=C}(s,a)}y&&function ET(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Ne(-301,!1);u.push(o[h],p)}}}(a,u,y)}return a.mergedAttrs=Fs(a.mergedAttrs,a.attrs),h}function tb(s,o,a,u,h,p){const y=p.hostBindings;if(y){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const C=~o.index;(function NC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(b)!=C&&b.push(C),b.push(u,h,y)}}function LC(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function jm(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function VC(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;Dr(o)&&(a[""]=s)}}function BC(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function rb(s,o,a,u,h){s.data[u]=h;const p=h.factory||(h.factory=cr(h.type)),y=new gl(p,Dr(h),null);s.blueprint[u]=y,a[u]=y,tb(s,o,0,u,mh(s,a,h.hostVars,Gt),h)}function CT(s,o,a){const u=Ei(o,s),h=Or(a),p=s[10],y=hp(s,up(s,h,null,a.onPush?64:16,u,o,p,p.createRenderer(u,a),null,null));s[o.index]=y}function Ba(s,o,a,u,h,p){const y=Ei(s,o);!function sb(s,o,a,u,h,p,y){if(null==p)wn(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const b=null==y?we(p):y(p,u||"",h);wn(s)?s.setAttribute(o,h,b,a):a?o.setAttributeNS(a,h,b):o.setAttribute(h,b)}}(o[11],y,p,s.value,a,u,h)}function DT(s,o,a,u,h,p){const y=p[o];if(null!==y){const b=u.setInput;for(let C=0;C<y.length;){const S=y[C++],T=y[C++],L=y[C++];null!==b?u.setInput(a,L,S,T):a[T]=L}}}function xT(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function UC(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function ST(s,o){const a=Bi(o,s);if(ro(a)){const u=a[1];80&a[2]?yh(u,a,u.template,a[8]):a[5]>0&&Gm(a)}}function Gm(s){for(let u=jc(s);null!==u;u=La(u))for(let h=10;h<u.length;h++){const p=u[h];if(1024&p[2]){const y=p[1];yh(y,p,y.template,p[8])}else p[5]>0&&Gm(p)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=Bi(a[u],s);ro(h)&&h[5]>0&&Gm(h)}}function jC(s,o){const a=Bi(o,s),u=a[1];(function GC(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),cp(u,a,a[8])}function hp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Hm(s){for(;s;){s[2]|=64;const o=Na(s);if(aa(s)&&!o)return s;s=o}return null}function lb(s,o,a){const u=o[10];u.begin&&u.begin();try{yh(s,o,s.template,a)}catch(h){throw qC(o,h),h}finally{u.end&&u.end()}}function HC(s){!function ab(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=np(a),h=u[1];bT(h,u,h.template,a)}}(s[8])}function ub(s,o,a){hu(0),o(s,a)}const RT=(()=>Promise.resolve(null))();function $C(s){return s[7]||(s[7]=[])}function zC(s){return s.cleanup||(s.cleanup=[])}function qC(s,o){const a=s[9],u=a?a.get(op,null):null;u&&u.handleError(o)}function $m(s,o,a,u,h){for(let p=0;p<a.length;){const y=a[p++],b=a[p++],C=o[y],S=s.data[y];null!==S.setInput?S.setInput(C,h,u,b):C[b]=h}}function Yo(s,o,a){const u=Ts(o,s);!function Sv(s,o,a){wn(s)?s.setValue(o,a):o.textContent=a}(s[11],u,a)}function fp(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const b=o[y];"number"==typeof b?p=b:1==p?h=ye(h,b):2==p&&(u=ye(u,b+": "+o[++y]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}const zm=new jn("INJECTOR",-1);class YC{get(o,a=Tr){if(a===Tr){const u=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw u.name="NullInjectorError",u}return a}}const Wm=new jn("Set Injector scope."),pp={},OT={};let db;function hb(){return void 0===db&&(db=new YC),db}function vh(s,o=null,a=null,u){const h=fb(s,o,a,u);return h._resolveInjectorDefTypes(),h}function fb(s,o=null,a=null,u){return new kT(s,a,o||hb(),u)}class kT{constructor(o,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Ji(a,b=>this.processProvider(b,o,a)),Ji([o],b=>this.processInjectorType(b,[],p)),this.records.set(zm,Hc(void 0,this));const y=this.records.get(Wm);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Tr,u=gt.Default){this.assertNotDestroyed();const h=ae(this),p=rn(void 0);try{if(!(u&gt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=function VT(s){return"function"==typeof s||"object"==typeof s&&s instanceof jn}(o)&&In(o);b=C&&this.injectableDefInScope(C)?Hc(gp(o),pp):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(u&gt.Self?hb():this.parent).get(o,a=u&gt.Optional&&a===Tr?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[zo]=y[zo]||[]).unshift(he(o)),h)throw y;return function Gn(s,o,a,u){const h=s[zo];throw o[O]&&h.unshift(o[O]),s.message=function fo(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let b=o[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):he(b)))}h=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(D,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[zo]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{rn(p),ae(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(he(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(o,a,u){if(!(o=ne(o)))return!1;let h=jr(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,b=-1!==u.indexOf(y);if(void 0!==p&&(h=jr(p)),null==h)return!1;if(null!=h.imports&&!b){let T;u.push(y);try{Ji(h.imports,L=>{this.processInjectorType(L,a,u)&&(void 0===T&&(T=[]),T.push(L))})}finally{}if(void 0!==T)for(let L=0;L<T.length;L++){const{ngModule:$,providers:ee}=T[L];Ji(ee,ve=>this.processProvider(ve,$,ee||_t))}}this.injectorDefTypes.add(y);const C=cr(y)||(()=>new y);this.records.set(y,Hc(C,pp));const S=h.providers;if(null!=S&&!b){const T=o;Ji(S,L=>this.processProvider(L,T,S))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,u){let h=bh(o=ne(o))?o:ne(o&&o.provide);const p=function qm(s,o,a){return ZC(s)?Hc(void 0,s.useValue):Hc(Km(s),pp)}(o);if(bh(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=Hc(void 0,pp,!0),y.factory=()=>Ft(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,a){return a.value===pp&&(a.value=OT,a.value=a.factory()),"object"==typeof a.value&&a.value&&function LT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ne(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function gp(s){const o=In(s),a=null!==o?o.factory:cr(s);if(null!==a)return a;if(s instanceof jn)throw new Ne(204,!1);if(s instanceof Function)return function pb(s){const o=s.length;if(o>0)throw Gi(o,"?"),new Ne(204,!1);const a=function Si(s){const o=s&&(s[ar]||s[wi]);if(o){const a=function bi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Ne(204,!1)}function Km(s,o,a){let u;if(bh(s)){const h=ne(s);return cr(h)||gp(h)}if(ZC(s))u=()=>ne(s.useValue);else if(function PT(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Ft(s.deps||[]));else if(function FT(s){return!(!s||!s.useExisting)}(s))u=()=>Ge(ne(s.useExisting));else{const h=ne(s&&(s.useClass||s.provide));if(!function gb(s){return!!s.deps}(s))return cr(h)||gp(h);u=()=>new h(...Ft(s.deps))}return u}function Hc(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function ZC(s){return null!==s&&"object"==typeof s&&j in s}function bh(s){return"function"==typeof s}let yo=(()=>{class s{static create(a,u){var h;if(Array.isArray(a))return vh({name:""},u,a,"");{const p=null!==(h=a.name)&&void 0!==h?h:"";return vh({name:p},a.parent,a.providers,p)}}}return s.THROW_IF_NOT_FOUND=Tr,s.NULL=new YC,s.\u0275prov=nn({token:s,providedIn:"any",factory:()=>Ge(zm)}),s.__NG_ELEMENT_ID__=-1,s})();function uD(s,o){ya(np(s)[1],bn())}function wh(s){let o=function _b(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if(Dr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ne(903,"");h=o.\u0275dir}if(h){if(a){u.push(h);const y=s;y.inputs=mp(s.inputs),y.declaredInputs=mp(s.declaredInputs),y.outputs=mp(s.outputs);const b=h.hostBindings;b&&fD(s,b);const C=h.viewQuery,S=h.contentQueries;if(C&&dD(s,C),S&&hD(s,S),re(s.inputs,h.inputs),re(s.declaredInputs,h.declaredInputs),re(s.outputs,h.outputs),Dr(h)&&h.data.animation){const T=s.data;T.animation=(T.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const b=p[y];b&&b.ngInherit&&b(s),b===wh&&(a=!1)}}o=Object.getPrototypeOf(o)}!function vb(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Fs(h.hostAttrs,a=Fs(a,h.hostAttrs))}}(u)}function mp(s){return s===on?{}:s===_t?[]:s}function dD(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function hD(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,p)=>{o(u,h,p),a(u,h,p)}:o}function fD(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let Qm=null;function Eh(){if(!Qm){const s=qt.Symbol;if(s&&s.iterator)Qm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Qm=u)}}}return Qm}function yp(s){return!!wb(s)&&(Array.isArray(s)||!(s instanceof Map)&&Eh()in s)}function wb(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ua(s,o,a){return s[o]=a}function kr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Eb(s,o,a,u){const h=Ae();return kr(h,Vo(),o)&&(jt(),Ba(Ln(),h,s,o,a,u)),Eb}function Ib(s,o,a,u,h,p,y,b){const C=Ae(),S=jt(),T=s+20,L=S.firstCreatePass?function yD(s,o,a,u,h,p,y,b,C){const S=o.consts,T=gh(o,s,4,y||null,Ir(S,b));dp(o,a,T,Ir(S,C)),ya(o,T);const L=T.tViews=ys(2,T,u,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,T),L.queries=o.queries.embeddedTView(T)),T}(T,S,C,o,a,u,h,p,y):S.data[T];Ar(L,!1);const $=C[11].createComment("");Fm(S,C,$,L),nr($,C),hp(C,C[T]=UC($,C,$,L)),Io(L)&&Xv(S,C,L),null!=y&&Rr(C,L,b)}function Ab(s){return hr(function cu(){return Et.lFrame.contextLView}(),20+s)}function ed(s,o=gt.Default){const a=Ae();return null===a?Ge(s,o):yl(bn(),a,ne(s),o)}function Ip(s,o,a){const u=Ae();return kr(u,Vo(),o)&&_s(jt(),Ln(),u,s,o,u[11],a,!1),Ip}function oy(s,o,a,u,h){const y=h?"class":"style";$m(s,a,o.inputs[y],y,u)}function Ap(s,o,a,u){const h=Ae(),p=jt(),y=20+s,b=h[11],C=h[y]=Va(b,o,function mc(){return Et.lFrame.currentNamespace}()),S=p.firstCreatePass?function ID(s,o,a,u,h,p,y){const b=o.consts,S=gh(o,s,2,h,Ir(b,p));return dp(o,a,S,Ir(b,y)),null!==S.attrs&&fp(S,S.attrs,!1),null!==S.mergedAttrs&&fp(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,p,h,0,o,a,u):p.data[y];Ar(S,!0);const T=S.mergedAttrs;null!==T&&ji(b,C,T);const L=S.classes;null!==L&&Lv(b,C,L);const $=S.styles;return null!==$&&hC(b,C,$),64!=(64&S.flags)&&Fm(p,h,C,S),0===function hc(){return Et.lFrame.elementDepthCount}()&&nr(C,h),function ko(){Et.lFrame.elementDepthCount++}(),Io(S)&&(Xv(p,h,S),Qv(p,S,h)),null!==u&&Rr(h,S),Ap}function Sp(){let s=bn();uu()?pa():(s=s.parent,Ar(s,!1));const o=s;!function fc(){Et.lFrame.elementDepthCount--}();const a=jt();return a.firstCreatePass&&(ya(a,s),sl(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function vc(s){return 0!=(16&s.flags)}(o)&&oy(a,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function dm(s){return 0!=(32&s.flags)}(o)&&oy(a,o,Ae(),o.stylesWithoutHost,!1),Sp}function Tp(s,o,a,u){return Ap(s,o,a,u),Sp(),Tp}function td(s,o,a){const u=Ae(),h=jt(),p=s+20,y=h.firstCreatePass?function Nb(s,o,a,u,h){const p=o.consts,y=Ir(p,u),b=gh(o,s,8,"ng-container",y);return null!==y&&fp(b,y,!0),dp(o,a,b,Ir(p,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(p,h,u,o,a):h.data[p];Ar(y,!0);const b=u[p]=u[11].createComment("");return Fm(h,u,b,y),nr(b,u),Io(y)&&(Xv(h,u,y),Qv(h,y,u)),null!=a&&Rr(u,y),td}function Ah(){let s=bn();const o=jt();return uu()?pa():(s=s.parent,Ar(s,!1)),o.firstCreatePass&&(ya(o,s),sl(s)&&o.queries.elementEnd(s)),Ah}function Uu(s,o,a){return td(s,o,a),Ah(),Uu}function Lb(){return Ae()}function Sh(s){return!!s&&"function"==typeof s.then}function ay(s){return!!s&&"function"==typeof s.subscribe}const Vb=ay;function Th(s,o,a,u){const h=Ae(),p=jt(),y=bn();return function Mp(s,o,a,u,h,p,y,b){const C=Io(u),T=s.firstCreatePass&&zC(s),L=o[8],$=$C(o);let ee=!0;if(3&u.type||b){const We=Ei(u,o),rt=b?b(We):We,Se=$.length,Ct=b?wt=>b(yn(wt[u.index])):u.index;if(wn(a)){let wt=null;if(!b&&C&&(wt=function Bb(s,o,a,u){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===u){const b=o[7],C=h[p+2];return b.length>C?b[C]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,u.index)),null!==wt)(wt.__ngLastListenerFn__||wt).__ngNextListenerFn__=p,wt.__ngLastListenerFn__=p,ee=!1;else{p=uy(u,o,L,p,!1);const cn=a.listen(rt,h,p);$.push(p,cn),T&&T.push(h,Ct,Se,Se+1)}}else p=uy(u,o,L,p,!0),rt.addEventListener(h,p,y),$.push(p),T&&T.push(h,Ct,Se,y)}else p=uy(u,o,L,p,!1);const ve=u.outputs;let Be;if(ee&&null!==ve&&(Be=ve[h])){const We=Be.length;if(We)for(let rt=0;rt<We;rt+=2){const mr=o[Be[rt]][Be[rt+1]].subscribe(p),Ju=$.length;$.push(p,mr),T&&T.push(h,u.index,Ju,-(Ju+1))}}}(p,h,h[11],y,s,o,!!a,u),Th}function Ub(s,o,a,u){try{return!1!==a(u)}catch(h){return qC(s,h),!1}}function uy(s,o,a,u,h){return function p(y){if(y===Function)return u;const b=2&s.flags?Bi(s.index,o):o;0==(32&o[2])&&Hm(b);let C=Ub(o,0,u,y),S=p.__ngNextListenerFn__;for(;S;)C=Ub(o,0,S,y)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function jb(s=1){return function Os(s){return(Et.lFrame.contextLView=function gu(s,o){for(;s>0;)o=o[15],s--;return o}(s,Et.lFrame.contextLView))[8]}(s)}function Rp(s,o){let a=null;const u=function eT(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===u?mC(s,p,!0):iT(u,p))return h}else a=h}return a}function Op(s){const o=Ae()[16][6];if(!o.projection){const u=o.projection=Gi(s?s.length:1,null),h=u.slice();let p=o.child;for(;null!==p;){const y=s?Rp(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:u[y]=p,h[y]=p),p=p.next}}}function kp(s,o=0,a){const u=Ae(),h=jt(),p=gh(h,20+s,16,null,a||null);null===p.projection&&(p.projection=o),pa(),64!=(64&p.flags)&&function qS(s,o,a){dC(o[11],0,o,a,Ov(s,a,o),sC(a.parent||o[6],a,o))}(h,u,p)}function Kb(s,o,a,u,h){const p=s[a+1],y=null===o;let b=u?Ko(p):Fl(p),C=!1;for(;0!==b&&(!1===C||y);){const T=s[b+1];TD(s[b],o)&&(C=!0,s[b+1]=u?Uv(T):Vv(T)),b=u?Ko(T):Fl(T)}C&&(s[a+1]=u?Vv(p):Uv(p))}function TD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&js(s,o)>=0}function Rh(s,o){return function Ks(s,o,a,u){const h=Ae(),p=jt(),y=function Xi(s){const o=Et.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);p.firstUpdatePass&&function kD(s,o,a,u){const h=s.data;if(null===h[a+1]){const p=h[Ui()],y=function Gu(s,o){return o>=s.expandoStartIndex}(s,a);(function BD(s,o){return 0!=(s.flags&(o?16:32))})(p,u)&&null===o&&!y&&(o=!1),o=function gy(s,o,a,u){const h=function Rs(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=Oh(a=my(null,s,o,a,u),o.attrs,u),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=my(h,s,o,a,u),null===p){let C=function eM(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Fl(u))return s[Ko(u)]}(s,o,u);void 0!==C&&Array.isArray(C)&&(C=my(null,s,o,C[1],u),C=Oh(C,o.attrs,u),function FD(s,o,a,u){s[Ko(a?o.classBindings:o.styleBindings)]=u}(s,o,u,C))}else p=function tM(s,o,a){let u;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)u=Oh(u,s[p].hostAttrs,a);return Oh(u,o.attrs,a)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,u),function AD(s,o,a,u,h,p){let y=p?o.classBindings:o.styleBindings,b=Ko(y),C=Fl(y);s[u]=a;let T,S=!1;if(Array.isArray(a)){const L=a;T=L[1],(null===T||js(L,T)>0)&&(S=!0)}else T=a;if(h)if(0!==C){const $=Ko(s[b+1]);s[u+1]=Nm($,b),0!==$&&(s[$+1]=Bv(s[$+1],u)),s[b+1]=function aT(s,o){return 131071&s|o<<17}(s[b+1],u)}else s[u+1]=Nm(b,0),0!==b&&(s[b+1]=Bv(s[b+1],u)),b=u;else s[u+1]=Nm(C,0),0===b?b=u:s[C+1]=Bv(s[C+1],u),C=u;S&&(s[u+1]=Vv(s[u+1])),Kb(s,T,u,!0),Kb(s,T,u,!1),function SD(s,o,a,u,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&js(p,o)>=0&&(a[u+1]=Uv(a[u+1]))}(o,T,s,u,p),y=Nm(b,C),p?o.classBindings=y:o.styleBindings=y}(h,p,o,a,y,u)}}(p,s,y,u),o!==Gt&&kr(h,y,o)&&function LD(s,o,a,u,h,p,y,b){if(!(3&o.type))return;const C=s.data,S=C[b+1];yy(function EC(s){return 1==(1&s)}(S)?VD(C,o,a,h,Fl(S),y):void 0)||(yy(p)||function wC(s){return 2==(2&s)}(S)&&(p=VD(C,null,a,h,b,y)),function YS(s,o,a,u,h){const p=wn(s);if(o)h?p?s.addClass(a,u):a.classList.add(u):p?s.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:di.DashCase;if(null==h)p?s.removeStyle(a,u,y):a.style.removeProperty(u);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),y|=di.Important),p?s.setStyle(a,u,h,y):a.style.setProperty(u,h,b?"important":"")}}}(u,y,Ts(Ui(),a),h,p))}(p,p.data[Ui()],h,h[11],s,h[y+1]=function iM(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(po(s)))),s}(o,a),u,y)}(s,o,null,!0),Rh}function my(s,o,a,u,h){let p=null;const y=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<y&&(p=o[b],u=Oh(u,p.hostAttrs,h),p!==s);)b++;return null!==s&&(a.directiveStylingLast=b),u}function Oh(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ii(s,y,!!a||o[++p]))}return void 0===s?null:s}function VD(s,o,a,u,h,p){const y=null===o;let b;for(;h>0;){const C=s[h],S=Array.isArray(C),T=S?C[1]:C,L=null===T;let $=a[h+1];$===Gt&&($=L?_t:void 0);let ee=L?Su($,u):T===u?$:void 0;if(S&&!yy(ee)&&(ee=Su(C,u)),yy(ee)&&(b=ee,y))return b;const ve=s[h+1];h=y?Ko(ve):Fl(ve)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(b=Su(C,u))}return b}function yy(s){return void 0!==s}function nw(s,o=""){const a=Ae(),u=jt(),h=s+20,p=u.firstCreatePass?gh(u,h,1,o,null):u.data[h],y=a[h]=function Rm(s,o){return wn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);Fm(u,a,y,p),Ar(p,!1)}function Np(s){return nd("",s,""),Np}function nd(s,o,a){const u=Ae(),h=function Wc(s,o,a,u){return kr(s,Vo(),a)?o+we(a)+u:Gt}(u,s,o,a);return h!==Gt&&Yo(u,Ui(),h),nd}function lw(s,o,a){const u=Ae();return kr(u,Vo(),o)&&_s(jt(),Ln(),u,s,o,u[11],a,!0),lw}const id=void 0;var wM=["en",[["a","p"],["AM","PM"],id],[["AM","PM"],id,id],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],id,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],id,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",id,"{1} 'at' {0}",id],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bM(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let kh={};function uw(s){const o=function EM(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=ex(o);if(a)return a;const u=o.split("-")[0];if(a=ex(u),a)return a;if("en"===u)return wM;throw new Error(`Missing locale data for the locale "${s}".`)}function JD(s){return uw(s)[St.PluralCase]}function ex(s){return s in kh||(kh[s]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[s]),kh[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const vy="en-US";let tx=vy;function Fi(s,o,a,u,h){if(s=ne(s),Array.isArray(s))for(let p=0;p<s.length;p++)Fi(s[p],o,a,u,h);else{const p=jt(),y=Ae();let b=bh(s)?s:ne(s.provide),C=Km(s);const S=bn(),T=1048575&S.providerIndexes,L=S.directiveStart,$=S.providerIndexes>>20;if(bh(s)||!s.multi){const ee=new gl(C,h,ed),ve=jy(b,o,h?T:T+$,L);-1===ve?(lo(Zr(S,y),p,b),ld(p,s,o.length),o.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(ee),y.push(ee)):(a[ve]=ee,y[ve]=ee)}else{const ee=jy(b,o,T+$,L),ve=jy(b,o,T,T+$),Be=ee>=0&&a[ee],We=ve>=0&&a[ve];if(h&&!We||!h&&!Be){lo(Zr(S,y),p,b);const rt=function _x(s,o,a,u,h){const p=new gl(s,a,ed);return p.multi=[],p.index=o,p.componentProviders=0,zp(p,h,u&&!a),p}(h?Sw:yx,a.length,h,u,C);!h&&We&&(a[ve].providerFactory=rt),ld(p,s,o.length,0),o.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(rt),y.push(rt)}else ld(p,s,ee>-1?ee:ve,zp(a[h?ve:ee],C,!h&&u));!h&&u&&We&&a[ve].componentProviders++}}}function ld(s,o,a,u){const h=bh(o),p=function NT(s){return!!s.useClass}(o);if(h||p){const C=(p?ne(o.useClass):o).prototype.ngOnDestroy;if(C){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const T=S.indexOf(a);-1===T?S.push(a,[u,C]):S[T+1].push(u,C)}else S.push(a,C)}}}function zp(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function jy(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function yx(s,o,a,u){return Gy(this.multi,[])}function Sw(s,o,a,u){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=Ia(a,a[1],this.providerFactory.index,u);p=b.slice(0,y),Gy(h,p);for(let C=y;C<b.length;C++)p.push(b[C])}else p=[],Gy(h,p);return p}function Gy(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Wp(s,o=[]){return a=>{a.providersResolver=(u,h)=>function Wi(s,o,a){const u=jt();if(u.firstCreatePass){const h=Dr(s);Fi(a,u.data,u.blueprint,h,!0),Fi(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Tw{}class qp{resolveComponentFactory(o){throw function $y(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ud=(()=>{class s{}return s.NULL=new qp,s})();function Wy(){return $u(bn(),Ae())}function $u(s,o){return new Lh(Ei(s,o))}let Lh=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Wy,s})();function Vh(s){return s instanceof Lh?s.nativeElement:s}class qy{}let Mw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function bx(){const s=Ae(),a=Bi(bn().index,s);return function Kp(s){return s[11]}(Vi(a)?a:s)}(),s})(),wx=(()=>{class s{}return s.\u0275prov=nn({token:s,providedIn:"root",factory:()=>null}),s})();class zu{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Rw=new zu("13.2.7"),Ky={};function Jo(s,o,a,u,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&u.push(yn(p)),Cr(p))for(let b=10;b<p.length;b++){const C=p[b],S=C[1].firstChild;null!==S&&Jo(C[1],C,S,u)}const y=a.type;if(8&y)Jo(s,o,a.child,u);else if(32&y){const b=Ol(a,o);let C;for(;C=b();)u.push(C)}else if(16&y){const b=uC(o,a);if(Array.isArray(b))u.push(...b);else{const C=Na(o[16]);Jo(C[1],C,b,u,!0)}}a=h?a.projectionNext:a.next}return u}class cd{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Jo(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Cr(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Mv(o,u),Di(a,u))}this._attachedToViewContainer=!1}tC(this._lView[1],this._lView)}onDestroy(o){Vu(this._lView[1],this._lView,null,o)}markForCheck(){Hm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function TT(s,o,a){No(!0);try{lb(s,o,a)}finally{No(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tv(s,o){lp(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=o}}class Yp extends cd{constructor(o){super(o),this._view=o}detectChanges(){HC(this._view)}checkNoChanges(){!function MT(s){No(!0);try{HC(s)}finally{No(!1)}}(this._view)}get context(){return null}}class Yy extends ud{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Ke(o);return new Zp(a,this.ngModule)}}function dd(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Zp extends Tw{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function sT(s){return s.map(rT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return dd(this.componentDef.inputs)}get outputs(){return dd(this.componentDef.outputs)}create(o,a,u,h){const p=(h=h||this.ngModule)?function Pr(s,o){return{get:(a,u,h)=>{const p=s.get(a,Ky,h);return p!==Ky||u===Ky?p:o.get(a,u,h)}}}(o,h.injector):o,y=p.get(qy,no),b=p.get(wx,null),C=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",T=u?function Jv(s,o,a){if(wn(s))return s.selectRootElement(o,a===$t.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(C,u,this.componentDef.encapsulation):Va(y.createRenderer(null,this.componentDef),S,function Ow(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),L=this.componentDef.onPush?576:528,$=function lD(s,o){return{components:[],scheduler:s||GS,clean:RT,playerHandler:o||null,flags:0}}(),ee=ys(0,null,null,1,0,null,null,null,null,null),ve=up(null,ee,$,L,null,null,y,C,b,p);let Be,We;ma(ve);try{const rt=function aD(s,o,a,u,h,p){const y=a[1];a[20]=s;const C=gh(y,20,2,"#host",null),S=C.mergedAttrs=o.hostAttrs;null!==S&&(fp(C,S,!0),null!==s&&(ji(h,s,S),null!==C.classes&&Lv(h,s,C.classes),null!==C.styles&&hC(h,s,C.styles)));const T=u.createRenderer(s,o),L=up(a,Or(o),null,o.onPush?64:16,a[20],C,u,T,p||null,null);return y.firstCreatePass&&(lo(Zr(C,a),y,o.type),jm(y,C),BC(C,a.length,1)),hp(a,L),a[20]=L}(T,this.componentDef,ve,y,C);if(T)if(u)ji(C,T,["ng-version",Rw.full]);else{const{attrs:Se,classes:Ct}=function oT(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++u]):8===h&&a.push(p);else{if(!qo(h))break;h=p}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Se&&ji(C,T,Se),Ct&&Ct.length>0&&Lv(C,T,Ct.join(" "))}if(We=dl(ee,20),void 0!==a){const Se=We.projection=[];for(let Ct=0;Ct<this.ngContentSelectors.length;Ct++){const wt=a[Ct];Se.push(null!=wt?Array.from(wt):null)}}Be=function $c(s,o,a,u,h){const p=a[1],y=function PC(s,o,a){const u=bn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),rb(s,u,o,mh(s,o,1,null),a));const h=Ia(o,s,u.directiveStart,u);nr(h,o);const p=Ei(u,o);return p&&nr(p,o),h}(p,a,o);if(u.components.push(y),s[8]=y,h&&h.forEach(C=>C(y,o)),o.contentQueries){const C=bn();o.contentQueries(1,y,C.directiveStart)}const b=bn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ks(b.index),tb(a[1],b,0,b.directiveStart,b.directiveEnd,o),LC(o,y)),y}(rt,this.componentDef,ve,$,[uD]),cp(ee,ve,null)}finally{oo()}return new kw(this.componentType,Be,$u(We,ve),ve,We)}}class kw extends class Hy{}{constructor(o,a,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Yp(h),this.componentType=o}get injector(){return new Ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Wu{}const ea=new Map;class Nw extends Wu{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Yy(this);const u=Mt(o);this._bootstrapComponents=ms(u.bootstrap),this._r3Injector=fb(o,a,[{provide:Wu,useValue:this},{provide:ud,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=yo.THROW_IF_NOT_FOUND,u=gt.Default){return o===yo||o===Wu||o===zm?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Uh extends class Fw{}{constructor(o){super(),this.moduleType=o,null!==Mt(o)&&function Xy(s){const o=new Set;!function a(u){const h=Mt(u,!0),p=h.id;null!==p&&(function Qp(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(p,ea.get(p),u),ea.set(p,u));const y=ms(h.imports);for(const b of y)o.has(b)||(o.add(b),a(b))}(s)}(o)}create(o){return new Nw(this.moduleType,o)}}function jh(s,o,a){const u=ni()+s,h=Ae();return h[u]===Gt?Ua(h,u,a?o.call(a):o()):function _p(s,o){return s[o]}(h,u)}function vo(s,o){const a=s[o];return a===Gt?void 0:a}function jw(s,o,a,u,h,p,y){const b=o+a;return function zc(s,o,a,u){const h=kr(s,o,a);return kr(s,o+1,u)||h}(s,b,h,p)?Ua(s,b+2,y?u.call(y,h,p):u(h,p)):vo(s,b+2)}function Ul(s,o){const a=jt();let u;const h=s+20;a.firstCreatePass?(u=function Gw(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,u.onDestroy)):u=a.data[h];const p=u.factory||(u.factory=cr(u.type)),y=rn(ed);try{const b=wa(!1),C=p();return wa(b),function _D(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,Ae(),h,C),C}finally{rn(y)}}function Hw(s,o,a){const u=s+20,h=Ae(),p=hr(h,u);return Gl(h,u)?function Jp(s,o,a,u,h,p){const y=o+a;return kr(s,y,h)?Ua(s,y+1,p?u.call(p,h):u(h)):vo(s,y+1)}(h,ni(),o,p.transform,a,p):p.transform(a)}function jl(s,o,a,u){const h=s+20,p=Ae(),y=hr(p,h);return Gl(p,h)?jw(p,ni(),o,y.transform,a,u,y):y.transform(a,u)}function Gl(s,o){return s[1].data[o].pure}function Tn(s){return o=>{setTimeout(s,void 0,o)}}const bs=class $w extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var h,p,y;let b=o,C=a||(()=>null),S=u;if(o&&"object"==typeof o){const L=o;b=null===(h=L.next)||void 0===h?void 0:h.bind(L),C=null===(p=L.error)||void 0===p?void 0:p.bind(L),S=null===(y=L.complete)||void 0===y?void 0:y.bind(L)}this.__isAsync&&(C=Tn(C),b&&(b=Tn(b)),S&&(S=Tn(S)));const T=super.subscribe({next:b,error:C,complete:S});return o instanceof H.w0&&o.add(T),T}};function Dx(){return this._results[Eh()]()}class t_{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Eh(),u=t_.prototype;u[a]||(u[a]=Dx)}get changes(){return this._changes||(this._changes=new bs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=Ci(o);(this._changesDetected=!function Ho(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],p=o[u];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Wa=(()=>{class s{}return s.__NG_ELEMENT_ID__=zw,s})();const $h=Wa,xx=class extends $h{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=up(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(a)),cp(a,u,o),new cd(u)}};function zw(){return rg(bn(),Ae())}function rg(s,o){return 4&s.type?new xx(o,s,$u(s,o)):null}let sg=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ix,s})();function Ix(){return n_(bn(),Ae())}const Ax=sg,fd=class extends Ax{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return $u(this._hostTNode,this._hostLView)}get injector(){return new Ns(this._hostTNode,this._hostLView)}get parentInjector(){const o=ci(this._hostTNode,this._hostLView);if(ln(o)){const a=Yr(o,this._hostLView),u=Kr(o);return new Ns(a[1].data[u+8],a)}return new Ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=qa(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const h=o.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(o,a,u,h,p){const y=o&&!function Go(s){return"function"==typeof s}(o);let b;if(y)b=a;else{const L=a||{};b=L.index,u=L.injector,h=L.projectableNodes,p=L.ngModuleRef}const C=y?o:new Zp(Ke(o)),S=u||this.parentInjector;if(!p&&null==C.ngModule){const $=(y?S:this.parentInjector).get(Wu,null);$&&(p=$)}const T=C.create(S,h,void 0,p);return this.insert(T.hostView,b),T}insert(o,a){const u=o._lView,h=u[1];if(function Oo(s){return Cr(s[3])}(u)){const T=this.indexOf(o);if(-1!==T)this.detach(T);else{const L=u[3],$=new fd(L,L[6],L[3]);$.detach($.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function Wo(s,o,a,u){const h=10+u,p=a.length;u>0&&(a[h-1][4]=o),u<p-10?(o[4]=a[h],uo(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function Mr(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(h,u,y,p);const b=Pv(p,y),C=u[11],S=km(C,y[7]);return null!==S&&function hi(s,o,a,u,h,p){u[0]=h,u[6]=o,lp(s,u,a,1,h,p)}(h,y[6],C,u,S,b),o.attachToViewContainerRef(),uo(og(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=qa(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Mv(this._lContainer,a);u&&(Di(og(this._lContainer),a),tC(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Mv(this._lContainer,a);return u&&null!=Di(og(this._lContainer),a)?new cd(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function qa(s){return s[8]}function og(s){return s[8]||(s[8]=[])}function n_(s,o){let a;const u=o[s.index];if(Cr(u))a=u;else{let h;if(8&s.type)h=yn(u);else{const p=o[11];h=p.createComment("");const y=Ei(s,o);Gc(p,km(p,y),h,function WS(s,o){return wn(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=a=UC(u,o,h,s),hp(o,a)}return new fd(a,s,o)}class i_{constructor(o){this.queryList=o,this.matches=null}clone(){return new i_(this.queryList)}setDirty(){this.queryList.setDirty()}}class ag{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<u;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new ag(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==md(o,a).matches&&this.queries[a].setDirty()}}class qw{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class lg{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(o,h);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new lg(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ug{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new ug(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(o,a,r_(a,p)),this.matchTNodeWithReadOption(o,a,xa(a,o,p,!1,!1))}else u===Wa?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,xa(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Lh||h===sg||h===Wa&&4&a.type)this.addMatch(a.index,-2);else{const p=xa(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function r_(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function Kw(s,o,a,u){return-1===a?function s_(s,o){return 11&s.type?$u(s,o):4&s.type?rg(s,o):null}(o,s):-2===a?function Yw(s,o,a){return a===Lh?$u(o,s):a===Wa?rg(o,s):a===sg?n_(o,s):void 0}(s,o,u):Ia(s,s[1],a,o)}function cg(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const p=s.data,y=a.matches,b=[];for(let C=0;C<y.length;C+=2){const S=y[C];b.push(S<0?null:Kw(o,p[S],y[C+1],a.metadata.read))}h.matches=b}return h.matches}function o_(s,o,a,u){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const y=cg(s,o,h,a);for(let b=0;b<p.length;b+=2){const C=p[b];if(C>0)u.push(y[b/2]);else{const S=p[b+1],T=o[-C];for(let L=10;L<T.length;L++){const $=T[L];$[17]===$[3]&&o_($[1],$,S,u)}if(null!==T[9]){const L=T[9];for(let $=0;$<L.length;$++){const ee=L[$];o_(ee[1],ee,S,u)}}}}}return u}function Zw(s){const o=Ae(),a=jt(),u=zd();hu(u+1);const h=md(a,u);if(s.dirty&&us(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?o_(a,o,u,[]):cg(a,o,h,u);s.reset(p,Vh),s.notifyOnChanges()}return!0}return!1}function Qw(s,o,a){const u=jt();u.firstCreatePass&&(a_(u,new qw(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),hg(u,Ae(),o)}function zh(s,o,a,u){const h=jt();if(h.firstCreatePass){const p=bn();a_(h,new qw(o,a,u),p.index),function Wh(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}hg(h,Ae(),a)}function gd(){return function dg(s,o){return s[19].queries[o].queryList}(Ae(),zd())}function hg(s,o,a){const u=new t_(4==(4&a));Vu(s,o,u,u.destroy),null===o[19]&&(o[19]=new ag),o[19].queries.push(new i_(u))}function a_(s,o,a){null===s.queries&&(s.queries=new lg),s.queries.track(new ug(o,a))}function md(s,o){return s.queries.getByIndex(o)}function Xw(s,o){return rg(s,o)}function Ya(...s){}const bg=new jn("Application Initializer");let m_=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Ya,this.reject=Ya,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Sh(p))a.push(p);else if(Vb(p)){const y=new Promise((b,C)=>{p.subscribe({complete:b,error:C})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Ge(bg,8))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ve=new jn("AppId",{providedIn:"root",factory:function gi(){return`${Xh()}${Xh()}${Xh()}`}});function Xh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lt=new jn("Platform Initializer"),Rt=new jn("Platform ID"),dE=new jn("appBootstrapListener");let fe=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();const Ii=new jn("LocaleId",{providedIn:"root",factory:()=>yt(Ii,gt.Optional|gt.SkipSelf)||function Fe(){return"undefined"!=typeof $localize&&$localize.locale||vy}()}),hE=new jn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),jM=(()=>Promise.resolve(0))();function Nr(s){"undefined"==typeof Zone?jM.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ys{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bs(!1),this.onMicrotaskEmpty=new bs(!1),this.onStable=new bs(!1),this.onError=new bs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Px(){let s=qt.requestAnimationFrame,o=qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function mi(s){const o=()=>{!function pE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(qt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,At(s),s.isCheckStableRunning=!0,zl(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),At(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,p,y,b)=>{try{return y_(s),a.invokeTask(h,p,y,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Wl(s)}},onInvoke:(a,u,h,p,y,b,C)=>{try{return y_(s),a.invoke(h,p,y,b,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),Wl(s)}},onHasTask:(a,u,h,p)=>{a.hasTask(h,p),u===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,At(s),zl(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ys.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ys.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,Qt,Ya,Ya);try{return p.runTask(y,a,u)}finally{p.cancelTask(y)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const Qt={};function zl(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function At(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function y_(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Wl(s){s._nesting--,zl(s)}class gE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bs,this.onMicrotaskEmpty=new bs,this.onStable=new bs,this.onError=new bs}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}let _d=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ys.assertNotInAngularZone(),Nr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nr(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Ge(Ys))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})(),tn=(()=>{class s{constructor(){this._applications=new Map,ql.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return ql.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();class Nx{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function qi(s){ql=s}let bo,ql=new Nx;const Zn=new jn("AllowMultipleToken");function v_(s,o,a=[]){const u=`Platform: ${o}`,h=new jn(u);return(p=[])=>{let y=ta();if(!y||y.injector.get(Zn,!1))if(s)s(a.concat(p).concat({provide:h,useValue:!0}));else{const b=a.concat(p).concat({provide:h,useValue:!0},{provide:Wm,useValue:"platform"});!function __(s){if(bo&&!bo.destroyed&&!bo.injector.get(Zn,!1))throw new Ne(400,"");bo=s.get(Yl);const o=s.get(lt,null);o&&o.forEach(a=>a())}(yo.create({providers:b,name:u}))}return function Jh(s){const o=ta();if(!o)throw new Ne(401,"");return o}()}}function ta(){return bo&&!bo.destroyed?bo:null}let Yl=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const b=function ef(s,o){let a;return a="noop"===s?new gE:("zone.js"===s?void 0:s)||new Ys({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:Ys,useValue:b}];return b.run(()=>{const S=yo.create({providers:C,parent:this.injector,name:a.moduleType.name}),T=a.create(S),L=T.injector.get(op,null);if(!L)throw new Ne(402,"");return b.runOutsideAngular(()=>{const $=b.onError.subscribe({next:ee=>{L.handleError(ee)}});T.onDestroy(()=>{Cg(this._modules,T),$.unsubscribe()})}),function mE(s,o,a){try{const u=a();return Sh(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(L,b,()=>{const $=T.injector.get(m_);return $.runInitializers(),$.donePromise.then(()=>(function IM(s){dt(s,"Expected localeId to be defined"),"string"==typeof s&&(tx=s.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Ii,vy)||vy),this._moduleDoBootstrap(T),T))})})}bootstrapModule(a,u=[]){const h=$e({},u);return function Pi(s,o,a){const u=new Uh(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const u=a.injector.get(Eg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ne(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Ge(yo))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();function $e(s,o){return Array.isArray(o)?o.reduce($e,s):Object.assign(Object.assign({},s),o)}let Eg=(()=>{class s{constructor(a,u,h,p,y){this._zone=a,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new k.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),C=new k.y(S=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Ys.assertNotInAngularZone(),Nr(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Ys.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{T.unsubscribe(),L.unsubscribe()}});this.isStable=(0,oe.T)(b,C.pipe((0,se.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Ne(405,"");let h;h=a instanceof Tw?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const p=function Kl(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Wu),b=h.create(yo.NULL,[],u||h.selector,p),C=b.location.nativeElement,S=b.injector.get(_d,null),T=S&&b.injector.get(tn);return S&&T&&T.registerApplication(C,S),b.onDestroy(()=>{this.detachView(b.hostView),Cg(this.components,b),T&&T.unregisterApplication(C)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Cg(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(dE,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Ge(Ys),Ge(yo),Ge(op),Ge(ud),Ge(m_))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Cg(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let bd=!0,Za=!1;function yE(){return Za=!0,bd}function wd(){if(Za)throw new Error("Cannot enable prod mode after platform setup.");bd=!1}let nf=(()=>{class s{}return s.__NG_ELEMENT_ID__=vE,s})();function vE(s){return function bE(s,o,a){if(xo(s)&&!a){const u=Bi(s.index,o);return new cd(u,u)}return 47&s.type?new cd(o[16],o):null}(bn(),Ae(),16==(16&s))}class af{constructor(){}supports(o){return yp(o)}create(o){return new sr(o)}}const Rg=(s,o)=>o;class sr{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Rg}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,p=null;for(;a||u;){const y=!u||a&&a.currentIndex<E_(u,h,p)?a:u,b=E_(y,h,p),C=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const S=b-h,T=C-h;if(S!=T){for(let $=0;$<S;$++){const ee=$<p.length?p[$]:p[$]=0,ve=ee+$;T<=ve&&ve<S&&(p[$]=ee+1)}p[y.previousIndex]=T-S}}b!==C&&o(y,b,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!yp(o))throw new Ne(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],y=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,p,y,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,b),u=!0),a=a._next}else h=0,function $T(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Eh()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,b=>{y=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,b,y,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,y,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new Gx(a,u),p,h),o}_verifyReinsertion(o,a,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new wE),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Gx{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hx{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class wE{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new Hx,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E_(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class EE{constructor(){}supports(o){return o instanceof Map||wb(o)}create(){return new $x}}class $x{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||wb(o)))throw new Ne(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const u=new zx(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class zx{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CE(){return new ia([new af])}let ia=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||CE()),deps:[[s,new tr,new er]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Ne(901,"")}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:CE}),s})();function DE(){return new Og([new EE])}let Og=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||DE()),deps:[[s,new tr,new er]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new Ne(901,"")}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:DE}),s})();const kg=v_(null,"core",[{provide:Rt,useValue:"unknown"},{provide:Yl,deps:[yo]},{provide:tn,deps:[]},{provide:fe,deps:[]}]);let D_=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Ge(Eg))},s.\u0275mod=P({type:s}),s.\u0275inj=en({}),s})()},3942:(ct,Ie,F)=>{F.d(Ie,{Z:()=>Ne});var c=F(2090),H=F(4859),k=F(9681),oe=F(1877);class se{constructor(we,De){this._delegate=we,this.firebase=De,(0,k._addComponent)(we,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(we,De=k._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(we);return!He.isInitialized()&&"EXPLICIT"===(null===(nt=He.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&He.initialize(),He.getImmediate({identifier:De})}_removeServiceInstance(we,De=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(De)}_addComponent(we){(0,k._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,k._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ye(){const je=function he(je){const we={},De={__esModule:!0,initializeApp:function Re(ie,Qe={}){const J=k.initializeApp(ie,Qe);if((0,c.r3)(we,J.name))return we[J.name];const pe=new je(J,De);return we[J.name]=pe,pe},app:He,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ce(ie){const Qe=ie.name,J=Qe.replace("-compat","");if(k._registerComponent(ie)&&"PUBLIC"===ie.type){const pe=(de=He())=>{if("function"!=typeof de[J])throw re.create("invalid-app-argument",{appName:Qe});return de[J]()};void 0!==ie.serviceProps&&(0,c.ZB)(pe,ie.serviceProps),De[J]=pe,je.prototype[J]=function(...de){return this._getService.bind(this,Qe).apply(this,ie.multipleInstances?de:[])}}return"PUBLIC"===ie.type?De[J]:null},removeApp:function nt(ie){delete we[ie]},useAsService:function Ye(ie,Qe){return"serverAuth"===Qe?null:Qe},modularAPIs:k}};function He(ie){if(!(0,c.r3)(we,ie=ie||k._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:ie});return we[ie]}return De.default=De,Object.defineProperty(De,"apps",{get:function Me(){return Object.keys(we).map(ie=>we[ie])}}),He.App=je,De}(se);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function we(De){(0,c.ZB)(je,De)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),je}(),z=new oe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=W;!function Oe(je){(0,k.registerVersion)("@firebase/app-compat","0.1.21",je)}()},9681:(ct,Ie,F)=>{F.r(Ie),F.d(Ie,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>jr,_DEFAULT_ENTRY_NAME:()=>Rn,_addComponent:()=>hn,_addOrOverwriteComponent:()=>or,_apps:()=>pt,_clearComponents:()=>In,_components:()=>pn,_getProvider:()=>Xt,_registerComponent:()=>nn,_removeServiceInstance:()=>en,deleteApp:()=>rs,getApp:()=>li,getApps:()=>wi,initializeApp:()=>ar,onLog:()=>On,registerVersion:()=>Ti,setLogLevel:()=>rn});var c=F(5861),H=F(4859),k=F(1877),oe=F(2090);class se{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function _e(ze){const xe=ze.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(et)){const ft=et.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(et=>et).join(" ")}}const re="@firebase/app",ye=new k.Yd("@firebase/app"),Rn="[DEFAULT]",dt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pt=new Map,pn=new Map;function hn(ze,xe){try{ze.container.addComponent(xe)}catch(et){ye.debug(`Component ${xe.name} failed to register with FirebaseApp ${ze.name}`,et)}}function or(ze,xe){ze.container.addOrOverwriteComponent(xe)}function nn(ze){const xe=ze.name;if(pn.has(xe))return ye.debug(`There were multiple attempts to register component ${xe}.`),!1;pn.set(xe,ze);for(const et of pt.values())hn(et,ze);return!0}function Xt(ze,xe){const et=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),ze.container.getProvider(xe)}function en(ze,xe,et=Rn){Xt(ze,xe).clearInstance(et)}function In(){pn.clear()}const Si=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class bi{constructor(xe,et,ft){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}const jr="9.6.10";function ar(ze,xe={}){"object"!=typeof xe&&(xe={name:xe});const et=Object.assign({name:Rn,automaticDataCollectionEnabled:!1},xe),ft=et.name;if("string"!=typeof ft||!ft)throw Si.create("bad-app-name",{appName:String(ft)});const Nt=pt.get(ft);if(Nt){if((0,oe.vZ)(ze,Nt.options)&&(0,oe.vZ)(et,Nt.config))return Nt;throw Si.create("duplicate-app",{appName:ft})}const Lt=new H.H0(ft);for(const B of pn.values())Lt.addComponent(B);const q=new bi(ze,et,Lt);return pt.set(ft,q),q}function li(ze=Rn){const xe=pt.get(ze);if(!xe)throw Si.create("no-app",{appName:ze});return xe}function wi(){return Array.from(pt.values())}function rs(ze){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(ze){const xe=ze.name;pt.has(xe)&&(pt.delete(xe),yield Promise.all(ze.container.getProviders().map(et=>et.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function Ti(ze,xe,et){var ft;let Nt=null!==(ft=dt[ze])&&void 0!==ft?ft:ze;et&&(Nt+=`-${et}`);const Lt=Nt.match(/\s|\//),q=xe.match(/\s|\//);if(Lt||q){const B=[`Unable to register library "${Nt}" with version "${xe}":`];return Lt&&B.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),Lt&&q&&B.push("and"),q&&B.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void ye.warn(B.join(" "))}nn(new H.wA(`${Nt}-version`,()=>({library:Nt,version:xe}),"VERSION"))}function On(ze,xe){if(null!==ze&&"function"!=typeof ze)throw Si.create("invalid-log-argument");(0,k.Am)(ze,xe)}function rn(ze){(0,k.Ub)(ze)}const kn="firebase-heartbeat-store";let An=null;function Li(){return An||(An=(0,oe.X3)("firebase-heartbeat-database",1,(ze,xe)=>{0===xe&&ze.createObjectStore(kn)}).catch(ze=>{throw Si.create("storage-open",{originalErrorMessage:ze.message})})),An}function $t(){return($t=(0,c.Z)(function*(ze){try{return(yield Li()).transaction(kn).objectStore(kn).get(Zi(ze))}catch(xe){throw Si.create("storage-get",{originalErrorMessage:xe.message})}})).apply(this,arguments)}function ht(ze,xe){return st.apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(ze,xe){try{const ft=(yield Li()).transaction(kn,"readwrite");return yield ft.objectStore(kn).put(xe,Zi(ze)),ft.complete}catch(et){throw Si.create("storage-set",{originalErrorMessage:et.message})}})).apply(this,arguments)}function Zi(ze){return`${ze.name}!${ze.options.appId}`}class Hr{constructor(xe){this.container=xe,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new _t(et),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var xe=this;return(0,c.Z)(function*(){const ft=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=Fn();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!xe._heartbeatsCache.heartbeats.some(Lt=>Lt.date===Nt))return xe._heartbeatsCache.heartbeats.push({date:Nt,agent:ft}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(Lt=>{const q=new Date(Lt.date).valueOf();return Date.now()-q<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,c.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const et=Fn(),{heartbeatsToSend:ft,unsentEntries:Nt}=function on(ze,xe=1024){const et=[];let ft=ze.slice();for(const Nt of ze){const Lt=et.find(q=>q.agent===Nt.agent);if(Lt){if(Lt.dates.push(Nt.date),Pn(et)>xe){Lt.dates.pop();break}}else if(et.push({agent:Nt.agent,dates:[Nt.date]}),Pn(et)>xe){et.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:et,unsentEntries:ft}}(xe._heartbeatsCache.heartbeats),Lt=(0,oe.L)(JSON.stringify({version:2,heartbeats:ft}));return xe._heartbeatsCache.lastSentHeartbeatDate=et,Nt.length>0?(xe._heartbeatsCache.heartbeats=Nt,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),Lt})()}}function Fn(){return(new Date).toISOString().substring(0,10)}class _t{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,c.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function Xs(ze){return $t.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var et=this;return(0,c.Z)(function*(){var ft;if(yield et._canUseIndexedDBPromise){const Lt=yield et.read();return ht(et.app,{lastSentHeartbeatDate:null!==(ft=xe.lastSentHeartbeatDate)&&void 0!==ft?ft:Lt.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var et=this;return(0,c.Z)(function*(){var ft;if(yield et._canUseIndexedDBPromise){const Lt=yield et.read();return ht(et.app,{lastSentHeartbeatDate:null!==(ft=xe.lastSentHeartbeatDate)&&void 0!==ft?ft:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...xe.heartbeats]})}})()}}function Pn(ze){return(0,oe.L)(JSON.stringify({version:2,heartbeats:ze})).length}!function Kt(ze){nn(new H.wA("platform-logger",xe=>new se(xe),"PRIVATE")),nn(new H.wA("heartbeat",xe=>new Hr(xe),"PRIVATE")),Ti(re,"0.7.20",ze),Ti(re,"0.7.20","esm2017"),Ti("fire-js","")}("")},4859:(ct,Ie,F)=>{F.d(Ie,{wA:()=>k,H0:()=>he});var c=F(5861),H=F(2090);class k{constructor(W,z,ne){this.name=W,this.instanceFactory=z,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const oe="[DEFAULT]";class se{constructor(W,z){this.name=W,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const z=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(z)){const ne=new H.BH;if(this.instancesDeferred.set(z,ne),this.isInitialized(z)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:z});qe&&ne.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(z).promise}getImmediate(W){var z;const ne=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),qe=null!==(z=null==W?void 0:W.optional)&&void 0!==z&&z;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Oe){if(qe)return null;throw Oe}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function re(ye){return"EAGER"===ye.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(z){}for(const[z,ne]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(z);try{const Oe=this.getOrInitializeService({instanceIdentifier:qe});ne.resolve(Oe)}catch(Oe){}}}}clearInstance(W=oe){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,c.Z)(function*(){const z=Array.from(W.instances.values());yield Promise.all([...z.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...z.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=oe){return this.instances.has(W)}getOptions(W=oe){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:z={}}=W,ne=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:ne,options:z});for(const[Oe,Ne]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Oe)&&Ne.resolve(qe);return qe}onInit(W,z){var ne;const qe=this.normalizeInstanceIdentifier(z),Oe=null!==(ne=this.onInitCallbacks.get(qe))&&void 0!==ne?ne:new Set;Oe.add(W),this.onInitCallbacks.set(qe,Oe);const Ne=this.instances.get(qe);return Ne&&W(Ne,qe),()=>{Oe.delete(W)}}invokeOnInitCallbacks(W,z){const ne=this.onInitCallbacks.get(z);if(ne)for(const qe of ne)try{qe(W,z)}catch(Oe){}}getOrInitializeService({instanceIdentifier:W,options:z={}}){let ne=this.instances.get(W);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=W,ye===oe?void 0:ye),options:z}),this.instances.set(W,ne),this.instancesOptions.set(W,z),this.invokeOnInitCallbacks(ne,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ne)}catch(qe){}var ye;return ne||null}normalizeInstanceIdentifier(W=oe){return this.component?this.component.multipleInstances?W:oe:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const z=this.getProvider(W.name);if(z.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);z.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const z=new se(W,this);return this.providers.set(W,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,Ie,F)=>{F.d(Ie,{in:()=>H,Yd:()=>re,Ub:()=>he,Am:()=>ye});const c=[];var H=(()=>{return(W=H||(H={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",H;var W})();const k={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},oe=H.INFO,se={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},_e=(W,z,...ne)=>{if(z<W.logLevel)return;const qe=(new Date).toISOString(),Oe=se[z];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Oe](`[${qe}]  ${W.name}:`,...ne)};class re{constructor(z){this.name=z,this._logLevel=oe,this._logHandler=_e,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in H))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?k[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...z),this._logHandler(this,H.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...z),this._logHandler(this,H.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,H.INFO,...z),this._logHandler(this,H.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,H.WARN,...z),this._logHandler(this,H.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...z),this._logHandler(this,H.ERROR,...z)}}function he(W){c.forEach(z=>{z.setLogLevel(W)})}function ye(W,z){for(const ne of c){let qe=null;z&&z.level&&(qe=k[z.level]),ne.userLogHandler=null===W?null:(Oe,Ne,...je)=>{const we=je.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(nt){return null}}).filter(De=>De).join(" ");Ne>=(null!=qe?qe:Oe.logLevel)&&W({level:H[Ne].toLowerCase(),message:we,args:je,type:Oe.name})}}}},5861:(ct,Ie,F)=>{function c(k,oe,se,_e,re,he,ye){try{var W=k[he](ye),z=W.value}catch(ne){return void se(ne)}W.done?oe(z):Promise.resolve(z).then(_e,re)}function H(k){return function(){var oe=this,se=arguments;return new Promise(function(_e,re){var he=k.apply(oe,se);function ye(z){c(he,_e,re,ye,W,"next",z)}function W(z){c(he,_e,re,ye,W,"throw",z)}ye(void 0)})}}F.d(Ie,{Z:()=>H})}},ct=>{ct(ct.s=860)}]);