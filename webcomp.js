(()=>{"use strict";var e,v={},h={};function r(e){var n=h[e];if(void 0!==n)return n.exports;var t=h[e]={id:e,loaded:!1,exports:{}};return v[e](t,t.exports,r),t.loaded=!0,t.exports}r.m=v,e=[],r.O=(n,t,o,u)=>{if(!t){var a=1/0;for(i=0;i<e.length;i++){for(var[t,o,u]=e[i],l=!0,f=0;f<t.length;f++)(!1&u||a>=u)&&Object.keys(r.O).every(b=>r.O[b](t[f]))?t.splice(f--,1):(l=!1,u<a&&(a=u));if(l){e.splice(i--,1);var s=o();void 0!==s&&(n=s)}}return n}u=u||0;for(var i=e.length;i>0&&e[i-1][2]>u;i--)e[i]=e[i-1];e[i]=[t,o,u]},r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((n,t)=>(r.f[t](e,n),n),[])),r.u=e=>e+".js",r.miniCssF=e=>{},r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={},n="chat-pop-up:";r.l=(t,o,u,i)=>{if(e[t])e[t].push(o);else{var a,l;if(void 0!==u)for(var f=document.getElementsByTagName("script"),s=0;s<f.length;s++){var d=f[s];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==n+u){a=d;break}}a||(l=!0,(a=document.createElement("script")).type="module",a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",n+u),a.src=r.tu(t)),e[t]=[o];var c=(g,b)=>{a.onerror=a.onload=null,clearTimeout(p);var _=e[t];if(delete e[t],a.parentNode&&a.parentNode.removeChild(a),_&&_.forEach(m=>m(b)),g)return g(b)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=c.bind(null,a.onerror),a.onload=c.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.tt=()=>(void 0===e&&(e={createScriptURL:n=>n},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("angular#bundler",e))),e)})(),r.tu=e=>r.tt().createScriptURL(e),r.p="",(()=>{var e={666:0};r.f.j=(o,u)=>{var i=r.o(e,o)?e[o]:void 0;if(0!==i)if(i)u.push(i[2]);else if(666!=o){var a=new Promise((d,c)=>i=e[o]=[d,c]);u.push(i[2]=a);var l=r.p+r.u(o),f=new Error;r.l(l,d=>{if(r.o(e,o)&&(0!==(i=e[o])&&(e[o]=void 0),i)){var c=d&&("load"===d.type?"missing":d.type),p=d&&d.target&&d.target.src;f.message="Loading chunk "+o+" failed.\n("+c+": "+p+")",f.name="ChunkLoadError",f.type=c,f.request=p,i[1](f)}},"chunk-"+o,o)}else e[o]=0},r.O.j=o=>0===e[o];var n=(o,u)=>{var f,s,[i,a,l]=u,d=0;if(i.some(p=>0!==e[p])){for(f in a)r.o(a,f)&&(r.m[f]=a[f]);if(l)var c=l(r)}for(o&&o(u);d<i.length;d++)r.o(e,s=i[d])&&e[s]&&e[s][0](),e[s]=0;return r.O(c)},t=self.webpackChunkchat_pop_up=self.webpackChunkchat_pop_up||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})()})();
(self.webpackChunkchat_pop_up=self.webpackChunkchat_pop_up||[]).push([[429],{7435:(K,ye,B)=>{"use strict";B(8583),B(757)},757:()=>{!function(K,ye){"use strict";var B=K.document,Ee=K.Object,Et=function(e){var C,U,te,G,o=/^[A-Z]+[a-z]/,d=function(le,J){(J=J.toLowerCase())in h||(h[le]=(h[le]||[]).concat(J),h[J]=h[J.toUpperCase()]=le)},h=(Ee.create||Ee)(null),g={};for(U in e)for(G in e[U])for(h[G]=te=e[U][G],C=0;C<te.length;C++)h[te[C].toLowerCase()]=h[te[C].toUpperCase()]=G;return g.get=function(J){return"string"==typeof J?h[J]||(o.test(J)?[]:""):function(le){var ge,J=[];for(ge in h)le.test(ge)&&J.push(ge);return J}(J)},g.set=function(J,ge){return o.test(J)?d(J,ge):d(ge,J),g},g}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof ye&&(ye={type:ye||"auto"});var W,q,v,Y,_,j,A,ae,Te,e,o,l,d,h,we="registerElement",ke="__"+we+(1e5*K.Math.random()>>0),Le="addEventListener",Me="attached",me="Callback",ue="detached",Re="extends",Pe="attributeChanged"+me,X="connected"+me,$e="disconnected"+me,De="created"+me,nt="ADDITION",Je="MODIFICATION",at="REMOVAL",Ze="DOMAttrModified",lt="DOMContentLoaded",ot=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,Tt=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],je=[],Xe=[],re="",Ae=B.documentElement,he=je.indexOf||function(e){for(var o=this.length;o--&&this[o]!==e;);return o},ut=Ee.prototype,Ce=ut.hasOwnProperty,et=ut.isPrototypeOf,Se=Ee.defineProperty,ft=[],st=Ee.getOwnPropertyDescriptor,Ue=Ee.getOwnPropertyNames,pt=Ee.getPrototypeOf,ve=Ee.setPrototypeOf,ht=!!Ee.__proto__,ze="__dreCEv1",Ne=K.customElements,Ke=!/^force/.test(ye.type)&&!!(Ne&&Ne.define&&Ne.get&&Ne.whenDefined),dt=Ee.create||Ee,gt=K.Map||function(){var d,o=[],l=[];return{get:function(h){return l[he.call(o,h)]},set:function(h,g){(d=he.call(o,h))<0?l[o.push(h)-1]=g:l[d]=g}}},_t=K.Promise||function(e){var o=[],l=!1,d={catch:function(){return d},then:function(g){return o.push(g),l&&setTimeout(h,1),d}};function h(g){for(l=!0;o.length;)o.shift()(g)}return e(h),d},tt=!1,Ye=dt(null),Ve=dt(null),it=new gt,Ge=function(e){return e.toLowerCase()},Fe=Ee.create||function e(o){return o?(e.prototype=o,new e):this},yt=ve||(ht?function(e,o){return e.__proto__=o,e}:Ue&&st?function(){function e(o,l){for(var d,h=Ue(l),g=0,C=h.length;g<C;g++)Ce.call(o,d=h[g])||Se(o,d,st(l,d))}return function(o,l){do{e(o,l)}while((l=pt(l))&&!et.call(l,o));return o}}():function(e,o){for(var l in o)e[l]=o[l];return e}),We=K.MutationObserver||K.WebKitMutationObserver,_e=(K.HTMLElement||K.Element||K.Node).prototype,t=!et.call(_e,Ae),r=t?function(e,o,l){return e[o]=l.value,e}:Se,a=t?function(e){return 1===e.nodeType}:function(e){return et.call(_e,e)},i=t&&[],u=_e.attachShadow,f=_e.cloneNode,b=_e.dispatchEvent,p=_e.getAttribute,N=_e.hasAttribute,D=_e.removeAttribute,L=_e.setAttribute,V=B.createElement,Z=V,F=We&&{attributes:!0,characterData:!0,attributeOldValue:!0},$=We||function(e){se=!1,Ae.removeEventListener(Ze,$)},ce=0,oe=we in B&&!/^force-all/.test(ye.type),w=!0,y=!1,se=!0,z=!0,ne=!0;function ie(){var e=W.splice(0,W.length);for(ce=0;e.length;)e.shift().call(null,e.shift())}function Q(e,o){for(var l=0,d=e.length;l<d;l++)T(e[l],o)}function pe(e){return function(o){a(o)&&(T(o,e),re.length&&Q(o.querySelectorAll(re),e))}}function ee(e){var o=p.call(e,"is"),l=e.nodeName.toUpperCase(),d=he.call(je,o?"="+o.toUpperCase():"<"+l);return o&&-1<d&&!x(l,o)?-1:d}function x(e,o){return-1<re.indexOf(e+'[is="'+o+'"]')}function k(e){var o=e.currentTarget,l=e.attrChange,d=e.attrName,h=e.target,g=e[nt]||2,C=e[at]||3;ne&&(!h||h===o)&&o[Pe]&&"style"!==d&&(e.prevValue!==e.newValue||""===e.newValue&&(l===g||l===C))&&o[Pe](d,l===g?null:e.prevValue,l===C?null:e.newValue)}function n(e){var o=pe(e);return function(l){W.push(o,l.target),ce&&clearTimeout(ce),ce=setTimeout(ie,1)}}function s(e){z&&(z=!1,e.currentTarget.removeEventListener(lt,s)),re.length&&Q((e.target||B).querySelectorAll(re),e.detail===ue?ue:Me),t&&function de(){for(var e,o=0,l=i.length;o<l;o++)Ae.contains(e=i[o])||(l--,i.splice(o--,1),T(e,ue))}()}function P(e,o){var l=this;L.call(l,e,o),q.call(l,{target:l})}function R(e,o){yt(e,o),_?_.observe(e,F):(se&&(e.setAttribute=P,e[ke]=Y(e),e[Le]("DOMSubtreeModified",q)),e[Le](Ze,k)),e[De]&&ne&&(e.created=!0,e[De](),e.created=!1)}function E(e){throw new Error("A "+e+" type is already registered")}function T(e,o){var l,h,d=ee(e);-1<d&&(A(e,Xe[d]),d=0,o!==Me||e[Me]?o===ue&&!e[ue]&&(e[Me]=!1,e[ue]=!0,h="disconnected",d=1):(e[ue]=!1,e[Me]=!0,h="connected",d=1,t&&he.call(i,e)<0&&i.push(e)),d&&(l=e[o+me]||e[h+me])&&l.call(e))}function c(){}function m(e,o,l){var d=l&&l[Re]||"",h=o.prototype,g=Fe(h),C=o.observedAttributes||ft,U={prototype:g};r(g,De,{value:function(){if(tt)tt=!1;else if(!this[ze]){this[ze]=!0,new o(this),h[De]&&h[De].call(this);var te=Ye[it.get(o)];(!Ke||te.create.length>1)&&M(this)}}}),r(g,Pe,{value:function(te){-1<he.call(C,te)&&h[Pe].apply(this,arguments)}}),h[X]&&r(g,"attachedCallback",{value:h[X]}),h[$e]&&r(g,"detachedCallback",{value:h[$e]}),d&&(U[Re]=d),e=e.toUpperCase(),Ye[e]={constructor:o,create:d?[d,Ge(e)]:[e]},it.set(o,e),B[we](e.toLowerCase(),U),S(e),Ve[e].r()}function O(e){var o=Ye[e.toUpperCase()];return o&&o.constructor}function H(e){return"string"==typeof e?e:e&&e.is||""}function M(e){for(var h,o=e[Pe],l=o?e.attributes:ft,d=l.length;d--;)o.call(e,(h=l[d]).name||h.nodeName,null,h.value||h.nodeValue)}function S(e){return(e=e.toUpperCase())in Ve||(Ve[e]={},Ve[e].p=new _t(function(o){Ve[e].r=o})),Ve[e].p}function I(){Ne&&delete K.customElements,Se(K,"customElements",{configurable:!0,value:new c}),Se(K,"CustomElementRegistry",{configurable:!0,value:c});for(var e=function(d){var h=K[d];if(h){K[d]=function(C){var U,te;return C||(C=this),C[ze]||(tt=!0,U=Ye[it.get(C.constructor)],(C=(te=Ke&&1===U.create.length)?Reflect.construct(h,ft,U.constructor):B.createElement.apply(B,U.create))[ze]=!0,tt=!1,te||M(C)),C},K[d].prototype=h.prototype;try{h.prototype.constructor=K[d]}catch(g){Se(h,ze,{value:K[d]})}}},o=Et.get(/^HTML[A-Z]*[a-z]/),l=o.length;l--;e(o[l]));B.createElement=function(d,h){var g=H(h);return g?Z.call(this,d,Ge(g)):Z.call(this,d)},oe||(y=!0,B[we](""))}if(We&&((Te=B.createElement("div")).innerHTML="<div><div></div></div>",new We(function(e,o){if(e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length){var l=(Te=st(_e,"innerHTML"))&&Te.set;l&&Se(_e,"innerHTML",{set:function(d){for(;this.lastChild;)this.removeChild(this.lastChild);l.call(this,d)}})}o.disconnect(),Te=null}).observe(Te,{childList:!0,subtree:!0}),Te.innerHTML=""),oe||(ve||ht?(A=function(e,o){et.call(o,e)||R(e,o)},ae=R):(A=function(e,o){e[ke]||(e[ke]=Ee(!0),R(e,o))},ae=A),t?(se=!1,e=st(_e,Le),o=e.value,l=function(g){var C=new CustomEvent(Ze,{bubbles:!0});C.attrName=g,C.prevValue=p.call(this,g),C.newValue=null,C[at]=C.attrChange=2,D.call(this,g),b.call(this,C)},d=function(g,C){var U=N.call(this,g),te=U&&p.call(this,g),G=new CustomEvent(Ze,{bubbles:!0});L.call(this,g,C),G.attrName=g,G.prevValue=U?te:null,G.newValue=C,U?G[Je]=G.attrChange=1:G[nt]=G.attrChange=0,b.call(this,G)},h=function(g){var G,C=g.currentTarget,U=C[ke],te=g.propertyName;U.hasOwnProperty(te)&&(U=U[te],(G=new CustomEvent(Ze,{bubbles:!0})).attrName=U.name,G.prevValue=U.value||null,G.newValue=U.value=C[te]||null,null==G.prevValue?G[nt]=G.attrChange=0:G[Je]=G.attrChange=1,b.call(C,G))},e.value=function(g,C,U){g===Ze&&this[Pe]&&this.setAttribute!==d&&(this[ke]={className:{name:"class",value:this.className}},this.setAttribute=d,this.removeAttribute=l,o.call(this,"propertychange",h)),o.call(this,g,C,U)},Se(_e,Le,e)):We||(Ae[Le](Ze,$),Ae.setAttribute(ke,1),Ae.removeAttribute(ke),se&&(q=function(e){var l,d,h,o=this;if(o===e.target){for(h in l=o[ke],o[ke]=d=Y(o),d){if(!(h in l))return v(0,o,h,l[h],d[h],nt);if(d[h]!==l[h])return v(1,o,h,l[h],d[h],Je)}for(h in l)if(!(h in d))return v(2,o,h,l[h],d[h],at)}},v=function(e,o,l,d,h,g){var C={attrChange:e,currentTarget:o,attrName:l,prevValue:d,newValue:h};C[g]=e,k(C)},Y=function(e){for(var o,l,d={},h=e.attributes,g=0,C=h.length;g<C;g++)"setAttribute"!==(l=(o=h[g]).name)&&(d[l]=o.value);return d})),B[we]=function(o,l){if(U=o.toUpperCase(),w&&(w=!1,We?(_=function(G,le){function J(ge,be){for(var xe=0,Ie=ge.length;xe<Ie;be(ge[xe++]));}return new We(function(ge){for(var be,xe,Ie,He=0,qe=ge.length;He<qe;He++)"childList"===(be=ge[He]).type?(J(be.addedNodes,G),J(be.removedNodes,le)):(xe=be.target,ne&&xe[Pe]&&"style"!==be.attributeName&&(Ie=p.call(xe,be.attributeName))!==be.oldValue&&xe[Pe](be.attributeName,be.oldValue,Ie))})}(pe(Me),pe(ue)),(j=function(G){return _.observe(G,{childList:!0,subtree:!0}),G})(B),u&&(_e.attachShadow=function(){return j(u.apply(this,arguments))})):(W=[],B[Le]("DOMNodeInserted",n(Me)),B[Le]("DOMNodeRemoved",n(ue))),B[Le](lt,s),B[Le]("readystatechange",s),_e.cloneNode=function(G){var le=f.call(this,!!G),J=ee(le);return-1<J&&ae(le,Xe[J]),G&&re.length&&function Oe(e){for(var d,o=0,l=e.length;o<l;o++)ae(d=e[o],Xe[ee(d)])}(le.querySelectorAll(re)),le}),y)return y=!1;if(-2<he.call(je,"="+U)+he.call(je,"<"+U)&&E(o),!ot.test(U)||-1<he.call(Tt,U))throw new Error("The type "+o+" is invalid");var U,te,d=function(){return g?B.createElement(C,U):B.createElement(C)},h=l||ut,g=Ce.call(h,Re),C=g?l[Re].toUpperCase():U;return g&&-1<he.call(je,"<"+C)&&E(C),te=je.push((g?"=":"<")+U)-1,re=re.concat(re.length?",":"",g?C+'[is="'+o.toLowerCase()+'"]':C),d.prototype=Xe[te]=Ce.call(h,"prototype")?h.prototype:Fe(_e),re.length&&Q(B.querySelectorAll(re),Me),d},B.createElement=Z=function(e,o){var l=H(o),d=l?V.call(B,e,Ge(l)):V.call(B,e),h=""+e,g=he.call(je,(l?"=":"<")+(l||h).toUpperCase()),C=-1<g;return l&&(d.setAttribute("is",l=l.toLowerCase()),C&&(C=x(h.toUpperCase(),l))),ne=!B.createElement.innerHTMLHelper,C&&ae(d,Xe[g]),d}),c.prototype={constructor:c,define:Ke?function(e,o,l){if(l)m(e,o,l);else{var d=e.toUpperCase();Ye[d]={constructor:o,create:[d]},it.set(o,d),Ne.define(e,o)}}:m,get:Ke?function(e){return Ne.get(e)||O(e)}:O,whenDefined:Ke?function(e){return _t.race([Ne.whenDefined(e),S(e)])}:S},!Ne||/^force/.test(ye.type))I();else if(!ye.noBuiltIn)try{!function(e,o,l){if(o[Re]="a",(e.prototype=Fe(HTMLAnchorElement.prototype)).constructor=e,K.customElements.define(l,e,o),p.call(B.createElement("a",{is:l}),"is")!==l||Ke&&p.call(new e,"is")!==l)throw o}(function e(){return Reflect.construct(HTMLAnchorElement,[],e)},{},"document-register-element-a")}catch(e){I()}if(!ye.noBuiltIn)try{V.call(B,"a","a")}catch(e){Ge=function(o){return{is:o.toLowerCase()}}}}(window)},8583:()=>{"use strict";!function(t){const r=t.performance;function a(x){r&&r.mark&&r.mark(x)}function i(x,k){r&&r.measure&&r.measure(x,k)}a("Zone");const u=t.__Zone_symbol_prefix||"__zone_symbol__";function f(x){return u+x}const b=!0===t[f("forceDuplicateZoneCheck")];if(t.Zone){if(b||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}let p=(()=>{class x{constructor(n,s){this._parent=n,this._name=s?s.name||"unnamed":"<root>",this._properties=s&&s.properties||{},this._zoneDelegate=new D(this,this._parent&&this._parent._zoneDelegate,s)}static assertZonePatched(){if(t.Promise!==Te.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let n=x.current;for(;n.parent;)n=n.parent;return n}static get current(){return Q.zone}static get currentTask(){return Oe}static __load_patch(n,s,P=!1){if(Te.hasOwnProperty(n)){if(!P&&b)throw Error("Already loaded patch: "+n)}else if(!t["__Zone_disable_"+n]){const R="Zone:"+n;a(R),Te[n]=s(t,x,ie),i(R,R)}}get parent(){return this._parent}get name(){return this._name}get(n){const s=this.getZoneWith(n);if(s)return s._properties[n]}getZoneWith(n){let s=this;for(;s;){if(s._properties.hasOwnProperty(n))return s;s=s._parent}return null}fork(n){if(!n)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,n)}wrap(n,s){if("function"!=typeof n)throw new Error("Expecting function got: "+n);const P=this._zoneDelegate.intercept(this,n,s),R=this;return function(){return R.runGuarded(P,this,arguments,s)}}run(n,s,P,R){Q={parent:Q,zone:this};try{return this._zoneDelegate.invoke(this,n,s,P,R)}finally{Q=Q.parent}}runGuarded(n,s=null,P,R){Q={parent:Q,zone:this};try{try{return this._zoneDelegate.invoke(this,n,s,P,R)}catch(de){if(this._zoneDelegate.handleError(this,de))throw de}}finally{Q=Q.parent}}runTask(n,s,P){if(n.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(n.zone||se).name+"; Execution: "+this.name+")");if(n.state===z&&(n.type===ae||n.type===A))return;const R=n.state!=v;R&&n._transitionTo(v,q),n.runCount++;const de=Oe;Oe=n,Q={parent:Q,zone:this};try{n.type==A&&n.data&&!n.data.isPeriodic&&(n.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,n,s,P)}catch(E){if(this._zoneDelegate.handleError(this,E))throw E}}finally{n.state!==z&&n.state!==_&&(n.type==ae||n.data&&n.data.isPeriodic?R&&n._transitionTo(q,v):(n.runCount=0,this._updateTaskCount(n,-1),R&&n._transitionTo(z,v,z))),Q=Q.parent,Oe=de}}scheduleTask(n){if(n.zone&&n.zone!==this){let P=this;for(;P;){if(P===n.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${n.zone.name}`);P=P.parent}}n._transitionTo(ne,z);const s=[];n._zoneDelegates=s,n._zone=this;try{n=this._zoneDelegate.scheduleTask(this,n)}catch(P){throw n._transitionTo(_,ne,z),this._zoneDelegate.handleError(this,P),P}return n._zoneDelegates===s&&this._updateTaskCount(n,1),n.state==ne&&n._transitionTo(q,ne),n}scheduleMicroTask(n,s,P,R){return this.scheduleTask(new L(j,n,s,P,R,void 0))}scheduleMacroTask(n,s,P,R,de){return this.scheduleTask(new L(A,n,s,P,R,de))}scheduleEventTask(n,s,P,R,de){return this.scheduleTask(new L(ae,n,s,P,R,de))}cancelTask(n){if(n.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(n.zone||se).name+"; Execution: "+this.name+")");n._transitionTo(Y,q,v);try{this._zoneDelegate.cancelTask(this,n)}catch(s){throw n._transitionTo(_,Y),this._zoneDelegate.handleError(this,s),s}return this._updateTaskCount(n,-1),n._transitionTo(z,Y),n.runCount=0,n}_updateTaskCount(n,s){const P=n._zoneDelegates;-1==s&&(n._zoneDelegates=null);for(let R=0;R<P.length;R++)P[R]._updateTaskCount(n.type,s)}}return x.__symbol__=f,x})();const N={name:"",onHasTask:(x,k,n,s)=>x.hasTask(n,s),onScheduleTask:(x,k,n,s)=>x.scheduleTask(n,s),onInvokeTask:(x,k,n,s,P,R)=>x.invokeTask(n,s,P,R),onCancelTask:(x,k,n,s)=>x.cancelTask(n,s)};class D{constructor(k,n,s){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=k,this._parentDelegate=n,this._forkZS=s&&(s&&s.onFork?s:n._forkZS),this._forkDlgt=s&&(s.onFork?n:n._forkDlgt),this._forkCurrZone=s&&(s.onFork?this.zone:n._forkCurrZone),this._interceptZS=s&&(s.onIntercept?s:n._interceptZS),this._interceptDlgt=s&&(s.onIntercept?n:n._interceptDlgt),this._interceptCurrZone=s&&(s.onIntercept?this.zone:n._interceptCurrZone),this._invokeZS=s&&(s.onInvoke?s:n._invokeZS),this._invokeDlgt=s&&(s.onInvoke?n:n._invokeDlgt),this._invokeCurrZone=s&&(s.onInvoke?this.zone:n._invokeCurrZone),this._handleErrorZS=s&&(s.onHandleError?s:n._handleErrorZS),this._handleErrorDlgt=s&&(s.onHandleError?n:n._handleErrorDlgt),this._handleErrorCurrZone=s&&(s.onHandleError?this.zone:n._handleErrorCurrZone),this._scheduleTaskZS=s&&(s.onScheduleTask?s:n._scheduleTaskZS),this._scheduleTaskDlgt=s&&(s.onScheduleTask?n:n._scheduleTaskDlgt),this._scheduleTaskCurrZone=s&&(s.onScheduleTask?this.zone:n._scheduleTaskCurrZone),this._invokeTaskZS=s&&(s.onInvokeTask?s:n._invokeTaskZS),this._invokeTaskDlgt=s&&(s.onInvokeTask?n:n._invokeTaskDlgt),this._invokeTaskCurrZone=s&&(s.onInvokeTask?this.zone:n._invokeTaskCurrZone),this._cancelTaskZS=s&&(s.onCancelTask?s:n._cancelTaskZS),this._cancelTaskDlgt=s&&(s.onCancelTask?n:n._cancelTaskDlgt),this._cancelTaskCurrZone=s&&(s.onCancelTask?this.zone:n._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const P=s&&s.onHasTask;(P||n&&n._hasTaskZS)&&(this._hasTaskZS=P?s:N,this._hasTaskDlgt=n,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=k,s.onScheduleTask||(this._scheduleTaskZS=N,this._scheduleTaskDlgt=n,this._scheduleTaskCurrZone=this.zone),s.onInvokeTask||(this._invokeTaskZS=N,this._invokeTaskDlgt=n,this._invokeTaskCurrZone=this.zone),s.onCancelTask||(this._cancelTaskZS=N,this._cancelTaskDlgt=n,this._cancelTaskCurrZone=this.zone))}fork(k,n){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,k,n):new p(k,n)}intercept(k,n,s){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,k,n,s):n}invoke(k,n,s,P,R){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,k,n,s,P,R):n.apply(s,P)}handleError(k,n){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,k,n)}scheduleTask(k,n){let s=n;if(this._scheduleTaskZS)this._hasTaskZS&&s._zoneDelegates.push(this._hasTaskDlgtOwner),s=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,k,n),s||(s=n);else if(n.scheduleFn)n.scheduleFn(n);else{if(n.type!=j)throw new Error("Task is missing scheduleFn.");w(n)}return s}invokeTask(k,n,s,P){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,k,n,s,P):n.callback.apply(s,P)}cancelTask(k,n){let s;if(this._cancelTaskZS)s=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,k,n);else{if(!n.cancelFn)throw Error("Task is not cancelable");s=n.cancelFn(n)}return s}hasTask(k,n){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,k,n)}catch(s){this.handleError(k,s)}}_updateTaskCount(k,n){const s=this._taskCounts,P=s[k],R=s[k]=P+n;if(R<0)throw new Error("More tasks executed then were scheduled.");0!=P&&0!=R||this.hasTask(this.zone,{microTask:s.microTask>0,macroTask:s.macroTask>0,eventTask:s.eventTask>0,change:k})}}class L{constructor(k,n,s,P,R,de){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=k,this.source=n,this.data=P,this.scheduleFn=R,this.cancelFn=de,!s)throw new Error("callback is not defined");this.callback=s;const E=this;this.invoke=k===ae&&P&&P.useG?L.invokeTask:function(){return L.invokeTask.call(t,E,this,arguments)}}static invokeTask(k,n,s){k||(k=this),pe++;try{return k.runCount++,k.zone.runTask(k,n,s)}finally{1==pe&&y(),pe--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(z,ne)}_transitionTo(k,n,s){if(this._state!==n&&this._state!==s)throw new Error(`${this.type} '${this.source}': can not transition to '${k}', expecting state '${n}'${s?" or '"+s+"'":""}, was '${this._state}'.`);this._state=k,k==z&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const V=f("setTimeout"),Z=f("Promise"),F=f("then");let ce,$=[],W=!1;function oe(x){if(ce||t[Z]&&(ce=t[Z].resolve(0)),ce){let k=ce[F];k||(k=ce.then),k.call(ce,x)}else t[V](x,0)}function w(x){0===pe&&0===$.length&&oe(y),x&&$.push(x)}function y(){if(!W){for(W=!0;$.length;){const x=$;$=[];for(let k=0;k<x.length;k++){const n=x[k];try{n.zone.runTask(n,null,null)}catch(s){ie.onUnhandledError(s)}}}ie.microtaskDrainDone(),W=!1}}const se={name:"NO ZONE"},z="notScheduled",ne="scheduling",q="scheduled",v="running",Y="canceling",_="unknown",j="microTask",A="macroTask",ae="eventTask",Te={},ie={symbol:f,currentZoneFrame:()=>Q,onUnhandledError:ee,microtaskDrainDone:ee,scheduleMicroTask:w,showUncaughtError:()=>!p[f("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:ee,patchMethod:()=>ee,bindArguments:()=>[],patchThen:()=>ee,patchMacroTask:()=>ee,patchEventPrototype:()=>ee,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>ee,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>ee,wrapWithCurrentZone:()=>ee,filterProperties:()=>[],attachOriginToPatched:()=>ee,_redefineProperty:()=>ee,patchCallbacks:()=>ee,nativeScheduleMicroTask:oe};let Q={parent:null,zone:new p(null,null)},Oe=null,pe=0;function ee(){}i("Zone","Zone"),t.Zone=p}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const K=Object.getOwnPropertyDescriptor,ye=Object.defineProperty,B=Object.getPrototypeOf,Ee=Object.create,Et=Array.prototype.slice,we="addEventListener",ke="removeEventListener",Le=Zone.__symbol__(we),Me=Zone.__symbol__(ke),me="true",ue="false",Re=Zone.__symbol__("");function Pe(t,r){return Zone.current.wrap(t,r)}function ct(t,r,a,i,u){return Zone.current.scheduleMacroTask(t,r,a,i,u)}const X=Zone.__symbol__,$e="undefined"!=typeof window,De=$e?window:void 0,fe=$e&&De||"object"==typeof self&&self||global;function Je(t,r){for(let a=t.length-1;a>=0;a--)"function"==typeof t[a]&&(t[a]=Pe(t[a],r+"_"+a));return t}function Ze(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}const lt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,rt=!("nw"in fe)&&void 0!==fe.process&&"[object process]"==={}.toString.call(fe.process),Be=!rt&&!lt&&!(!$e||!De.HTMLElement),Qe=void 0!==fe.process&&"[object process]"==={}.toString.call(fe.process)&&!lt&&!(!$e||!De.HTMLElement),ot={},Tt=function(t){if(!(t=t||fe.event))return;let r=ot[t.type];r||(r=ot[t.type]=X("ON_PROPERTY"+t.type));const a=this||t.target||fe,i=a[r];let u;if(Be&&a===De&&"error"===t.type){const f=t;u=i&&i.call(this,f.message,f.filename,f.lineno,f.colno,f.error),!0===u&&t.preventDefault()}else u=i&&i.apply(this,arguments),null!=u&&!u&&t.preventDefault();return u};function je(t,r,a){let i=K(t,r);if(!i&&a&&K(a,r)&&(i={enumerable:!0,configurable:!0}),!i||!i.configurable)return;const u=X("on"+r+"patched");if(t.hasOwnProperty(u)&&t[u])return;delete i.writable,delete i.value;const f=i.get,b=i.set,p=r.substr(2);let N=ot[p];N||(N=ot[p]=X("ON_PROPERTY"+p)),i.set=function(D){let L=this;!L&&t===fe&&(L=fe),L&&("function"==typeof L[N]&&L.removeEventListener(p,Tt),b&&b.call(L,null),L[N]=D,"function"==typeof D&&L.addEventListener(p,Tt,!1))},i.get=function(){let D=this;if(!D&&t===fe&&(D=fe),!D)return null;const L=D[N];if(L)return L;if(f){let V=f.call(this);if(V)return i.set.call(this,V),"function"==typeof D.removeAttribute&&D.removeAttribute(r),V}return null},ye(t,r,i),t[u]=!0}function Xe(t,r,a){if(r)for(let i=0;i<r.length;i++)je(t,"on"+r[i],a);else{const i=[];for(const u in t)"on"==u.substr(0,2)&&i.push(u);for(let u=0;u<i.length;u++)je(t,i[u],a)}}const re=X("originalInstance");function Ae(t){const r=fe[t];if(!r)return;fe[X(t)]=r,fe[t]=function(){const u=Je(arguments,t);switch(u.length){case 0:this[re]=new r;break;case 1:this[re]=new r(u[0]);break;case 2:this[re]=new r(u[0],u[1]);break;case 3:this[re]=new r(u[0],u[1],u[2]);break;case 4:this[re]=new r(u[0],u[1],u[2],u[3]);break;default:throw new Error("Arg list too long.")}},Ce(fe[t],r);const a=new r(function(){});let i;for(i in a)"XMLHttpRequest"===t&&"responseBlob"===i||function(u){"function"==typeof a[u]?fe[t].prototype[u]=function(){return this[re][u].apply(this[re],arguments)}:ye(fe[t].prototype,u,{set:function(f){"function"==typeof f?(this[re][u]=Pe(f,t+"."+u),Ce(this[re][u],f)):this[re][u]=f},get:function(){return this[re][u]}})}(i);for(i in r)"prototype"!==i&&r.hasOwnProperty(i)&&(fe[t][i]=r[i])}function he(t,r,a){let i=t;for(;i&&!i.hasOwnProperty(r);)i=B(i);!i&&t[r]&&(i=t);const u=X(r);let f=null;if(i&&(!(f=i[u])||!i.hasOwnProperty(u))&&(f=i[u]=i[r],Ze(i&&K(i,r)))){const p=a(f,u,r);i[r]=function(){return p(this,arguments)},Ce(i[r],f)}return f}function ut(t,r,a){let i=null;function u(f){const b=f.data;return b.args[b.cbIdx]=function(){f.invoke.apply(this,arguments)},i.apply(b.target,b.args),f}i=he(t,r,f=>function(b,p){const N=a(b,p);return N.cbIdx>=0&&"function"==typeof p[N.cbIdx]?ct(N.name,p[N.cbIdx],N,u):f.apply(b,p)})}function Ce(t,r){t[X("OriginalDelegate")]=r}let et=!1,Se=!1;function st(){if(et)return Se;et=!0;try{const t=De.navigator.userAgent;(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/")||-1!==t.indexOf("Edge/"))&&(Se=!0)}catch(t){}return Se}Zone.__load_patch("ZoneAwarePromise",(t,r,a)=>{const i=Object.getOwnPropertyDescriptor,u=Object.defineProperty,b=a.symbol,p=[],N=!0===t[b("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],D=b("Promise"),L=b("then");a.onUnhandledError=E=>{if(a.showUncaughtError()){const T=E&&E.rejection;T?console.error("Unhandled Promise rejection:",T instanceof Error?T.message:T,"; Zone:",E.zone.name,"; Task:",E.task&&E.task.source,"; Value:",T,T instanceof Error?T.stack:void 0):console.error(E)}},a.microtaskDrainDone=()=>{for(;p.length;){const E=p.shift();try{E.zone.runGuarded(()=>{throw E.throwOriginal?E.rejection:E})}catch(T){F(T)}}};const Z=b("unhandledPromiseRejectionHandler");function F(E){a.onUnhandledError(E);try{const T=r[Z];"function"==typeof T&&T.call(this,E)}catch(T){}}function $(E){return E&&E.then}function W(E){return E}function ce(E){return n.reject(E)}const oe=b("state"),w=b("value"),y=b("finally"),se=b("parentPromiseValue"),z=b("parentPromiseState"),q=null,v=!0,Y=!1;function j(E,T){return c=>{try{ie(E,T,c)}catch(m){ie(E,!1,m)}}}const Te=b("currentTaskTrace");function ie(E,T,c){const m=function(){let E=!1;return function(c){return function(){E||(E=!0,c.apply(null,arguments))}}}();if(E===c)throw new TypeError("Promise resolved with itself");if(E[oe]===q){let O=null;try{("object"==typeof c||"function"==typeof c)&&(O=c&&c.then)}catch(H){return m(()=>{ie(E,!1,H)})(),E}if(T!==Y&&c instanceof n&&c.hasOwnProperty(oe)&&c.hasOwnProperty(w)&&c[oe]!==q)Oe(c),ie(E,c[oe],c[w]);else if(T!==Y&&"function"==typeof O)try{O.call(c,m(j(E,T)),m(j(E,!1)))}catch(H){m(()=>{ie(E,!1,H)})()}else{E[oe]=T;const H=E[w];if(E[w]=c,E[y]===y&&T===v&&(E[oe]=E[z],E[w]=E[se]),T===Y&&c instanceof Error){const M=r.currentTask&&r.currentTask.data&&r.currentTask.data.__creationTrace__;M&&u(c,Te,{configurable:!0,enumerable:!1,writable:!0,value:M})}for(let M=0;M<H.length;)pe(E,H[M++],H[M++],H[M++],H[M++]);if(0==H.length&&T==Y){E[oe]=0;let M=c;try{throw new Error("Uncaught (in promise): "+function f(E){return E&&E.toString===Object.prototype.toString?(E.constructor&&E.constructor.name||"")+": "+JSON.stringify(E):E?E.toString():Object.prototype.toString.call(E)}(c)+(c&&c.stack?"\n"+c.stack:""))}catch(S){M=S}N&&(M.throwOriginal=!0),M.rejection=c,M.promise=E,M.zone=r.current,M.task=r.currentTask,p.push(M),a.scheduleMicroTask()}}}return E}const Q=b("rejectionHandledHandler");function Oe(E){if(0===E[oe]){try{const T=r[Q];T&&"function"==typeof T&&T.call(this,{rejection:E[w],promise:E})}catch(T){}E[oe]=Y;for(let T=0;T<p.length;T++)E===p[T].promise&&p.splice(T,1)}}function pe(E,T,c,m,O){Oe(E);const H=E[oe],M=H?"function"==typeof m?m:W:"function"==typeof O?O:ce;T.scheduleMicroTask("Promise.then",()=>{try{const S=E[w],I=!!c&&y===c[y];I&&(c[se]=S,c[z]=H);const e=T.run(M,void 0,I&&M!==ce&&M!==W?[]:[S]);ie(c,!0,e)}catch(S){ie(c,!1,S)}},c)}const x=function(){},k=t.AggregateError;class n{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(T){return ie(new this(null),v,T)}static reject(T){return ie(new this(null),Y,T)}static any(T){if(!T||"function"!=typeof T[Symbol.iterator])return Promise.reject(new k([],"All promises were rejected"));const c=[];let m=0;try{for(let M of T)m++,c.push(n.resolve(M))}catch(M){return Promise.reject(new k([],"All promises were rejected"))}if(0===m)return Promise.reject(new k([],"All promises were rejected"));let O=!1;const H=[];return new n((M,S)=>{for(let I=0;I<c.length;I++)c[I].then(e=>{O||(O=!0,M(e))},e=>{H.push(e),m--,0===m&&(O=!0,S(new k(H,"All promises were rejected")))})})}static race(T){let c,m,O=new this((S,I)=>{c=S,m=I});function H(S){c(S)}function M(S){m(S)}for(let S of T)$(S)||(S=this.resolve(S)),S.then(H,M);return O}static all(T){return n.allWithCallback(T)}static allSettled(T){return(this&&this.prototype instanceof n?this:n).allWithCallback(T,{thenCallback:m=>({status:"fulfilled",value:m}),errorCallback:m=>({status:"rejected",reason:m})})}static allWithCallback(T,c){let m,O,H=new this((e,o)=>{m=e,O=o}),M=2,S=0;const I=[];for(let e of T){$(e)||(e=this.resolve(e));const o=S;try{e.then(l=>{I[o]=c?c.thenCallback(l):l,M--,0===M&&m(I)},l=>{c?(I[o]=c.errorCallback(l),M--,0===M&&m(I)):O(l)})}catch(l){O(l)}M++,S++}return M-=2,0===M&&m(I),H}constructor(T){const c=this;if(!(c instanceof n))throw new Error("Must be an instanceof Promise.");c[oe]=q,c[w]=[];try{T&&T(j(c,v),j(c,Y))}catch(m){ie(c,!1,m)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return n}then(T,c){let m=this.constructor[Symbol.species];(!m||"function"!=typeof m)&&(m=this.constructor||n);const O=new m(x),H=r.current;return this[oe]==q?this[w].push(H,O,T,c):pe(this,H,O,T,c),O}catch(T){return this.then(null,T)}finally(T){let c=this.constructor[Symbol.species];(!c||"function"!=typeof c)&&(c=n);const m=new c(x);m[y]=y;const O=r.current;return this[oe]==q?this[w].push(O,m,T,T):pe(this,O,m,T,T),m}}n.resolve=n.resolve,n.reject=n.reject,n.race=n.race,n.all=n.all;const s=t[D]=t.Promise;t.Promise=n;const P=b("thenPatched");function R(E){const T=E.prototype,c=i(T,"then");if(c&&(!1===c.writable||!c.configurable))return;const m=T.then;T[L]=m,E.prototype.then=function(O,H){return new n((S,I)=>{m.call(this,S,I)}).then(O,H)},E[P]=!0}return a.patchThen=R,s&&(R(s),he(t,"fetch",E=>function de(E){return function(T,c){let m=E.apply(T,c);if(m instanceof n)return m;let O=m.constructor;return O[P]||R(O),m}}(E))),Promise[r.__symbol__("uncaughtPromiseErrors")]=p,n}),Zone.__load_patch("toString",t=>{const r=Function.prototype.toString,a=X("OriginalDelegate"),i=X("Promise"),u=X("Error"),f=function(){if("function"==typeof this){const D=this[a];if(D)return"function"==typeof D?r.call(D):Object.prototype.toString.call(D);if(this===Promise){const L=t[i];if(L)return r.call(L)}if(this===Error){const L=t[u];if(L)return r.call(L)}}return r.call(this)};f[a]=r,Function.prototype.toString=f;const b=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":b.call(this)}});let Ue=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){Ue=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){Ue=!1}const pt={useG:!0},ve={},ht={},mt=new RegExp("^"+Re+"(\\w+)(true|false)$"),ze=X("propagationStopped");function Ne(t,r){const a=(r?r(t):t)+ue,i=(r?r(t):t)+me,u=Re+a,f=Re+i;ve[t]={},ve[t][ue]=u,ve[t][me]=f}function Ke(t,r,a,i){const u=i&&i.add||we,f=i&&i.rm||ke,b=i&&i.listeners||"eventListeners",p=i&&i.rmAll||"removeAllListeners",N=X(u),D="."+u+":",Z=function(w,y,se){if(w.isRemoved)return;const z=w.callback;let ne;"object"==typeof z&&z.handleEvent&&(w.callback=v=>z.handleEvent(v),w.originalDelegate=z);try{w.invoke(w,y,[se])}catch(v){ne=v}const q=w.options;return q&&"object"==typeof q&&q.once&&y[f].call(y,se.type,w.originalDelegate?w.originalDelegate:w.callback,q),ne};function F(w,y,se){if(!(y=y||t.event))return;const z=w||y.target||t,ne=z[ve[y.type][se?me:ue]];if(ne){const q=[];if(1===ne.length){const v=Z(ne[0],z,y);v&&q.push(v)}else{const v=ne.slice();for(let Y=0;Y<v.length&&(!y||!0!==y[ze]);Y++){const _=Z(v[Y],z,y);_&&q.push(_)}}if(1===q.length)throw q[0];for(let v=0;v<q.length;v++){const Y=q[v];r.nativeScheduleMicroTask(()=>{throw Y})}}}const $=function(w){return F(this,w,!1)},W=function(w){return F(this,w,!0)};function ce(w,y){if(!w)return!1;let se=!0;y&&void 0!==y.useG&&(se=y.useG);const z=y&&y.vh;let ne=!0;y&&void 0!==y.chkDup&&(ne=y.chkDup);let q=!1;y&&void 0!==y.rt&&(q=y.rt);let v=w;for(;v&&!v.hasOwnProperty(u);)v=B(v);if(!v&&w[u]&&(v=w),!v||v[N])return!1;const Y=y&&y.eventNameToString,_={},j=v[N]=v[u],A=v[X(f)]=v[f],ae=v[X(b)]=v[b],Te=v[X(p)]=v[p];let ie;function Q(c,m){return!Ue&&"object"==typeof c&&c?!!c.capture:Ue&&m?"boolean"==typeof c?{capture:c,passive:!0}:c?"object"==typeof c&&!1!==c.passive?Object.assign(Object.assign({},c),{passive:!0}):c:{passive:!0}:c}y&&y.prepend&&(ie=v[X(y.prepend)]=v[y.prepend]);const n=se?function(c){if(!_.isExisting)return j.call(_.target,_.eventName,_.capture?W:$,_.options)}:function(c){return j.call(_.target,_.eventName,c.invoke,_.options)},s=se?function(c){if(!c.isRemoved){const m=ve[c.eventName];let O;m&&(O=m[c.capture?me:ue]);const H=O&&c.target[O];if(H)for(let M=0;M<H.length;M++)if(H[M]===c){H.splice(M,1),c.isRemoved=!0,0===H.length&&(c.allRemoved=!0,c.target[O]=null);break}}if(c.allRemoved)return A.call(c.target,c.eventName,c.capture?W:$,c.options)}:function(c){return A.call(c.target,c.eventName,c.invoke,c.options)},R=y&&y.diff?y.diff:function(c,m){const O=typeof m;return"function"===O&&c.callback===m||"object"===O&&c.originalDelegate===m},de=Zone[X("UNPATCHED_EVENTS")],E=t[X("PASSIVE_EVENTS")],T=function(c,m,O,H,M=!1,S=!1){return function(){const I=this||t;let e=arguments[0];y&&y.transferEventName&&(e=y.transferEventName(e));let o=arguments[1];if(!o)return c.apply(this,arguments);if(rt&&"uncaughtException"===e)return c.apply(this,arguments);let l=!1;if("function"!=typeof o){if(!o.handleEvent)return c.apply(this,arguments);l=!0}if(z&&!z(c,o,I,arguments))return;const d=Ue&&!!E&&-1!==E.indexOf(e),h=Q(arguments[2],d);if(de)for(let qe=0;qe<de.length;qe++)if(e===de[qe])return d?c.call(I,e,o,h):c.apply(this,arguments);const g=!!h&&("boolean"==typeof h||h.capture),C=!(!h||"object"!=typeof h)&&h.once,U=Zone.current;let te=ve[e];te||(Ne(e,Y),te=ve[e]);const G=te[g?me:ue];let ge,le=I[G],J=!1;if(le){if(J=!0,ne)for(let qe=0;qe<le.length;qe++)if(R(le[qe],o))return}else le=I[G]=[];const be=I.constructor.name,xe=ht[be];xe&&(ge=xe[e]),ge||(ge=be+m+(Y?Y(e):e)),_.options=h,C&&(_.options.once=!1),_.target=I,_.capture=g,_.eventName=e,_.isExisting=J;const Ie=se?pt:void 0;Ie&&(Ie.taskData=_);const He=U.scheduleEventTask(ge,o,Ie,O,H);return _.target=null,Ie&&(Ie.taskData=null),C&&(h.once=!0),!Ue&&"boolean"==typeof He.options||(He.options=h),He.target=I,He.capture=g,He.eventName=e,l&&(He.originalDelegate=o),S?le.unshift(He):le.push(He),M?I:void 0}};return v[u]=T(j,D,n,s,q),ie&&(v.prependListener=T(ie,".prependListener:",function(c){return ie.call(_.target,_.eventName,c.invoke,_.options)},s,q,!0)),v[f]=function(){const c=this||t;let m=arguments[0];y&&y.transferEventName&&(m=y.transferEventName(m));const O=arguments[2],H=!!O&&("boolean"==typeof O||O.capture),M=arguments[1];if(!M)return A.apply(this,arguments);if(z&&!z(A,M,c,arguments))return;const S=ve[m];let I;S&&(I=S[H?me:ue]);const e=I&&c[I];if(e)for(let o=0;o<e.length;o++){const l=e[o];if(R(l,M))return e.splice(o,1),l.isRemoved=!0,0===e.length&&(l.allRemoved=!0,c[I]=null,"string"==typeof m)&&(c[Re+"ON_PROPERTY"+m]=null),l.zone.cancelTask(l),q?c:void 0}return A.apply(this,arguments)},v[b]=function(){const c=this||t;let m=arguments[0];y&&y.transferEventName&&(m=y.transferEventName(m));const O=[],H=dt(c,Y?Y(m):m);for(let M=0;M<H.length;M++){const S=H[M];O.push(S.originalDelegate?S.originalDelegate:S.callback)}return O},v[p]=function(){const c=this||t;let m=arguments[0];if(m){y&&y.transferEventName&&(m=y.transferEventName(m));const O=ve[m];if(O){const S=c[O[ue]],I=c[O[me]];if(S){const e=S.slice();for(let o=0;o<e.length;o++){const l=e[o];this[f].call(this,m,l.originalDelegate?l.originalDelegate:l.callback,l.options)}}if(I){const e=I.slice();for(let o=0;o<e.length;o++){const l=e[o];this[f].call(this,m,l.originalDelegate?l.originalDelegate:l.callback,l.options)}}}}else{const O=Object.keys(c);for(let H=0;H<O.length;H++){const S=mt.exec(O[H]);let I=S&&S[1];I&&"removeListener"!==I&&this[p].call(this,I)}this[p].call(this,"removeListener")}if(q)return this},Ce(v[u],j),Ce(v[f],A),Te&&Ce(v[p],Te),ae&&Ce(v[b],ae),!0}let oe=[];for(let w=0;w<a.length;w++)oe[w]=ce(a[w],i);return oe}function dt(t,r){if(!r){const f=[];for(let b in t){const p=mt.exec(b);let N=p&&p[1];if(N&&(!r||N===r)){const D=t[b];if(D)for(let L=0;L<D.length;L++)f.push(D[L])}}return f}let a=ve[r];a||(Ne(r),a=ve[r]);const i=t[a[ue]],u=t[a[me]];return i?u?i.concat(u):i.slice():u?u.slice():[]}function gt(t,r){const a=t.Event;a&&a.prototype&&r.patchMethod(a.prototype,"stopImmediatePropagation",i=>function(u,f){u[ze]=!0,i&&i.apply(u,f)})}function _t(t,r,a,i,u){const f=Zone.__symbol__(i);if(r[f])return;const b=r[f]=r[i];r[i]=function(p,N,D){return N&&N.prototype&&u.forEach(function(L){const V=`${a}.${i}::`+L,Z=N.prototype;if(Z.hasOwnProperty(L)){const F=t.ObjectGetOwnPropertyDescriptor(Z,L);F&&F.value?(F.value=t.wrapWithCurrentZone(F.value,V),t._redefineProperty(N.prototype,L,F)):Z[L]&&(Z[L]=t.wrapWithCurrentZone(Z[L],V))}else Z[L]&&(Z[L]=t.wrapWithCurrentZone(Z[L],V))}),b.call(r,p,N,D)},t.attachOriginToPatched(r[i],b)}function tt(t,r,a){if(!a||0===a.length)return r;const i=a.filter(f=>f.target===t);if(!i||0===i.length)return r;const u=i[0].ignoreProperties;return r.filter(f=>-1===u.indexOf(f))}function Ye(t,r,a,i){t&&Xe(t,tt(t,r,a),i)}function Ve(t){return Object.getOwnPropertyNames(t).filter(r=>r.startsWith("on")&&r.length>2).map(r=>r.substring(2))}Zone.__load_patch("util",(t,r,a)=>{const i=Ve(t);a.patchOnProperties=Xe,a.patchMethod=he,a.bindArguments=Je,a.patchMacroTask=ut;const u=r.__symbol__("BLACK_LISTED_EVENTS"),f=r.__symbol__("UNPATCHED_EVENTS");t[f]&&(t[u]=t[f]),t[u]&&(r[u]=r[f]=t[u]),a.patchEventPrototype=gt,a.patchEventTarget=Ke,a.isIEOrEdge=st,a.ObjectDefineProperty=ye,a.ObjectGetOwnPropertyDescriptor=K,a.ObjectCreate=Ee,a.ArraySlice=Et,a.patchClass=Ae,a.wrapWithCurrentZone=Pe,a.filterProperties=tt,a.attachOriginToPatched=Ce,a._redefineProperty=Object.defineProperty,a.patchCallbacks=_t,a.getGlobalObjects=()=>({globalSources:ht,zoneSymbolEventNames:ve,eventNames:i,isBrowser:Be,isMix:Qe,isNode:rt,TRUE_STR:me,FALSE_STR:ue,ZONE_SYMBOL_PREFIX:Re,ADD_EVENT_LISTENER_STR:we,REMOVE_EVENT_LISTENER_STR:ke})});const Ge=X("zoneTask");function Fe(t,r,a,i){let u=null,f=null;a+=i;const b={};function p(D){const L=D.data;return L.args[0]=function(){return D.invoke.apply(this,arguments)},L.handleId=u.apply(t,L.args),D}function N(D){return f.call(t,D.data.handleId)}u=he(t,r+=i,D=>function(L,V){if("function"==typeof V[0]){const Z={isPeriodic:"Interval"===i,delay:"Timeout"===i||"Interval"===i?V[1]||0:void 0,args:V},F=V[0];V[0]=function(){try{return F.apply(this,arguments)}finally{Z.isPeriodic||("number"==typeof Z.handleId?delete b[Z.handleId]:Z.handleId&&(Z.handleId[Ge]=null))}};const $=ct(r,V[0],Z,p,N);if(!$)return $;const W=$.data.handleId;return"number"==typeof W?b[W]=$:W&&(W[Ge]=$),W&&W.ref&&W.unref&&"function"==typeof W.ref&&"function"==typeof W.unref&&($.ref=W.ref.bind(W),$.unref=W.unref.bind(W)),"number"==typeof W||W?W:$}return D.apply(t,V)}),f=he(t,a,D=>function(L,V){const Z=V[0];let F;"number"==typeof Z?F=b[Z]:(F=Z&&Z[Ge],F||(F=Z)),F&&"string"==typeof F.type?"notScheduled"!==F.state&&(F.cancelFn&&F.data.isPeriodic||0===F.runCount)&&("number"==typeof Z?delete b[Z]:Z&&(Z[Ge]=null),F.zone.cancelTask(F)):D.apply(t,V)})}Zone.__load_patch("legacy",t=>{const r=t[Zone.__symbol__("legacyPatch")];r&&r()}),Zone.__load_patch("queueMicrotask",(t,r,a)=>{a.patchMethod(t,"queueMicrotask",i=>function(u,f){r.current.scheduleMicroTask("queueMicrotask",f[0])})}),Zone.__load_patch("timers",t=>{const r="set",a="clear";Fe(t,r,a,"Timeout"),Fe(t,r,a,"Interval"),Fe(t,r,a,"Immediate")}),Zone.__load_patch("requestAnimationFrame",t=>{Fe(t,"request","cancel","AnimationFrame"),Fe(t,"mozRequest","mozCancel","AnimationFrame"),Fe(t,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(t,r)=>{const a=["alert","prompt","confirm"];for(let i=0;i<a.length;i++)he(t,a[i],(f,b,p)=>function(N,D){return r.current.run(f,t,D,p)})}),Zone.__load_patch("EventTarget",(t,r,a)=>{(function _e(t,r){r.patchEventPrototype(t,r)})(t,a),function We(t,r){if(Zone[r.symbol("patchEventTarget")])return;const{eventNames:a,zoneSymbolEventNames:i,TRUE_STR:u,FALSE_STR:f,ZONE_SYMBOL_PREFIX:b}=r.getGlobalObjects();for(let N=0;N<a.length;N++){const D=a[N],Z=b+(D+f),F=b+(D+u);i[D]={},i[D][f]=Z,i[D][u]=F}const p=t.EventTarget;p&&p.prototype&&r.patchEventTarget(t,r,[p&&p.prototype])}(t,a);const i=t.XMLHttpRequestEventTarget;i&&i.prototype&&a.patchEventTarget(t,a,[i.prototype])}),Zone.__load_patch("MutationObserver",(t,r,a)=>{Ae("MutationObserver"),Ae("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(t,r,a)=>{Ae("IntersectionObserver")}),Zone.__load_patch("FileReader",(t,r,a)=>{Ae("FileReader")}),Zone.__load_patch("on_property",(t,r,a)=>{!function it(t,r){if(rt&&!Qe||Zone[t.symbol("patchEvents")])return;const a=r.__Zone_ignore_on_properties;let i=[];if(Be){const u=window;i=i.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const f=function ft(){try{const t=De.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}()?[{target:u,ignoreProperties:["error"]}]:[];Ye(u,Ve(u),a&&a.concat(f),B(u))}i=i.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let u=0;u<i.length;u++){const f=r[i[u]];f&&f.prototype&&Ye(f.prototype,Ve(f.prototype),a)}}(a,t)}),Zone.__load_patch("customElements",(t,r,a)=>{!function yt(t,r){const{isBrowser:a,isMix:i}=r.getGlobalObjects();(a||i)&&t.customElements&&"customElements"in t&&r.patchCallbacks(r,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,a)}),Zone.__load_patch("XHR",(t,r)=>{!function N(D){const L=D.XMLHttpRequest;if(!L)return;const V=L.prototype;let F=V[Le],$=V[Me];if(!F){const _=D.XMLHttpRequestEventTarget;if(_){const j=_.prototype;F=j[Le],$=j[Me]}}const W="readystatechange",ce="scheduled";function oe(_){const j=_.data,A=j.target;A[f]=!1,A[p]=!1;const ae=A[u];F||(F=A[Le],$=A[Me]),ae&&$.call(A,W,ae);const Te=A[u]=()=>{if(A.readyState===A.DONE)if(!j.aborted&&A[f]&&_.state===ce){const Q=A[r.__symbol__("loadfalse")];if(0!==A.status&&Q&&Q.length>0){const Oe=_.invoke;_.invoke=function(){const pe=A[r.__symbol__("loadfalse")];for(let ee=0;ee<pe.length;ee++)pe[ee]===_&&pe.splice(ee,1);!j.aborted&&_.state===ce&&Oe.call(_)},Q.push(_)}else _.invoke()}else!j.aborted&&!1===A[f]&&(A[p]=!0)};return F.call(A,W,Te),A[a]||(A[a]=_),v.apply(A,j.args),A[f]=!0,_}function w(){}function y(_){const j=_.data;return j.aborted=!0,Y.apply(j.target,j.args)}const se=he(V,"open",()=>function(_,j){return _[i]=0==j[2],_[b]=j[1],se.apply(_,j)}),ne=X("fetchTaskAborting"),q=X("fetchTaskScheduling"),v=he(V,"send",()=>function(_,j){if(!0===r.current[q]||_[i])return v.apply(_,j);{const A={target:_,url:_[b],isPeriodic:!1,args:j,aborted:!1},ae=ct("XMLHttpRequest.send",w,A,oe,y);_&&!0===_[p]&&!A.aborted&&ae.state===ce&&ae.invoke()}}),Y=he(V,"abort",()=>function(_,j){const A=function Z(_){return _[a]}(_);if(A&&"string"==typeof A.type){if(null==A.cancelFn||A.data&&A.data.aborted)return;A.zone.cancelTask(A)}else if(!0===r.current[ne])return Y.apply(_,j)})}(t);const a=X("xhrTask"),i=X("xhrSync"),u=X("xhrListener"),f=X("xhrScheduled"),b=X("xhrURL"),p=X("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&function at(t,r){const a=t.constructor.name;for(let i=0;i<r.length;i++){const u=r[i],f=t[u];if(f){if(!Ze(K(t,u)))continue;t[u]=(p=>{const N=function(){return p.apply(this,Je(arguments,a+"."+u))};return Ce(N,p),N})(f)}}}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(t,r)=>{function a(i){return function(u){dt(t,i).forEach(b=>{const p=t.PromiseRejectionEvent;if(p){const N=new p(i,{promise:u.promise,reason:u.rejection});b.invoke(N)}})}}t.PromiseRejectionEvent&&(r[X("unhandledPromiseRejectionHandler")]=a("unhandledrejection"),r[X("rejectionHandledHandler")]=a("rejectionhandled"))})}},K=>{K(K.s=7435)}]);
"use strict";(self.webpackChunkchat_pop_up=self.webpackChunkchat_pop_up||[]).push([[568],{7568:(ee,O,c)=>{c.r(O);var y=c(3942),a=c(5861),g=c(9681),f=c(2090),v=c(4859);function I(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function m(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e)||!0===e||!1===e||"[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>m(t));if("function"==typeof e||"object"==typeof e)return I(e,t=>m(t));throw new Error("Data cannot be encoded in JSON: "+e)}function p(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>p(t)):"function"==typeof e||"object"==typeof e?I(e,t=>p(t)):e}const E="functions",k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class l extends f.ZR{constructor(t,n,r){super(`${E}/${t}`,n||""),this.details=r}}function L(e,t){let i,n=function R(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=n;try{const o=t&&t.error;if(o){const u=o.status;if("string"==typeof u){if(!k[u])return new l("internal","internal");n=k[u],r=u}const s=o.message;"string"==typeof s&&(r=s),i=o.details,void 0!==i&&(i=p(i))}}catch(o){}return"ok"===n?null:new l(n,r,i)}class U{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var t=this;return(0,a.Z)(function*(){if(t.auth)try{const n=yield t.auth.getToken();return null==n?void 0:n.accessToken}catch(n){return}})()}getMessagingToken(){var t=this;return(0,a.Z)(function*(){if(t.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield t.messaging.getToken()}catch(n){return}})()}getAppCheckToken(){var t=this;return(0,a.Z)(function*(){if(t.appCheck){const n=yield t.appCheck.getToken();return n.error?null:n.token}return null})()}getContext(){var t=this;return(0,a.Z)(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken()}})()}}const N="us-central1";function $(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new l("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class M{constructor(t,n,r,i,o=N,u){this.app=t,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new U(n,r,i),this.cancelAllRequests=new Promise(s=>{this.deleteService=()=>Promise.resolve(s())});try{const s=new URL(o);this.customDomain=s.origin,this.region=N}catch(s){this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:null!==this.customDomain?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function V(e,t,n,r){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(function*(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=yield r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(u){return{status:0,json:null}}let o=null;try{o=yield i.json()}catch(u){}return{status:i.status,json:o}})).apply(this,arguments)}function T(){return(T=(0,a.Z)(function*(e,t,n,r){const i=e._url(t),o={data:n=m(n)},u={},s=yield e.contextProvider.getContext();s.authToken&&(u.Authorization="Bearer "+s.authToken),s.messagingToken&&(u["Firebase-Instance-ID-Token"]=s.messagingToken),null!==s.appCheckToken&&(u["X-Firebase-AppCheck"]=s.appCheckToken);const D=$(r.timeout||7e4),d=yield Promise.race([V(i,o,u,e.fetchImpl),D.promise,e.cancelAllRequests]);if(D.cancel(),!d)throw new l("cancelled","Firebase Functions instance was deleted.");const S=L(d.status,d.json);if(S)throw S;if(!d.json)throw new l("internal","Response is not valid JSON object.");let h=d.json.data;if(void 0===h&&(h=d.json.result),void 0===h)throw new l("internal","Response is missing data field.");return{data:p(h)}})).apply(this,arguments)}const w="@firebase/functions",x="0.7.10";function C(e,t,n){!function Z(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}((0,f.m9)(e),t,n)}!function Y(e,t){(0,g._registerComponent)(new v.wA(E,(r,{instanceIdentifier:i})=>{const o=r.getProvider("app").getImmediate(),u=r.getProvider("auth-internal"),s=r.getProvider("messaging-internal"),A=r.getProvider("app-check-internal");return new M(o,u,s,A,i,e)},"PUBLIC").setMultipleInstances(!0)),(0,g.registerVersion)(w,x,t),(0,g.registerVersion)(w,x,"esm2017")}(fetch.bind(self));class P{constructor(t,n){this.app=t,this._delegate=n,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(t,n){return function j(e,t,n){return function G(e,t,n){return r=>function J(e,t,n,r){return T.apply(this,arguments)}(e,t,r,n||{})}((0,f.m9)(e),t,n)}(this._delegate,t,n)}useFunctionsEmulator(t){const n=t.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==n)throw new f.ZR("functions","No origin provided to useFunctionsEmulator()");if(null==n[2])throw new f.ZR("functions","Port missing in origin provided to useFunctionsEmulator()");return C(this._delegate,n[1],Number(n[2]))}useEmulator(t,n){return C(this._delegate,t,n)}}const Q=(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("functions").getImmediate({identifier:null!=t?t:"us-central1"});return new P(n,r)};(function q(){const e={Functions:P};y.Z.INTERNAL.registerComponent(new v.wA("functions-compat",Q,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))})(),y.Z.registerVersion("@firebase/functions-compat","0.1.11")}}]);
"use strict";(self.webpackChunkchat_pop_up=self.webpackChunkchat_pop_up||[]).push([[179],{2011:(ct,Ae,F)=>{F.d(Ae,{hO:()=>qe,xv:()=>ye,Dh:()=>he,GT:()=>_e,cc:()=>Oe,on:()=>q,pX:()=>se});var c=F(5e3),H=F(127),k=F(5813);ct=F.hmd(ct);const ae=["ngOnDestroy"],se=(De,nt,He,Re={})=>new Proxy(De,{get:(Me,Ce)=>He.runOutsideAngular(()=>{var Ye;if(De[Ce])return(null===(Ye=null==Re?void 0:Re.spy)||void 0===Ye?void 0:Ye.get)&&Re.spy.get(Ce,De[Ce]),De[Ce];if(ae.indexOf(Ce)>-1)return()=>{};const ie=nt.toPromise().then(Qe=>{const X=Qe&&Qe[Ce];return"function"==typeof X?X.bind(Qe):X&&X.then?X.then(pe=>He.run(()=>pe)):He.run(()=>X)});return new Proxy(()=>{},{get:(Qe,X)=>ie[X],apply:(Qe,X,pe)=>ie.then(de=>{var me;const Pe=de&&de(...pe);return(null===(me=null==Re?void 0:Re.spy)||void 0===me?void 0:me.apply)&&Re.spy.apply(Ce,pe,Pe),Pe})})})}),_e=(De,nt)=>{nt.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Re=>{Object.defineProperty(De.prototype,Re,Object.getOwnPropertyDescriptor(He.prototype||He,Re))})})};class re{constructor(nt){return nt}}const he=new c.OlP("angularfire2.app.options"),ye=new c.OlP("angularfire2.app.name");function q(De,nt,He){const Me="object"==typeof He&&He||{};Me.name=Me.name||"string"==typeof He&&He||"[DEFAULT]";const Ye=H.Z.apps.filter(ie=>ie&&ie.name===Me.name)[0]||nt.runOutsideAngular(()=>H.Z.initializeApp(De,Me));try{JSON.stringify(De)!==JSON.stringify(Ye.options)&&z("error",`${Ye.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ie){}return new re(Ye)}const z=(De,...nt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[De](...nt)},ne={provide:re,useFactory:q,deps:[he,c.R0b,[new c.FiY,ye]]};let qe=(()=>{class De{constructor(He){H.Z.registerVersion("angularfire",k.q4.full,"core"),H.Z.registerVersion("angularfire",k.q4.full,"app-compat"),H.Z.registerVersion("angular",c.q4F.full,He.toString())}static initializeApp(He,Re){return{ngModule:De,providers:[{provide:he,useValue:He},{provide:ye,useValue:Re}]}}}return De.\u0275fac=function(He){return new(He||De)(c.LFG(c.Lbi))},De.\u0275mod=c.oAB({type:De}),De.\u0275inj=c.cJS({providers:[ne]}),De})();function Oe(De,nt,He,Re,Me){const[,Ce,Ye]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===De)||[];if(Ce)return function Ne(De,nt){try{return De.toString()===nt.toString()}catch(He){return De===nt}}(Me,Ye)||(we("error",`${nt} was already initialized on the ${He} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Me,was:Ye})),Ce;{const ie=Re();return globalThis.\u0275AngularfireInstanceCache.push([De,ie,Me]),ie}}const Ge=!!ct.hot,we=(De,...nt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[De](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ct,Ae,F)=>{F.d(Ae,{q4:()=>Go,iC:()=>Fr,HU:()=>Ac,vb:()=>bl,JM:()=>Jd,u3:()=>gu});var c=F(5e3),H=F(5867),k=F(5861),ae=F(9681),se=F(2090),_e=F(4859),re=F(1877);const he="@firebase/installations",z="w:0.5.7",ne="FIS_v2",De=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(D){return D instanceof se.ZR&&D.code.includes("request-failed")}function He({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Re(D){return{token:D.token,requestStatus:2,expiresIn:pe(D.expiresIn),creationTime:Date.now()}}function Me(D,x){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,k.Z)(function*(D,x){const B=(yield x.json()).error;return De.create("request-failed",{requestName:D,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Ye({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ie(D,{refreshToken:x}){const O=Ye(D);return O.append("Authorization",function de(D){return`${ne} ${D}`}(x)),O}function Qe(D){return X.apply(this,arguments)}function X(){return(X=(0,k.Z)(function*(D){const x=yield D();return x.status>=500&&x.status<600?D():x})).apply(this,arguments)}function pe(D){return Number(D.replace("s","000"))}function me(D,x){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:x},{fid:O}){const B=He(D),ee=Ye(D),oe=x.getImmediate({optional:!0});if(oe){const It=yield oe.getHeartbeatsHeader();It&&ee.append("x-firebase-client",It)}const Ue={method:"POST",headers:ee,body:JSON.stringify({fid:O,authVersion:ne,appId:D.appId,sdkVersion:z})},xt=yield Qe(()=>fetch(B,Ue));if(xt.ok){const It=yield xt.json();return{fid:It.fid||O,registrationStatus:2,refreshToken:It.refreshToken,authToken:Re(It.authToken)}}throw yield Me("Create Installation",xt)})).apply(this,arguments)}function le(D){return new Promise(x=>{setTimeout(x,D)})}const en=/^[cdef][\w-]{21}$/;function dt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function pt(D){return function Dt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return en.test(O)?O:""}catch(D){return""}}function pn(D){return`${D.appName}!${D.appId}`}const dn=new Map;function ir(D,x){const O=pn(D);tn(O,x),function An(D,x){const O=function Di(){return!oi&&"BroadcastChannel"in self&&(oi=new BroadcastChannel("[Firebase] FID Change"),oi.onmessage=D=>{tn(D.data.key,D.data.fid)}),oi}();O&&O.postMessage({key:D,fid:x}),function yi(){0===dn.size&&oi&&(oi.close(),oi=null)}()}(O,x)}function tn(D,x){const O=dn.get(D);if(O)for(const B of O)B(x)}let oi=null;const ai="firebase-installations-store";let _i=null;function as(){return _i||(_i=(0,se.X3)("firebase-installations-database",1,(D,x)=>{0===x&&D.createObjectStore(ai)})),_i}function gt(D,x){return xi.apply(this,arguments)}function xi(){return(xi=(0,k.Z)(function*(D,x){const O=pn(D),ee=(yield as()).transaction(ai,"readwrite"),oe=ee.objectStore(ai),Fe=yield oe.get(O);return yield oe.put(x,O),yield ee.complete,(!Fe||Fe.fid!==x.fid)&&ir(D,x.fid),x})).apply(this,arguments)}function On(D){return rn.apply(this,arguments)}function rn(){return(rn=(0,k.Z)(function*(D){const x=pn(D),B=(yield as()).transaction(ai,"readwrite");yield B.objectStore(ai).delete(x),yield B.complete})).apply(this,arguments)}function jn(D,x){return sr.apply(this,arguments)}function sr(){return(sr=(0,k.Z)(function*(D,x){const O=pn(D),ee=(yield as()).transaction(ai,"readwrite"),oe=ee.objectStore(ai),Fe=yield oe.get(O),Ue=x(Fe);return void 0===Ue?yield oe.delete(O):yield oe.put(Ue,O),yield ee.complete,Ue&&(!Fe||Fe.fid!==Ue.fid)&&ir(D,Ue.fid),Ue})).apply(this,arguments)}function kn(D){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,k.Z)(function*(D){let x;const O=yield jn(D.appConfig,B=>{const ee=Vi(B),oe=Ks(D,ee);return x=oe.registrationPromise,oe.installationEntry});return""===O.fid?{installationEntry:yield x}:{installationEntry:O,registrationPromise:x}})).apply(this,arguments)}function Vi(D){return qt(D||{fid:dt(),registrationStatus:0})}function Ks(D,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(De.create("app-offline"))};const O={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},B=function zt(D,x){return ht.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:B}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:rt(D)}:{installationEntry:x}}function ht(){return(ht=(0,k.Z)(function*(D,x){try{const O=yield me(D,x);return gt(D.appConfig,O)}catch(O){throw nt(O)&&409===O.customData.serverCode?yield On(D.appConfig):yield gt(D.appConfig,{fid:x.fid,registrationStatus:0}),O}})).apply(this,arguments)}function rt(D){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,k.Z)(function*(D){let x=yield $r(D.appConfig);for(;1===x.registrationStatus;)yield le(100),x=yield $r(D.appConfig);if(0===x.registrationStatus){const{installationEntry:O,registrationPromise:B}=yield kn(D);return B||O}return x})).apply(this,arguments)}function $r(D){return jn(D,x=>{if(!x)throw De.create("installation-not-found");return qt(x)})}function qt(D){return function zr(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Fn(D,x){return on.apply(this,arguments)}function on(){return(on=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:x},O){const B=yt(D,O),ee=ie(D,O),oe=x.getImmediate({optional:!0});if(oe){const It=yield oe.getHeartbeatsHeader();It&&ee.append("x-firebase-client",It)}const Ue={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:z,appId:D.appId}})},xt=yield Qe(()=>fetch(B,Ue));if(xt.ok)return Re(yield xt.json());throw yield Me("Generate Auth Token",xt)})).apply(this,arguments)}function yt(D,{fid:x}){return`${He(D)}/${x}/authTokens:generate`}function Pn(D){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,k.Z)(function*(D,x=!1){let O;const B=yield jn(D.appConfig,oe=>{if(!Bt(oe))throw De.create("not-registered");const Fe=oe.authToken;if(!x&&W(Fe))return oe;if(1===Fe.requestStatus)return O=ze(D,x),oe;{if(!navigator.onLine)throw De.create("app-offline");const Ue=Y(oe);return O=ft(D,Ue),Ue}});return O?yield O:B.authToken})).apply(this,arguments)}function ze(D,x){return xe.apply(this,arguments)}function xe(){return(xe=(0,k.Z)(function*(D,x){let O=yield et(D.appConfig);for(;1===O.authToken.requestStatus;)yield le(100),O=yield et(D.appConfig);const B=O.authToken;return 0===B.requestStatus?Pn(D,x):B})).apply(this,arguments)}function et(D){return jn(D,x=>{if(!Bt(x))throw De.create("not-registered");return function ge(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function ft(D,x){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,k.Z)(function*(D,x){try{const O=yield Fn(D,x),B=Object.assign(Object.assign({},x),{authToken:O});return yield gt(D.appConfig,B),O}catch(O){if(!nt(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const B=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield gt(D.appConfig,B)}else yield On(D.appConfig);throw O}})).apply(this,arguments)}function Bt(D){return void 0!==D&&2===D.registrationStatus}function W(D){return 2===D.requestStatus&&!function U(D){const x=Date.now();return x<D.creationTime||D.creationTime+D.expiresIn<x+36e5}(D)}function Y(D){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:x})}function V(){return(V=(0,k.Z)(function*(D){const x=D,{installationEntry:O,registrationPromise:B}=yield kn(x);return B?B.catch(console.error):Pn(x).catch(console.error),O.fid})).apply(this,arguments)}function ue(){return(ue=(0,k.Z)(function*(D,x=!1){const O=D;return yield je(O),(yield Pn(O,x)).token})).apply(this,arguments)}function je(D){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,k.Z)(function*(D){const{registrationPromise:x}=yield kn(D);x&&(yield x)})).apply(this,arguments)}function zn(D){return De.create("missing-app-config-values",{valueName:D})}const el="installations",Ze=D=>{const x=D.getProvider("app").getImmediate(),O=function Ar(D){if(!D||!D.options)throw zn("App Configuration");if(!D.name)throw zn("App Name");const x=["projectId","apiKey","appId"];for(const O of x)if(!D.options[O])throw zn(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(x);return{app:x,appConfig:O,heartbeatServiceProvider:(0,ae._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},Wt=D=>{const x=D.getProvider("app").getImmediate(),O=(0,ae._getProvider)(x,el).getImmediate();return{getId:()=>function P(D){return V.apply(this,arguments)}(O),getToken:ee=>function j(D){return ue.apply(this,arguments)}(O,ee)}};(function mn(){(0,ae._registerComponent)(new _e.wA(el,Ze,"PUBLIC")),(0,ae._registerComponent)(new _e.wA("installations-internal",Wt,"PRIVATE"))})(),(0,ae.registerVersion)(he,"0.5.7"),(0,ae.registerVersion)(he,"0.5.7","esm2017");const Ai="@firebase/remote-config",Nn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class aa{constructor(x,O,B,ee){this.client=x,this.storage=O,this.storageCache=B,this.logger=ee}isCachedDataFresh(x,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-O,ee=B<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${ee}.`),ee}fetch(x){var O=this;return(0,k.Z)(function*(){const[B,ee]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ee&&O.isCachedDataFresh(x.cacheMaxAgeMillis,B))return ee;x.eTag=ee&&ee.eTag;const oe=yield O.client.fetch(x),Fe=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Fe.push(O.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Fe),oe})()}}function il(D=navigator){return D.languages&&D.languages[0]||D.language}class xs{constructor(x,O,B,ee,oe,Fe){this.firebaseInstallations=x,this.sdkVersion=O,this.namespace=B,this.projectId=ee,this.apiKey=oe,this.appId=Fe}fetch(x){var O=this;return(0,k.Z)(function*(){const[B,ee]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},xt={sdk_version:O.sdkVersion,app_instance_id:B,app_instance_id_token:ee,app_id:O.appId,language_code:il()},It={method:"POST",headers:Ue,body:JSON.stringify(xt)},Rt=fetch(Fe,It),_t=new Promise((pr,Pr)=>{x.signal.addEventListener(()=>{const wl=new Error("The operation was aborted.");wl.name="AbortError",Pr(wl)})});let ni;try{yield Promise.race([Rt,_t]),ni=yield Rt}catch(pr){let Pr="fetch-client-network";throw"AbortError"===pr.name&&(Pr="fetch-timeout"),Nn.create(Pr,{originalErrorMessage:pr.message})}let ii=ni.status;const Gs=ni.headers.get("ETag")||void 0;let zo,Qi;if(200===ni.status){let pr;try{pr=yield ni.json()}catch(Pr){throw Nn.create("fetch-client-parse",{originalErrorMessage:Pr.message})}zo=pr.entries,Qi=pr.state}if("INSTANCE_STATE_UNSPECIFIED"===Qi?ii=500:"NO_CHANGE"===Qi?ii=304:("NO_TEMPLATE"===Qi||"EMPTY_CONFIG"===Qi)&&(zo={}),304!==ii&&200!==ii)throw Nn.create("fetch-status",{httpStatus:ii});return{status:ii,eTag:Gs,config:zo}})()}}class us{constructor(x,O){this.client=x,this.storage=O}fetch(x){var O=this;return(0,k.Z)(function*(){const B=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(x,B)})()}attemptFetch(x,{throttleEndTimeMillis:O,backoffCount:B}){var ee=this;return(0,k.Z)(function*(){yield function qi(D,x){return new Promise((O,B)=>{const ee=Math.max(x-Date.now(),0),oe=setTimeout(O,ee);D.addEventListener(()=>{clearTimeout(oe),B(Nn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,O);try{const oe=yield ee.client.fetch(x);return yield ee.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function Nf(D){if(!(D instanceof se.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}(oe))throw oe;const Fe={throttleEndTimeMillis:Date.now()+(0,se.$s)(B),backoffCount:B+1};return yield ee.storage.setThrottleMetadata(Fe),ee.attemptFetch(x,Fe)}})()}}class Nd{constructor(x,O,B,ee,oe){this.app=x,this._client=O,this._storageCache=B,this._storage=ee,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function la(D,x){const O=D.target.error||void 0;return Nn.create(x,{originalErrorMessage:O&&O.message})}const Io="app_namespace_store";class rl{constructor(x,O,B,ee=function Bf(){return new Promise((D,x)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=B=>{x(la(B,"storage-open"))},O.onsuccess=B=>{D(B.target.result)},O.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(Io,{keyPath:"compositeKey"})}}catch(O){x(Nn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=x,this.appName=O,this.namespace=B,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var O=this;return(0,k.Z)(function*(){const B=yield O.openDbPromise;return new Promise((ee,oe)=>{const Ue=B.transaction([Io],"readonly").objectStore(Io),xt=O.createCompositeKey(x);try{const It=Ue.get(xt);It.onerror=Rt=>{oe(la(Rt,"storage-get"))},It.onsuccess=Rt=>{const _t=Rt.target.result;ee(_t?_t.value:void 0)}}catch(It){oe(Nn.create("storage-get",{originalErrorMessage:It&&It.message}))}})})()}set(x,O){var B=this;return(0,k.Z)(function*(){const ee=yield B.openDbPromise;return new Promise((oe,Fe)=>{const xt=ee.transaction([Io],"readwrite").objectStore(Io),It=B.createCompositeKey(x);try{const Rt=xt.put({compositeKey:It,value:O});Rt.onerror=_t=>{Fe(la(_t,"storage-set"))},Rt.onsuccess=()=>{oe()}}catch(Rt){Fe(Nn.create("storage-set",{originalErrorMessage:Rt&&Rt.message}))}})})()}delete(x){var O=this;return(0,k.Z)(function*(){const B=yield O.openDbPromise;return new Promise((ee,oe)=>{const Ue=B.transaction([Io],"readwrite").objectStore(Io),xt=O.createCompositeKey(x);try{const It=Ue.delete(xt);It.onerror=Rt=>{oe(la(Rt,"storage-delete"))},It.onsuccess=()=>{ee()}}catch(It){oe(Nn.create("storage-delete",{originalErrorMessage:It&&It.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Ao{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,k.Z)(function*(){const O=x.storage.getLastFetchStatus(),B=x.storage.getLastSuccessfulFetchTimestampMillis(),ee=x.storage.getActiveConfig(),oe=yield O;oe&&(x.lastFetchStatus=oe);const Fe=yield B;Fe&&(x.lastSuccessfulFetchTimestampMillis=Fe);const Ue=yield ee;Ue&&(x.activeConfig=Ue)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function dc(){return sl.apply(this,arguments)}function sl(){return(sl=(0,k.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Uf(){(0,ae._registerComponent)(new _e.wA("remote-config",function D(x,{instanceIdentifier:O}){const B=x.getProvider("app").getImmediate(),ee=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Nn.create("registration-window");if(!(0,se.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:oe,apiKey:Fe,appId:Ue}=B.options;if(!oe)throw Nn.create("registration-project-id");if(!Fe)throw Nn.create("registration-api-key");if(!Ue)throw Nn.create("registration-app-id");const xt=new rl(Ue,B.name,O=O||"firebase"),It=new Ao(xt),Rt=new re.Yd(Ai);Rt.logLevel=re.in.ERROR;const _t=new xs(ee,ae.SDK_VERSION,O,oe,Fe,Ue),ni=new us(_t,xt),ii=new aa(ni,xt,It,Rt),Gs=new Nd(B,ii,It,xt,Rt);return function Ti(D){const x=(0,se.m9)(D);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Gs),Gs},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Ai,"0.3.6"),(0,ae.registerVersion)(Ai,"0.3.6","esm2017")}();const cs="/firebase-messaging-sw.js",ua="/firebase-cloud-messaging-push-scope",ar="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",So="google.c.a.c_id",ol="google.c.a.c_l",Ld="google.c.a.ts",ca="google.c.a.e";var Mr=(()=>{return(D=Mr||(Mr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Mr;var D})();function ds(D){const x=new Uint8Array(D);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function al(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(O),ee=new Uint8Array(B.length);for(let oe=0;oe<B.length;++oe)ee[oe]=B.charCodeAt(oe);return ee}const da="fcm_token_details_db",lr="fcm_token_object_Store";function jf(D){return To.apply(this,arguments)}function To(){return To=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(da))return null;let x=null;return(yield(0,se.X3)(da,5,function(){var B=(0,k.Z)(function*(ee,oe,Fe,Ue){var xt;if(oe<2||!ee.objectStoreNames.contains(lr))return;const It=Ue.objectStore(lr),Rt=yield It.index("fcmSenderId").get(D);if(yield It.clear(),Rt)if(2===oe){const _t=Rt;if(!_t.auth||!_t.p256dh||!_t.endpoint)return;x={token:_t.fcmToken,createTime:null!==(xt=_t.createTime)&&void 0!==xt?xt:Date.now(),subscriptionOptions:{auth:_t.auth,p256dh:_t.p256dh,endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:"string"==typeof _t.vapidKey?_t.vapidKey:ds(_t.vapidKey)}}}else if(3===oe){const _t=Rt;x={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:ds(_t.auth),p256dh:ds(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:ds(_t.vapidKey)}}}else if(4===oe){const _t=Rt;x={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:ds(_t.auth),p256dh:ds(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:ds(_t.vapidKey)}}}});return function(ee,oe,Fe,Ue){return B.apply(this,arguments)}}())).close(),yield(0,se.Lj)(da),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),ql(x)?x:null}),To.apply(this,arguments)}function ql(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:x}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const As="firebase-messaging-store";let Qs=null;function Yl(){return Qs||(Qs=(0,se.X3)("firebase-messaging-database",1,(D,x)=>{0===x&&D.createObjectStore(As)})),Qs}function wn(D){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,k.Z)(function*(D){const x=Ss(D),B=yield(yield Yl()).transaction(As).objectStore(As).get(x);if(B)return B;{const ee=yield jf(D.appConfig.senderId);if(ee)return yield Js(D,ee),ee}})).apply(this,arguments)}function Js(D,x){return yn.apply(this,arguments)}function yn(){return(yn=(0,k.Z)(function*(D,x){const O=Ss(D),ee=(yield Yl()).transaction(As,"readwrite");return yield ee.objectStore(As).put(x,O),yield ee.complete,x})).apply(this,arguments)}function Zl(D){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,k.Z)(function*(D){const x=Ss(D),B=(yield Yl()).transaction(As,"readwrite");yield B.objectStore(As).delete(x),yield B.complete})).apply(this,arguments)}function Ss({appConfig:D}){return D.appId}const Wn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ll(D,x){return ur.apply(this,arguments)}function ur(){return(ur=(0,k.Z)(function*(D,x){const O=yield qr(D),B=vt(x),ee={method:"POST",headers:O,body:JSON.stringify(B)};let oe;try{oe=yield(yield fetch(Rr(D.appConfig),ee)).json()}catch(Fe){throw Wn.create("token-subscribe-failed",{errorInfo:Fe})}if(oe.error)throw Wn.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw Wn.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function Ui(D,x){return hs.apply(this,arguments)}function hs(){return(hs=(0,k.Z)(function*(D,x){const O=yield qr(D),B=vt(x.subscriptionOptions),ee={method:"PATCH",headers:O,body:JSON.stringify(B)};let oe;try{oe=yield(yield fetch(`${Rr(D.appConfig)}/${x.token}`,ee)).json()}catch(Fe){throw Wn.create("token-update-failed",{errorInfo:Fe})}if(oe.error)throw Wn.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw Wn.create("token-update-no-token");return oe.token})).apply(this,arguments)}function eo(D,x){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,k.Z)(function*(D,x){const B={method:"DELETE",headers:yield qr(D)};try{const oe=yield(yield fetch(`${Rr(D.appConfig)}/${x}`,B)).json();if(oe.error)throw Wn.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(ee){throw Wn.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function Rr({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function qr(D){return fs.apply(this,arguments)}function fs(){return(fs=(0,k.Z)(function*({appConfig:D,installations:x}){const O=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function vt({p256dh:D,auth:x,endpoint:O,vapidKey:B}){const ee={web:{endpoint:O,auth:x,p256dh:D}};return B!==ar&&(ee.web.applicationPubKey=B),ee}const ha=6048e5;function fc(D){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,k.Z)(function*(D){const x=yield Ud(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:x.endpoint,auth:ds(x.getKey("auth")),p256dh:ds(x.getKey("p256dh"))},B=yield wn(D.firebaseDependencies);if(B){if(ul(B.subscriptionOptions,O))return Date.now()>=B.createTime+ha?Bd(D,{token:B.token,createTime:Date.now(),subscriptionOptions:O}):B.token;try{yield eo(D.firebaseDependencies,B.token)}catch(ee){console.warn(ee)}return Se(D.firebaseDependencies,O)}return Se(D.firebaseDependencies,O)})).apply(this,arguments)}function pc(D){return ko.apply(this,arguments)}function ko(){return(ko=(0,k.Z)(function*(D){const x=yield wn(D.firebaseDependencies);x&&(yield eo(D.firebaseDependencies,x.token),yield Zl(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Bd(D,x){return fa.apply(this,arguments)}function fa(){return(fa=(0,k.Z)(function*(D,x){try{const O=yield Ui(D.firebaseDependencies,x),B=Object.assign(Object.assign({},x),{token:O,createTime:Date.now()});return yield Js(D.firebaseDependencies,B),O}catch(O){throw yield pc(D),O}})).apply(this,arguments)}function Se(D,x){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,k.Z)(function*(D,x){const B={token:yield ll(D,x),createTime:Date.now(),subscriptionOptions:x};return yield Js(D,B),B.token})).apply(this,arguments)}function Ud(D,x){return bn.apply(this,arguments)}function bn(){return(bn=(0,k.Z)(function*(D,x){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:al(x)})})).apply(this,arguments)}function ul(D,x){return x.vapidKey===D.vapidKey&&x.endpoint===D.endpoint&&x.auth===D.auth&&x.p256dh===D.p256dh}function Ts(D){const x={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Or(D,x){if(!x.notification)return;D.notification={};const O=x.notification.title;O&&(D.notification.title=O);const B=x.notification.body;B&&(D.notification.body=B);const ee=x.notification.image;ee&&(D.notification.image=ee)}(x,D),function Ql(D,x){!x.data||(D.data=x.data)}(x,D),function pa(D,x){if(!x.fcmOptions)return;D.fcmOptions={};const O=x.fcmOptions.link;O&&(D.fcmOptions.link=O);const B=x.fcmOptions.analytics_label;B&&(D.fcmOptions.analyticsLabel=B)}(x,D),x}function Gf(D){return"object"==typeof D&&!!D&&So in D}function Xl(D,x){const O=[];for(let B=0;B<D.length;B++)O.push(D.charAt(B)),B<x.length&&O.push(x.charAt(B));return O.join("")}function Po(D){return Wn.create("missing-app-config-values",{valueName:D})}Xl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ei{constructor(x,O,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function Fo(D){if(!D||!D.options)throw Po("App Configuration Object");if(!D.name)throw Po("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const B of x)if(!O[B])throw Po(B);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:ee,installations:O,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Kr(D){return No.apply(this,arguments)}function No(){return(No=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(cs,{scope:ua}),D.swRegistration.update().catch(()=>{})}catch(x){throw Wn.create("failed-service-worker-registration",{browserErrorMessage:x.message})}})).apply(this,arguments)}function Lo(D,x){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,k.Z)(function*(D,x){if(!x&&!D.swRegistration&&(yield Kr(D)),x||!D.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Wn.create("invalid-sw-registration");D.swRegistration=x}})).apply(this,arguments)}function jd(D,x){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,k.Z)(function*(D,x){x?D.vapidKey=x:D.vapidKey||(D.vapidKey=ar)})).apply(this,arguments)}function ga(){return(ga=(0,k.Z)(function*(D,x){if(!navigator)throw Wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wn.create("permission-blocked");return yield jd(D,null==x?void 0:x.vapidKey),yield Lo(D,null==x?void 0:x.serviceWorkerRegistration),fc(D)})).apply(this,arguments)}function Jl(D,x,O){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,k.Z)(function*(D,x,O){const B=Gd(x);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:O[So],message_name:O[ol],message_time:O[Ld],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gd(D){switch(D){case Mr.NOTIFICATION_CLICKED:return"notification_open";case Mr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function tu(){return(tu=(0,k.Z)(function*(D,x){const O=x.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===Mr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ts(O)):D.onMessageHandler.next(Ts(O)));const B=O.data;Gf(B)&&"1"===B[ca]&&(yield Jl(D,O.messageType,B))})).apply(this,arguments)}const cl="@firebase/messaging",to=D=>{const x=new ei(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function eu(D,x){return tu.apply(this,arguments)}(x,O)),x},nu=D=>{const x=D.getProvider("messaging").getImmediate();return{getToken:B=>function gc(D,x){return ga.apply(this,arguments)}(x,B)}};function mc(){return no.apply(this,arguments)}function no(){return(no=(0,k.Z)(function*(){try{yield(0,se.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Hd(){(0,ae._registerComponent)(new _e.wA("messaging",to,"PUBLIC")),(0,ae._registerComponent)(new _e.wA("messaging-internal",nu,"PRIVATE")),(0,ae.registerVersion)(cl,"0.9.11"),(0,ae.registerVersion)(cl,"0.9.11","esm2017")}();const ru="analytics",yc="firebase_id",su="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dl="https://www.googletagmanager.com/gtag/js",qn=new re.Yd("@firebase/analytics");function _c(D){return Promise.all(D.map(x=>x.catch(O=>O)))}function vc(D,x){const O=document.createElement("script");O.src=`${dl}?l=${D}&id=${x}`,O.async=!0,document.head.appendChild(O)}function hl(D,x,O,B,ee,oe){return _a.apply(this,arguments)}function _a(){return(_a=(0,k.Z)(function*(D,x,O,B,ee,oe){const Fe=B[ee];try{if(Fe)yield x[Fe];else{const xt=(yield _c(O)).find(It=>It.measurementId===ee);xt&&(yield x[xt.appId])}}catch(Ue){qn.error(Ue)}D("config",ee,oe)})).apply(this,arguments)}function zd(D,x,O,B,ee){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,k.Z)(function*(D,x,O,B,ee){try{let oe=[];if(ee&&ee.send_to){let Fe=ee.send_to;Array.isArray(Fe)||(Fe=[Fe]);const Ue=yield _c(O);for(const xt of Fe){const It=Ue.find(_t=>_t.measurementId===xt),Rt=It&&x[It.appId];if(!Rt){oe=[];break}oe.push(Rt)}}0===oe.length&&(oe=Object.values(x)),yield Promise.all(oe),D("event",B,ee||{})}catch(oe){qn.error(oe)}})).apply(this,arguments)}function mm(){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(dl))return x;return null}const cr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),kr=new class fl{constructor(x={},O=1e3){this.throttleMetadata=x,this.intervalMillis=O}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,O){this.throttleMetadata[x]=O}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Wd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Vn(D){return ui.apply(this,arguments)}function ui(){return(ui=(0,k.Z)(function*(D){var x;const{appId:O,apiKey:B}=D,ee={method:"GET",headers:Wd(B)},oe=su.replace("{app-id}",O),Fe=yield fetch(oe,ee);if(200!==Fe.status&&304!==Fe.status){let Ue="";try{const xt=yield Fe.json();(null===(x=xt.error)||void 0===x?void 0:x.message)&&(Ue=xt.error.message)}catch(xt){}throw cr.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:Ue})}return Fe.json()})).apply(this,arguments)}function va(D){return ks.apply(this,arguments)}function ks(){return(ks=(0,k.Z)(function*(D,x=kr,O){const{appId:B,apiKey:ee,measurementId:oe}=D.options;if(!B)throw cr.create("no-app-id");if(!ee){if(oe)return{measurementId:oe,appId:B};throw cr.create("no-api-key")}const Fe=x.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new qd;return setTimeout((0,k.Z)(function*(){Ue.abort()}),void 0!==O?O:6e4),Fs({appId:B,apiKey:ee,measurementId:oe},Fe,Ue,x)})).apply(this,arguments)}function Fs(D,x,O){return ba.apply(this,arguments)}function ba(){return(ba=(0,k.Z)(function*(D,{throttleEndTimeMillis:x,backoffCount:O},B,ee=kr){const{appId:oe,measurementId:Fe}=D;try{yield ym(B,x)}catch(Ue){if(Fe)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${Ue.message}]`),{appId:oe,measurementId:Fe};throw Ue}try{const Ue=yield Vn(D);return ee.deleteThrottleMetadata(oe),Ue}catch(Ue){if(!Ec(Ue)){if(ee.deleteThrottleMetadata(oe),Fe)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${Ue.message}]`),{appId:oe,measurementId:Fe};throw Ue}const xt=503===Number(Ue.customData.httpStatus)?(0,se.$s)(O,ee.intervalMillis,30):(0,se.$s)(O,ee.intervalMillis),It={throttleEndTimeMillis:Date.now()+xt,backoffCount:O+1};return ee.setThrottleMetadata(oe,It),qn.debug(`Calling attemptFetch again in ${xt} millis`),Fs(D,It,B,ee)}})).apply(this,arguments)}function ym(D,x){return new Promise((O,B)=>{const ee=Math.max(x-Date.now(),0),oe=setTimeout(O,ee);D.addEventListener(()=>{clearTimeout(oe),B(cr.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Ec(D){if(!(D instanceof se.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}class qd{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}function au(){return wa.apply(this,arguments)}function wa(){return(wa=(0,k.Z)(function*(){if(!(0,se.hl)())return qn.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(D){return qn.warn(cr.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function gs(){return(gs=(0,k.Z)(function*(D,x,O,B,ee,oe,Fe){var Ue;const xt=va(D);xt.then(ii=>{O[ii.measurementId]=ii.appId,D.options.measurementId&&ii.measurementId!==D.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${ii.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ii=>qn.error(ii)),x.push(xt);const It=au().then(ii=>{if(ii)return B.getId()}),[Rt,_t]=yield Promise.all([xt,It]);mm()||vc(oe,Rt.measurementId),ee("js",new Date);const ni=null!==(Ue=null==Fe?void 0:Fe.config)&&void 0!==Ue?Ue:{};return ni.origin="firebase",ni.update=!0,null!=_t&&(ni[yc]=_t),ee("config",Rt.measurementId,ni),Rt.measurementId})).apply(this,arguments)}class Ea{constructor(x){this.app=x}_delete(){return delete Ct[this.app.options.appId],Promise.resolve()}}let Ct={},ms=[];const Ca={};let pl,Uo,Da="dataLayer",lu=!1;function Aa(D,x,O){!function Ia(){const D=[];if((0,se.ru)()&&D.push("This is a browser extension environment."),(0,se.zI)()||D.push("Cookies are not available."),D.length>0){const x=D.map((B,ee)=>`(${ee+1}) ${B}`).join(" "),O=cr.create("invalid-analytics-context",{errorInfo:x});qn.warn(O.message)}}();const B=D.options.appId;if(!B)throw cr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw cr.create("no-api-key");qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ct[B])throw cr.create("already-exists",{id:B});if(!lu){!function ps(D){let x=[];Array.isArray(window[D])?x=window[D]:window[D]=x}(Da);const{wrappedGtag:oe,gtagCore:Fe}=function bc(D,x,O,B,ee){let oe=function(...Fe){window[B].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(oe=window[ee]),window[ee]=function ou(D,x,O,B){function oe(){return(oe=(0,k.Z)(function*(Fe,Ue,xt){try{"event"===Fe?yield zd(D,x,O,Ue,xt):"config"===Fe?yield hl(D,x,O,B,Ue,xt):D("set",Ue)}catch(It){qn.error(It)}})).apply(this,arguments)}return function ee(Fe,Ue,xt){return oe.apply(this,arguments)}}(oe,D,x,O),{gtagCore:oe,wrappedGtag:window[ee]}}(Ct,ms,Ca,Da,"gtag");Uo=oe,pl=Fe,lu=!0}return Ct[B]=function Yi(D,x,O,B,ee,oe,Fe){return gs.apply(this,arguments)}(D,ms,Ca,x,pl,Da,O),new Ea(D)}function gl(){return(gl=(0,k.Z)(function*(D,x,O,B,ee){if(ee&&ee.global)D("event",O,B);else{const oe=yield x;D("event",O,Object.assign(Object.assign({},B),{send_to:oe}))}})).apply(this,arguments)}function Vs(){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,k.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}const Qd="@firebase/analytics";!function $f(){(0,ae._registerComponent)(new _e.wA(ru,(x,{options:O})=>Aa(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ae._registerComponent)(new _e.wA("analytics-internal",function D(x){try{const O=x.getProvider(ru).getImmediate();return{logEvent:(B,ee,oe)=>function Zd(D,x,O,B){D=(0,se.m9)(D),function Kd(D,x,O,B,ee){return gl.apply(this,arguments)}(Uo,Ct[D.app.options.appId],x,O,B).catch(ee=>qn.error(ee))}(O,B,ee,oe)}}catch(O){throw cr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ae.registerVersion)(Qd,"0.7.7"),(0,ae.registerVersion)(Qd,"0.7.7","esm2017")}();var Dc=F(4408),xc=F(7565);const Ta=new class ti extends xc.v{}(class Sa extends Dc.o{constructor(x,O){super(x,O),this.scheduler=x,this.work=O}schedule(x,O=0){return O>0?super.schedule(x,O):(this.delay=O,this.state=x,this.scheduler.flush(this),this)}execute(x,O){return O>0||this.closed?super.execute(x,O):this._execute(x,O)}requestAsyncId(x,O,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(x,O,B):x.flush(this)}});var yl=F(4986),dr=F(8306),Mi=F(8505),Zi=F(9468),ro=F(5363);const Go=new c.GfV("7.3.0"),En="__angularfire_symbol__analyticsIsSupportedValue",so="__angularfire_symbol__analyticsIsSupported",Ma="__angularfire_symbol__remoteConfigIsSupportedValue",_l="__angularfire_symbol__remoteConfigIsSupported",fu="__angularfire_symbol__messagingIsSupportedValue",Ho="__angularfire_symbol__messagingIsSupported";function Jd(D,x,O){if(x){if(1===x.length)return x[0];const oe=x.filter(Fe=>Fe.app===O);if(1===oe.length)return oe[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[so]||(globalThis[so]=Vs().then(D=>globalThis[En]=D).catch(()=>globalThis[En]=!1)),globalThis[Ho]||(globalThis[Ho]=mc().then(D=>globalThis[fu]=D).catch(()=>globalThis[fu]=!1)),globalThis[_l]||(globalThis[_l]=dc().then(D=>globalThis[Ma]=D).catch(()=>globalThis[Ma]=!1));const bl=(D,x)=>{const O=x?[x]:(0,H.C6)(),B=[];return O.forEach(ee=>{ee.container.getProvider(D).instances.forEach(Fe=>{B.includes(Fe)||B.push(Fe)})}),B};function oo(){}class Ra{constructor(x,O=Ta){this.zone=x,this.delegate=O}now(){return this.delegate.now()}schedule(x,O,B){const ee=this.zone;return this.delegate.schedule(function(Fe){ee.runGuarded(()=>{x.apply(this,[Fe])})},O,B)}}class Ic{constructor(x){this.zone=x,this.task=null}call(x,O){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oo,{},oo,oo)),O.pipe((0,Mi.b)({next:B,complete:B,error:B})).subscribe(x).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ac=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Ra(Zone.current)),this.insideAngular=O.run(()=>new Ra(Zone.current,yl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function fr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Sc(D){return fr().ngZone.runOutsideAngular(()=>D())}function Qr(D){return fr().ngZone.run(()=>D())}function Fr(D){return fr(),function $o(D){return function(O){return(O=O.lift(new Ic(D.ngZone))).pipe((0,Zi.R)(D.outsideAngular),(0,ro.Q)(D.insideAngular))}}(fr())(D)}const js=(D,x)=>function(){const B=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),Qr(()=>D.apply(void 0,B))},gu=(D,x)=>function(){let O;const B=arguments;for(let oe=0;oe<arguments.length;oe++)"function"==typeof B[oe]&&(x&&(O||(O=Qr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oo,{},oo,oo)))),B[oe]=js(B[oe],O));const ee=Sc(()=>D.apply(this,B));if(!x){if(ee instanceof dr.y){const oe=fr();return ee.pipe((0,Zi.R)(oe.outsideAngular),(0,ro.Q)(oe.insideAngular))}return Qr(()=>ee)}return ee instanceof dr.y?ee.pipe(Fr):ee instanceof Promise?Qr(()=>new Promise((oe,Fe)=>ee.then(Ue=>Qr(()=>oe(Ue)),Ue=>Qr(()=>Fe(Ue))))):"function"==typeof ee&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),ee.apply(this,arguments)}:Qr(()=>ee)}},424:(ct,Ae,F)=>{F.d(Ae,{$:()=>fc,A:()=>z,E:()=>Wt,G:()=>Si,I:()=>us,K:()=>U,L:()=>sl,M:()=>hc,N:()=>So,P:()=>Go,Q:()=>ol,R:()=>Xd,T:()=>ar,U:()=>Mr,V:()=>ds,W:()=>jf,X:()=>vi,Y:()=>ll,Z:()=>Ui,_:()=>Rr,a:()=>Bo,a0:()=>pc,a1:()=>Bd,a2:()=>Se,a3:()=>Ud,a4:()=>ul,a5:()=>Or,a6:()=>Ql,a7:()=>Gf,a8:()=>Xl,a9:()=>Kr,aA:()=>_t,aB:()=>$o,aC:()=>gn,aG:()=>kr,aJ:()=>ca,aa:()=>Lo,ab:()=>jd,ae:()=>Jl,af:()=>Gd,ag:()=>eu,aj:()=>As,ak:()=>iu,am:()=>su,an:()=>hl,ao:()=>Cn,ap:()=>X,aq:()=>Mt,ar:()=>Ke,as:()=>He,at:()=>lo,au:()=>eh,av:()=>Re,aw:()=>ie,ax:()=>de,ay:()=>Y,az:()=>Qi,b:()=>wc,c:()=>Bs,d:()=>oo,e:()=>Jd,f:()=>D,g:()=>Fe,h:()=>B,i:()=>Ia,j:()=>It,k:()=>Na,l:()=>ti,m:()=>Im,n:()=>Fc,o:()=>he,r:()=>ml,s:()=>Sa,u:()=>Zi,z:()=>Oe});var c=F(5861),H=F(2090),k=F(9681),ae=F(655),se=F(1877),_e=F(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Oe=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new se.Yd("@firebase/auth");function nt(v,...g){De.logLevel<=se.in.ERROR&&De.error(`Auth (${k.SDK_VERSION}): ${v}`,...g)}function He(v,...g){throw Ye(v,...g)}function Re(v,...g){return Ye(v,...g)}function Me(v,g,m){const w=Object.assign(Object.assign({},Ne()),{[g]:m});return new H.LL("auth","Firebase",w).create(g,{appName:v.name})}function Ce(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&He(v,"argument-error"),Me(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(v,...g){if("string"!=typeof v){const m=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return Ge.create(v,...g)}function ie(v,g,...m){if(!v)throw Ye(g,...m)}function Qe(v){const g="INTERNAL ASSERTION FAILED: "+v;throw nt(g),new Error(g)}function X(v,g){v||Qe(g)}const pe=new Map;function de(v){X(v instanceof Function,"Expected a class definition");let g=pe.get(v);return g?(X(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,pe.set(v,g),g)}function le(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Dt(){return"http:"===en()||"https:"===en()}function en(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class pt{constructor(g,m){this.shortDelay=g,this.longDelay=m,X(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Rn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dt()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(v,g){X(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class dn{static initialize(g,m,w){this.fetchImpl=g,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ir={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nn=new pt(3e4,6e4);function Jt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function tn(v,g,m,w){return An.apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(v,g,m,w,T={}){return oi(v,T,(0,c.Z)(function*(){let L={},te={};w&&("GET"===g?te=w:L={body:JSON.stringify(w)});const Te=(0,H.xO)(Object.assign({key:v.config.apiKey},te)).slice(1),at=yield v._getAdditionalHeaders();return at["Content-Type"]="application/json",v.languageCode&&(at["X-Firebase-Locale"]=v.languageCode),dn.fetch()(rr(v,v.config.apiHost,m,Te),Object.assign({method:g,headers:at,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function oi(v,g,m){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(v,g,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},ir),g);try{const T=new ai(v),L=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const te=yield L.json();if("needConfirmation"in te)throw _i(v,"account-exists-with-different-credential",te);if(L.ok&&!("errorMessage"in te))return te;{const Te=L.ok?te.errorMessage:te.error.message,[at,bt]=Te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw _i(v,"credential-already-in-use",te);if("EMAIL_EXISTS"===at)throw _i(v,"email-already-in-use",te);const Ut=w[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(bt)throw Me(v,Ut,bt);He(v,Ut)}}catch(T){if(T instanceof H.ZR)throw T;He(v,"network-request-failed")}})).apply(this,arguments)}function yi(v,g,m,w){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.Z)(function*(v,g,m,w,T={}){const L=yield tn(v,g,m,w,T);return"mfaPendingCredential"in L&&He(v,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function rr(v,g,m,w){const T=`${g}${m}?${w}`;return v.config.emulator?pn(v.config,T):`${v.config.apiScheme}://${T}`}class ai{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Re(this.auth,"network-request-failed")),nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _i(v,g,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const T=Re(v,g,w);return T.customData._tokenResponse=m,T}function gt(){return(gt=(0,c.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function xi(v,g){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function rn(v,g){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function sr(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Vi(){return(Vi=(0,c.Z)(function*(v,g=!1){const m=(0,H.m9)(v),w=yield m.getIdToken(g),T=zt(w);ie(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const L="object"==typeof T.firebase?T.firebase:void 0,te=null==L?void 0:L.sign_in_provider;return{claims:T,token:w,authTime:sr(Ks(T.auth_time)),issuedAtTime:sr(Ks(T.iat)),expirationTime:sr(Ks(T.exp)),signInProvider:te||null,signInSecondFactor:(null==L?void 0:L.sign_in_second_factor)||null}})).apply(this,arguments)}function Ks(v){return 1e3*Number(v)}function zt(v){const[g,m,w]=v.split(".");if(void 0===g||void 0===m||void 0===w)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,H.tV)(m);return T?JSON.parse(T):(nt("Failed to decode base64 JWT payload"),null)}catch(T){return nt("Caught error parsing JWT payload as JSON",T),null}}function rt(v,g){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(w){throw w instanceof H.ZR&&$r(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function $r({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class qt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),w)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class zr{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fn(v){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(v){var g;const m=v.auth,w=yield v.getIdToken(),T=yield rt(v,rn(m,{idToken:w}));ie(null==T?void 0:T.users.length,m,"internal-error");const L=T.users[0];v._notifyReloadListener(L);const te=(null===(g=L.providerUserInfo)||void 0===g?void 0:g.length)?ze(L.providerUserInfo):[],Te=Kt(v.providerData,te),Ut=!!v.isAnonymous&&!(v.email&&L.passwordHash||(null==Te?void 0:Te.length)),Tn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Te,metadata:new zr(L.createdAt,L.lastLoginAt),isAnonymous:Ut};Object.assign(v,Tn)})).apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(v){const g=(0,H.m9)(v);yield Fn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Kt(v,g){return[...v.filter(w=>!g.some(T=>T.providerId===w.providerId)),...g]}function ze(v){return v.map(g=>{var{providerId:m}=g,w=(0,ae._T)(g,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function et(){return(et=(0,c.Z)(function*(v,g){const m=yield oi(v,{},(0,c.Z)(function*(){const w=(0,H.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:T,apiKey:L}=v.config,te=rr(v,T,"/v1/token",`key=${L}`),Te=yield v._getAdditionalHeaders();return Te["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(te,{method:"POST",headers:Te,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ie(g.idToken,"internal-error"),ie(void 0!==g.idToken,"internal-error"),ie(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function ht(v){const g=zt(v);return ie(g,"internal-error"),ie(void 0!==g.exp,"internal-error"),ie(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var w=this;return(0,c.Z)(function*(){return ie(!w.accessToken||w.refreshToken,g,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var w=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:L,expiresIn:te}=yield function xe(v,g){return et.apply(this,arguments)}(g,m);w.updateTokensAndExpiration(T,L,Number(te))})()}updateTokensAndExpiration(g,m,w){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,m){const{refreshToken:w,accessToken:T,expirationTime:L}=m,te=new ft;return w&&(ie("string"==typeof w,"internal-error",{appName:g}),te.refreshToken=w),T&&(ie("string"==typeof T,"internal-error",{appName:g}),te.accessToken=T),L&&(ie("number"==typeof L,"internal-error",{appName:g}),te.expirationTime=L),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ft,this.toJSON())}_performRefresh(){return Qe("not implemented")}}function Vt(v,g){ie("string"==typeof v||void 0===v,"internal-error",{appName:g})}class Bt{constructor(g){var{uid:m,auth:w,stsTokenManager:T}=g,L=(0,ae._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new zr(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,c.Z)(function*(){const w=yield rt(m,m.stsTokenManager.getToken(m.auth,g));return ie(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(g){return function Sn(v){return Vi.apply(this,arguments)}(this,g)}reload(){return function yt(v){return Pn.apply(this,arguments)}(this)}_assign(g){this!==g&&(ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Bt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var w=this;return(0,c.Z)(function*(){let T=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),T=!0),m&&(yield Fn(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,c.Z)(function*(){const m=yield g.getIdToken();return yield rt(g,function as(v,g){return gt.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var w,T,L,te,Te,at,bt,Ut;const Tn=null!==(w=m.displayName)&&void 0!==w?w:void 0,uo=null!==(T=m.email)&&void 0!==T?T:void 0,La=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,Dl=null!==(te=m.photoURL)&&void 0!==te?te:void 0,Pc=null!==(Te=m.tenantId)&&void 0!==Te?Te:void 0,wu=null!==(at=m._redirectEventId)&&void 0!==at?at:void 0,Xf=null!==(bt=m.createdAt)&&void 0!==bt?bt:void 0,Sm=null!==(Ut=m.lastLoginAt)&&void 0!==Ut?Ut:void 0,{uid:Nc,emailVerified:ah,isAnonymous:Jf,providerData:Eu,stsTokenManager:ep}=m;ie(Nc&&ep,g,"internal-error");const tp=ft.fromJSON(this.name,ep);ie("string"==typeof Nc,g,"internal-error"),Vt(Tn,g.name),Vt(uo,g.name),ie("boolean"==typeof ah,g,"internal-error"),ie("boolean"==typeof Jf,g,"internal-error"),Vt(La,g.name),Vt(Dl,g.name),Vt(Pc,g.name),Vt(wu,g.name),Vt(Xf,g.name),Vt(Sm,g.name);const xl=new Bt({uid:Nc,auth:g,email:uo,emailVerified:ah,displayName:Tn,isAnonymous:Jf,photoURL:Dl,phoneNumber:La,tenantId:Pc,stsTokenManager:tp,createdAt:Xf,lastLoginAt:Sm});return Eu&&Array.isArray(Eu)&&(xl.providerData=Eu.map(np=>Object.assign({},np))),wu&&(xl._redirectEventId=wu),xl}static _fromIdTokenResponse(g,m,w=!1){return(0,c.Z)(function*(){const T=new ft;T.updateFromServerResponse(m);const L=new Bt({uid:m.localId,auth:g,stsTokenManager:T,isAnonymous:w});return yield Fn(L),L})()}}const U=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,w){var T=this;return(0,c.Z)(function*(){T.storage[m]=w})()}_get(m){var w=this;return(0,c.Z)(function*(){const T=w.storage[m];return void 0===T?null:T})()}_remove(m){var w=this;return(0,c.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function Y(v,g,m){return`firebase:${v}:${g}:${m}`}class ge{constructor(g,m,w){this.persistence=g,this.auth=m,this.userKey=w;const{config:T,name:L}=this.auth;this.fullUserKey=Y(this.userKey,T.apiKey,L),this.fullPersistenceKey=Y("persistence",T.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Bt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,c.Z)(function*(){if(m.persistence===g)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,w="authUser"){return(0,c.Z)(function*(){if(!m.length)return new ge(de(U),g,w);const T=(yield Promise.all(m.map(function(){var bt=(0,c.Z)(function*(Ut){if(yield Ut._isAvailable())return Ut});return function(Ut){return bt.apply(this,arguments)}}()))).filter(bt=>bt);let L=T[0]||de(U);const te=Y(w,g.config.apiKey,g.name);let Te=null;for(const bt of m)try{const Ut=yield bt._get(te);if(Ut){const Tn=Bt._fromJSON(g,Ut);bt!==L&&(Te=Tn),L=bt;break}}catch(Ut){}const at=T.filter(bt=>bt._shouldAllowMigration);return L._shouldAllowMigration&&at.length?(L=at[0],Te&&(yield L._set(te,Te.toJSON())),yield Promise.all(m.map(function(){var bt=(0,c.Z)(function*(Ut){if(Ut!==L)try{yield Ut._remove(te)}catch(Tn){}});return function(Ut){return bt.apply(this,arguments)}}())),new ge(L,g,w)):new ge(L,g,w)})()}}function P(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(je(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(V(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Et(g))return"Blackberry";if(it(g))return"Webos";if(j(g))return"Safari";if((g.includes("chrome/")||ue(g))&&!g.includes("edge/"))return"Chrome";if(Ke(g))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function V(v=(0,H.z$)()){return/firefox\//i.test(v)}function j(v=(0,H.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ue(v=(0,H.z$)()){return/crios\//i.test(v)}function je(v=(0,H.z$)()){return/iemobile/i.test(v)}function Ke(v=(0,H.z$)()){return/android/i.test(v)}function Et(v=(0,H.z$)()){return/blackberry/i.test(v)}function it(v=(0,H.z$)()){return/webos/i.test(v)}function Mt(v=(0,H.z$)()){return/iphone|ipad|ipod/i.test(v)}function Cn(v=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Ii(v=(0,H.z$)()){return Mt(v)||Ke(v)||it(v)||Et(v)||/windows phone/i.test(v)||je(v)}function zn(v,g=[]){let m;switch(v){case"Browser":m=P((0,H.z$)());break;case"Worker":m=`${P((0,H.z$)())}-${v}`;break;default:m=v}const w=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${k.SDK_VERSION}/${w}`}class el{constructor(g,m,w){this.app=g,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ze(this),this.idTokenSubscription=new Ze(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,m){var w=this;return m&&(this._popupRedirectResolver=de(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,L;if(!w._deleted&&(w.persistenceManager=yield ge.create(w,g),!w._deleted)){if(null===(T=w._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(te){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(L=w.currentUser)||void 0===L?void 0:L.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m)}})()}initializeCurrentUser(g){var m=this;return(0,c.Z)(function*(){var w;let T=yield m.assertedPersistence.getCurrentUser();if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const L=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,te=null==T?void 0:T._redirectEventId,Te=yield m.tryRedirectSignIn(g);(!L||L===te)&&(null==Te?void 0:Te.user)&&(T=Te.user)}return T?T._redirectEventId?(ie(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===T._redirectEventId?m.directlySetCurrentUser(T):m.reloadAndSetCurrentUserOrClear(T)):m.reloadAndSetCurrentUserOrClear(T):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var m=this;return(0,c.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(T){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,c.Z)(function*(){try{yield Fn(g)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function dt(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,c.Z)(function*(){const w=g?(0,H.m9)(g):null;return w&&ie(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(g){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return g&&ie(m.tenantId===g.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(g),m.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(de(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new H.LL("auth","Firebase",g())}onAuthStateChanged(g,m,w){return this.registerStateListener(this.authStateSubscription,g,m,w)}onIdTokenChanged(g,m,w){return this.registerStateListener(this.idTokenSubscription,g,m,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var w=this;return(0,c.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(m);return null===g?T.removeCurrentUser():T.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const w=g&&de(g)||m._popupRedirectResolver;ie(w,m,"argument-error"),m.redirectPersistenceManager=yield ge.create(m,[de(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,c.Z)(function*(){var w,T;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===g?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,c.Z)(function*(){if(g===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,w,T){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),te=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(te,this,"internal-error"),te.then(()=>L(this.currentUser)),"function"==typeof m?g.addObserver(m,w,T):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var m;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const T=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(w["X-Firebase-Client"]=T),w})()}}function gn(v){return(0,H.m9)(v)}class Ze{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,H.ne)(m=>this.observer=m)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wt(v,g,m){const w=gn(v);ie(w._canInitEmulator,w,"emulator-config-failed"),ie(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),L=mn(g),{host:te,port:Te}=function Ai(v){const g=mn(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const L=T[1];return{host:L,port:ls(w.substr(L.length+1))}}{const[L,te]=w.split(":");return{host:L,port:ls(te)}}}(g);w.config.emulator={url:`${L}//${te}${null===Te?"":`:${Te}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:te,port:Te,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Jn(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function mn(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function ls(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Si{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Qe("not implemented")}_getIdTokenResponse(g){return Qe("not implemented")}_linkToIdToken(g,m){return Qe("not implemented")}_getReauthenticationResolver(g){return Qe("not implemented")}}function Dn(v,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:resetPassword",Jt(v,g))})).apply(this,arguments)}function Ys(v,g){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function tl(v,g){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:update",Jt(v,g))})).apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(v,g){return yi(v,"POST","/v1/accounts:signInWithPassword",Jt(v,g))})).apply(this,arguments)}function li(v,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:sendOobCode",Jt(v,g))})).apply(this,arguments)}function Zs(v,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(v,g){return li(v,g)})).apply(this,arguments)}function vn(v,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(v,g){return li(v,g)})).apply(this,arguments)}function lc(v,g){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(v,g){return li(v,g)})).apply(this,arguments)}function Sr(v,g){return nl.apply(this,arguments)}function nl(){return(nl=(0,c.Z)(function*(v,g){return li(v,g)})).apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(v,g){return yi(v,"POST","/v1/accounts:signInWithEmailLink",Jt(v,g))})).apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(v,g){return yi(v,"POST","/v1/accounts:signInWithEmailLink",Jt(v,g))})).apply(this,arguments)}class il extends Si{constructor(g,m,w,T=null){super("password",w),this._email=g,this._password=m,this._tenantId=T}static _fromEmailAndPassword(g,m){return new il(g,m,"password")}static _fromEmailAndCode(g,m,w=null){return new il(g,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function zl(v,g){return Wr.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Do(v,g){return xo.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:He(g,"internal-error")}})()}_linkToIdToken(g,m){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Ys(g,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Tr(v,g){return aa.apply(this,arguments)}(g,{idToken:m,email:w._email,oobCode:w._password});default:He(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function xs(v,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(v,g){return yi(v,"POST","/v1/accounts:signInWithIdp",Jt(v,g))})).apply(this,arguments)}class us extends Si{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new us(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):He("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:T}=m,L=(0,ae._T)(m,["providerId","signInMethod"]);if(!w||!T)return null;const te=new us(w,T);return te.idToken=L.idToken||void 0,te.accessToken=L.accessToken||void 0,te.secret=L.secret,te.nonce=L.nonce,te.pendingToken=L.pendingToken||null,te}_getIdTokenResponse(g){return xs(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,xs(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,xs(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,H.xO)(m)}return g}}function Lf(v,g){return uc.apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:sendVerificationCode",Jt(v,g))})).apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(v,g){return yi(v,"POST","/v1/accounts:signInWithPhoneNumber",Jt(v,g))})).apply(this,arguments)}function cc(){return(cc=(0,c.Z)(function*(v,g){const m=yield yi(v,"POST","/v1/accounts:signInWithPhoneNumber",Jt(v,g));if(m.temporaryProof)throw _i(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Vf={USER_NOT_FOUND:"user-not-found"};function rl(){return(rl=(0,c.Z)(function*(v,g){return yi(v,"POST","/v1/accounts:signInWithPhoneNumber",Jt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Vf)})).apply(this,arguments)}class Ao extends Si{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Ao({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Ao({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Nd(v,g){return la.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Io(v,g){return cc.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Bf(v,g){return rl.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:w,verificationCode:T}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:w,code:T}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:w,phoneNumber:T,temporaryProof:L}=g;return w||m||T||L?new Ao({verificationId:m,verificationCode:w,phoneNumber:T,temporaryProof:L}):null}}class Is{constructor(g){var m,w,T,L,te,Te;const at=(0,H.zd)((0,H.pd)(g)),bt=null!==(m=at.apiKey)&&void 0!==m?m:null,Ut=null!==(w=at.oobCode)&&void 0!==w?w:null,Tn=function Uf(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=at.mode)&&void 0!==T?T:null);ie(bt&&Ut&&Tn,"argument-error"),this.apiKey=bt,this.operation=Tn,this.code=Ut,this.continueUrl=null!==(L=at.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(te=at.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Te=at.tenantId)&&void 0!==Te?Te:null}static parseLink(g){const m=function gm(v){const g=(0,H.zd)((0,H.pd)(v)).link,m=g?(0,H.zd)((0,H.pd)(g)).deep_link_id:null,w=(0,H.zd)((0,H.pd)(v)).deep_link_id;return(w?(0,H.zd)((0,H.pd)(w)).link:null)||w||m||g||v}(g);try{return new Is(m)}catch(w){return null}}}let sl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return il._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const T=Is.parseLink(w);return ie(T,"argument-error"),il._fromEmailAndCode(m,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class cs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ua extends cs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ar extends ua{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return ie("providerId"in m&&"signInMethod"in m,"argument-error"),us._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ie(g.idToken||g.accessToken,"argument-error"),us._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ar.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ar.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:L,nonce:te,providerId:Te}=g;if(!w&&!T&&!m&&!L||!Te)return null;try{return new ar(Te)._credential({idToken:m,accessToken:w,nonce:te,pendingToken:L})}catch(at){return null}}}let hc=(()=>{class v extends ua{constructor(){super("facebook.com")}static credential(m){return us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),So=(()=>{class v extends ua{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:T}=m;if(!w&&!T)return null;try{return v.credential(w,T)}catch(L){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ol=(()=>{class v extends ua{constructor(){super("github.com")}static credential(m){return us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ca extends Si{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return xs(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,xs(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,xs(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:T,pendingToken:L}=m;return w&&T&&L&&w===T?new ca(w,L):null}static _create(g,m){return new ca(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mr extends cs{constructor(g){ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Mr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Mr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=ca.fromJSON(g);return ie(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:w}=g;if(!m||!w)return null;try{return ca._create(w,m)}catch(T){return null}}}let ds=(()=>{class v extends ua{constructor(){super("twitter.com")}static credential(m,w){return us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=m;if(!w||!T)return null;try{return v.credential(w,T)}catch(L){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function al(v,g){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(v,g){return yi(v,"POST","/v1/accounts:signUp",Jt(v,g))})).apply(this,arguments)}class an{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,w,T=!1){return(0,c.Z)(function*(){const L=yield Bt._fromIdTokenResponse(g,w,T),te=lr(w);return new an({user:L,providerId:te,_tokenResponse:w,operationType:m})})()}static _forOperation(g,m,w){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const T=lr(w);return new an({user:g,providerId:T,_tokenResponse:w,operationType:m})})()}}function lr(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function jf(v){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(v){var g;const m=gn(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new an({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield al(m,{returnSecureToken:!0}),T=yield an._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class ql extends H.ZR{constructor(g,m,w,T){var L;super(m.code,m.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,ql.prototype),this.customData={appName:g.name,tenantId:null!==(L=g.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,m,w,T){return new ql(g,m,w,T)}}function Vd(v,g,m,w){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?ql._fromErrorAndOperation(v,L,g,w):L})}function Kl(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function As(v,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(v,g){const m=(0,H.m9)(v);yield Xs(!0,m,g);const{providerUserInfo:w}=yield xi(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),T=Kl(w||[]);return m.providerData=m.providerData.filter(L=>T.has(L.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Yl(v,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(v,g,m=!1){const w=yield rt(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return an._forOperation(v,"link",w)})).apply(this,arguments)}function Xs(v,g,m){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(v,g,m){yield Fn(g);const T=!1===v?"provider-already-linked":"no-such-provider";ie(Kl(g.providerData).has(m)===v,g.auth,T)})).apply(this,arguments)}function yn(v,g){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,c.Z)(function*(v,g,m=!1){const{auth:w}=v,T="reauthenticate";try{const L=yield rt(v,Vd(w,T,g,v),m);ie(L.idToken,w,"internal-error");const te=zt(L.idToken);ie(te,w,"internal-error");const{sub:Te}=te;return ie(v.uid===Te,w,"user-mismatch"),an._forOperation(v,T,L)}catch(L){throw"auth/user-not-found"===(null==L?void 0:L.code)&&He(w,"user-mismatch"),L}})).apply(this,arguments)}function Mo(v,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(v,g,m=!1){const w="signIn",T=yield Vd(v,w,g),L=yield an._fromIdTokenResponse(v,w,T);return m||(yield v._updateCurrentUser(L.user)),L})).apply(this,arguments)}function vi(v,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(v,g){return Mo(gn(v),g)})).apply(this,arguments)}function ll(v,g){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(v,g){const m=(0,H.m9)(v);return yield Xs(!1,m,g.providerId),Yl(m,g)})).apply(this,arguments)}function Ui(v,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(v,g){return yn((0,H.m9)(v),g)})).apply(this,arguments)}function eo(v,g){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(v,g){return yi(v,"POST","/v1/accounts:signInWithCustomToken",Jt(v,g))})).apply(this,arguments)}function Rr(v,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(v,g){const m=gn(v),w=yield eo(m,{token:g,returnSecureToken:!0}),T=yield an._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class fs{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?vt._fromServerResponse(g,m):He(g,"internal-error")}}class vt extends fs{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new vt(m)}}function ha(v,g,m){var w;ie((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),ie(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ie(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(ie(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function fc(v,g,m){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v),T={requestType:"PASSWORD_RESET",email:g};m&&ha(w,T,m),yield vn(w,T)})).apply(this,arguments)}function pc(v,g,m){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(v,g,m){yield Dn((0,H.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Bd(v,g){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(v,g){yield tl((0,H.m9)(v),{oobCode:g})})).apply(this,arguments)}function Se(v,g){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(v,g){const m=(0,H.m9)(v),w=yield Dn(m,{oobCode:g}),T=w.requestType;switch(ie(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(w.mfaInfo,m,"internal-error");default:ie(w.email,m,"internal-error")}let L=null;return w.mfaInfo&&(L=fs._fromServerResponse(gn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:L},operation:T}})).apply(this,arguments)}function Ud(v,g){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(v,g){const{data:m}=yield Se((0,H.m9)(v),g);return m.email})).apply(this,arguments)}function ul(v,g,m){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(v,g,m){const w=gn(v),T=yield al(w,{returnSecureToken:!0,email:g,password:m}),L=yield an._fromIdTokenResponse(w,"signIn",T);return yield w._updateCurrentUser(L.user),L})).apply(this,arguments)}function Or(v,g,m){return vi((0,H.m9)(v),sl.credential(g,m))}function Ql(v,g,m){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v),T={requestType:"EMAIL_SIGNIN",email:g};ie(m.handleCodeInApp,w,"argument-error"),m&&ha(w,T,m),yield lc(w,T)})).apply(this,arguments)}function Gf(v,g){const m=Is.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Xl(v,g,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v),T=sl.credentialWithLink(g,m||le());return ie(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),vi(w,T)})).apply(this,arguments)}function Po(v,g){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:createAuthUri",Jt(v,g))})).apply(this,arguments)}function Kr(v,g){return No.apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(v,g){const w={identifier:g,continueUri:Dt()?le():"http://localhost"},{signinMethods:T}=yield Po((0,H.m9)(v),w);return T||[]})).apply(this,arguments)}function Lo(v,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(v,g){const m=(0,H.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&ha(m.auth,T,g);const{email:L}=yield Zs(m.auth,T);L!==v.email&&(yield v.reload())})).apply(this,arguments)}function jd(v,g,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&ha(w.auth,L,m);const{email:te}=yield Sr(w.auth,L);te!==v.email&&(yield v.reload())})).apply(this,arguments)}function gc(v,g){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Jl(v,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const w=(0,H.m9)(v),L={idToken:yield w.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},te=yield rt(w,gc(w.auth,L));w.displayName=te.displayName||null,w.photoURL=te.photoUrl||null;const Te=w.providerData.find(({providerId:at})=>"password"===at);Te&&(Te.displayName=w.displayName,Te.photoURL=w.photoURL),yield w._updateTokensIfNecessary(te)})).apply(this,arguments)}function Gd(v,g){return tu((0,H.m9)(v),g,null)}function eu(v,g){return tu((0,H.m9)(v),null,g)}function tu(v,g,m){return cl.apply(this,arguments)}function cl(){return(cl=(0,c.Z)(function*(v,g,m){const{auth:w}=v,L={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(L.email=g),m&&(L.password=m);const te=yield rt(v,Ys(w,L));yield v._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class to{constructor(g,m,w={}){this.isNewUser=g,this.providerId=m,this.profile=w}}class nu extends to{constructor(g,m,w,T){super(g,m,w),this.username=T}}class Hd extends to{constructor(g,m){super(g,"facebook.com",m)}}class mc extends nu{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class no extends to{constructor(g,m){super(g,"google.com",m)}}class Rs extends nu{constructor(g,m,w){super(g,"twitter.com",m,w)}}function iu(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ma(v){var g,m;if(!v)return null;const{providerId:w}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},L=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const te=null===(m=null===(g=zt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(te)return new to(L,"anonymous"!==te&&"custom"!==te?te:null)}if(!w)return null;switch(w){case"facebook.com":return new Hd(L,T);case"github.com":return new mc(L,T);case"google.com":return new no(L,T);case"twitter.com":return new Rs(L,T,v.screenName||null);case"custom":case"anonymous":return new to(L,null);default:return new to(L,w,T)}}(m)}class io{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new io("enroll",g)}static _fromMfaPendingCredential(g){return new io("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,w;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return io._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(w=g.multiFactorSession)||void 0===w?void 0:w.idToken)return io._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ya{constructor(g,m,w){this.session=g,this.hints=m,this.signInResolver=w}static _fromError(g,m){const w=gn(g),T=m.customData._serverResponse,L=(T.mfaInfo||[]).map(Te=>fs._fromServerResponse(w,Te));ie(T.mfaPendingCredential,w,"internal-error");const te=io._fromMfaPendingCredential(T.mfaPendingCredential);return new ya(te,L,function(){var Te=(0,c.Z)(function*(at){const bt=yield at._process(w,te);delete T.mfaInfo,delete T.mfaPendingCredential;const Ut=Object.assign(Object.assign({},T),{idToken:bt.idToken,refreshToken:bt.refreshToken});switch(m.operationType){case"signIn":const Tn=yield an._fromIdTokenResponse(w,m.operationType,Ut);return yield w._updateCurrentUser(Tn.user),Tn;case"reauthenticate":return ie(m.user,w,"internal-error"),an._forOperation(m.user,m.operationType,Ut);default:He(w,"internal-error")}});return function(at){return Te.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,c.Z)(function*(){return m.signInResolver(g)})()}}function su(v,g){var m;const w=(0,H.m9)(v),T=g;return ie(g.customData.operationType,w,"argument-error"),ie(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),ya._fromError(w,T)}function dl(v,g){return tn(v,"POST","/v2/accounts/mfaEnrollment:start",Jt(v,g))}class vc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>fs._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new vc(g)}getSession(){var g=this;return(0,c.Z)(function*(){return io._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var w=this;return(0,c.Z)(function*(){const T=g,L=yield w.getSession(),te=yield rt(w.user,T._process(w.user.auth,L,m));return yield w.user._updateTokensIfNecessary(te),w.user.reload()})()}unenroll(g){var m=this;return(0,c.Z)(function*(){const w="string"==typeof g?g:g.uid,T=yield m.user.getIdToken(),L=yield rt(m.user,function _c(v,g){return tn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(v,g))}(m.user.auth,{idToken:T,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:te})=>te!==w),yield m.user._updateTokensIfNecessary(L);try{yield m.user.reload()}catch(te){if("auth/user-token-expired"!==te.code)throw te}})()}}const ps=new WeakMap;function hl(v){const g=(0,H.m9)(v);return ps.has(g)||ps.set(g,vc._fromUser(g)),ps.get(g)}const _a="__sak";class zd{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(_a,"1"),this.storage.removeItem(_a),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const wc=(()=>{class v extends zd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yr(){const v=(0,H.z$)();return j(v)||Mt(v)}()&&function Ar(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Ii(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),L=this.localCache[w];T!==L&&m(w,L,T)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Te,at,bt)=>{this.notifyListeners(Te,bt)});const T=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Te=this.storage.getItem(T);if(m.newValue!==Te)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!w)return}const L=()=>{const Te=this.storage.getItem(T);!w&&this.localCache[T]===Te||this.notifyListeners(T,Te)},te=this.storage.getItem(T);!function Zt(){return(0,H.w1)()&&10===document.documentMode}()||te===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,w){this.localCache[m]=w;const T=this.listeners[m];if(T)for(const L of Array.from(T))L(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var T=()=>super._set,L=this;return(0,c.Z)(function*(){yield T().call(L,m,w),L.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,T=this;return(0,c.Z)(function*(){const L=yield w().call(T,m);return T.localCache[m]=JSON.stringify(L),L})()}_remove(m){var w=()=>super._remove,T=this;return(0,c.Z)(function*(){yield w().call(T,m),delete T.localCache[m]})()}}return v.type="LOCAL",v})(),Bo=(()=>{class v extends zd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let fl=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(L=>L.isListeningto(m));if(w)return w;const T=new v(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,c.Z)(function*(){const T=m,{eventId:L,eventType:te,data:Te}=T.data,at=w.handlersMap[te];if(!(null==at?void 0:at.size))return;T.ports[0].postMessage({status:"ack",eventId:L,eventType:te});const bt=Array.from(at).map(function(){var Tn=(0,c.Z)(function*(uo){return uo(T.origin,Te)});return function(uo){return Tn.apply(this,arguments)}}()),Ut=yield function Zr(v){return Promise.all(v.map(function(){var g=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return g.apply(this,arguments)}}()))}(bt);T.ports[0].postMessage({status:"done",eventId:L,eventType:te,response:Ut})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function kr(v="",g=10){let m="";for(let w=0;w<g;w++)m+=Math.floor(10*Math.random());return v+m}class Wd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,w=50){var T=this;return(0,c.Z)(function*(){const L="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let te,Te;return new Promise((at,bt)=>{const Ut=kr("",20);L.port1.start();const Tn=setTimeout(()=>{bt(new Error("unsupported_event"))},w);Te={messageChannel:L,onMessage(uo){const La=uo;if(La.data.eventId===Ut)switch(La.data.status){case"ack":clearTimeout(Tn),te=setTimeout(()=>{bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),at(La.data.response);break;default:clearTimeout(Tn),clearTimeout(te),bt(new Error("invalid_response"))}}},T.handlers.add(Te),L.port1.addEventListener("message",Te.onMessage),T.target.postMessage({eventType:g,eventId:Ut,data:m},[L.port2])}).finally(()=>{Te&&T.removeMessageHandler(Te)})})()}}function Vn(){return window}function va(){return void 0!==Vn().WorkerGlobalScope&&"function"==typeof Vn().importScripts}function Fs(){return(Fs=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Ec="firebaseLocalStorageDb",au="firebaseLocalStorage",wa="fbase_key";class Yi{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function gs(v,g){return v.transaction([au],g?"readwrite":"readonly").objectStore(au)}function Ct(){const v=indexedDB.open(Ec,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(au,{keyPath:wa})}catch(T){m(T)}}),v.addEventListener("success",(0,c.Z)(function*(){const w=v.result;w.objectStoreNames.contains(au)?g(w):(w.close(),yield function Ea(){const v=indexedDB.deleteDatabase(Ec);return new Yi(v).toPromise()}(),g(yield Ct()))}))})}function ms(v,g,m){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(v,g,m){const w=gs(v,!0).put({[wa]:g,value:m});return new Yi(w).toPromise()})).apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(v,g){const m=gs(v,!1).get(g),w=yield new Yi(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function pl(v,g){const m=gs(v,!0).delete(g);return new Yi(m).toPromise()}const Ia=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield Ct()),m.db})()}_withRetries(m){var w=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const L=yield w._openDb();return yield m(L)}catch(L){if(T++>3)throw L;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return va()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=fl._getInstance(function ym(){return va()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(T,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(T,L){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(T,L){return["keyChanged"]});return function(T,L){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var w,T;if(m.activeServiceWorker=yield function ks(){return Fs.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Wd(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);!L||(null===(w=L[0])||void 0===w?void 0:w.fulfilled)&&(null===(T=L[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function ba(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ct();return yield ms(m,_a,"1"),yield pl(m,_a),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(L=>ms(L,m,w)),T.localCache[m]=w,T.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,c.Z)(function*(){const T=yield w._withRetries(L=>function Da(v,g){return xa.apply(this,arguments)}(L,m));return w.localCache[m]=T,T})()}_remove(m){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(T=>pl(T,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const w=yield m._withRetries(te=>{const Te=gs(te,!1).getAll();return new Yi(Te).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const T=[],L=new Set;for(const{fbase_key:te,value:Te}of w)L.add(te),JSON.stringify(m.localCache[te])!==JSON.stringify(Te)&&(m.notifyListeners(te,Te),T.push(te));for(const te of Object.keys(m.localCache))m.localCache[te]&&!L.has(te)&&(m.notifyListeners(te,null),T.push(te));return T})()}notifyListeners(m,w){this.localCache[m]=w;const T=this.listeners[m];if(T)for(const L of Array.from(T))L(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Aa(v,g){return tn(v,"POST","/v2/accounts/mfaSignIn:start",Jt(v,g))}function uu(){return(uu=(0,c.Z)(function*(v){return(yield tn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function cu(v){return new Promise((g,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=g,w.onerror=T=>{const L=Re("internal-error");L.customData=T,m(L)},w.type="text/javascript",w.charset="UTF-8",function Ps(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(w)})}function jo(v){return`__${v}${Math.floor(1e6*Math.random())}`}const ys=1e12;class Ls{constructor(g){this.auth=g,this.counter=ys,this._widgets=new Map}render(g,m){const w=this.counter;return this._widgets.set(w,new Yd(g,this.auth.name,m||{})),this.counter++,w}reset(g){var m;const w=g||ys;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(g){var m;return(null===(m=this._widgets.get(g||ys))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,c.Z)(function*(){var w;return null===(w=m._widgets.get(g||ys))||void 0===w||w.execute(),""})()}}class Yd{constructor(g,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof g?document.getElementById(g):g;ie(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hu(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vs=jo("rcb"),Cc=new pt(3e4,6e4);class Gn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Vn().grecaptcha}load(g,m=""){return ie(function vm(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Vn().grecaptcha):new Promise((w,T)=>{const L=Vn().setTimeout(()=>{T(Re(g,"network-request-failed"))},Cc.get());Vn()[Vs]=()=>{Vn().clearTimeout(L),delete Vn()[Vs];const Te=Vn().grecaptcha;if(!Te)return void T(Re(g,"internal-error"));const at=Te.render;Te.render=(bt,Ut)=>{const Tn=at(bt,Ut);return this.counter++,Tn},this.hostLanguage=m,w(Te)},cu(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Vs,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),T(Re(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Vn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bm{load(g){return(0,c.Z)(function*(){return new Ls(g)})()}clearedOneInstance(){}}const Zd="recaptcha",Qd={theme:"light",type:"image"};class Xd{constructor(g,m=Object.assign({},Qd),w){this.parameters=m,this.type=Zd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gn(w),this.isInvisible="invisible"===this.parameters.size,ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof g?document.getElementById(g):g;ie(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bm:new Gn,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(m)||new Promise(L=>{const te=Te=>{!Te||(g.tokenChangeListeners.delete(te),L(Te))};g.tokenChangeListeners.add(te),g.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof g)g(m);else if("string"==typeof g){const w=Vn()[g];"function"==typeof w&&w(m)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){ie(Dt()&&!va(),g.auth,"internal-error"),yield function $f(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function gl(v){return uu.apply(this,arguments)}(g.auth);ie(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dc{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Ao._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Sa(v,g,m){return xc.apply(this,arguments)}function xc(){return(xc=(0,c.Z)(function*(v,g,m){const w=gn(v),T=yield dr(w,g,(0,H.m9)(m));return new Dc(T,L=>vi(w,L))})).apply(this,arguments)}function ti(v,g,m){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v);yield Xs(!1,w,"phone");const T=yield dr(w.auth,g,(0,H.m9)(m));return new Dc(T,L=>ll(w,L))})).apply(this,arguments)}function ml(v,g,m){return yl.apply(this,arguments)}function yl(){return(yl=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v),T=yield dr(w.auth,g,(0,H.m9)(m));return new Dc(T,L=>Ui(w,L))})).apply(this,arguments)}function dr(v,g,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(v,g,m){var w;const T=yield m.verify();try{let L;if(ie("string"==typeof T,v,"argument-error"),ie(m.type===Zd,v,"argument-error"),L="string"==typeof g?{phoneNumber:g}:g,"session"in L){const te=L.session;if("phoneNumber"in L)return ie("enroll"===te.type,v,"internal-error"),(yield dl(v,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ie("signin"===te.type,v,"internal-error");const Te=(null===(w=L.multiFactorHint)||void 0===w?void 0:w.uid)||L.multiFactorUid;return ie(Te,v,"missing-multi-factor-info"),(yield Aa(v,{mfaPendingCredential:te.credential,mfaEnrollmentId:Te,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Lf(v,{phoneNumber:L.phoneNumber,recaptchaToken:T});return te}}finally{m._reset()}})).apply(this,arguments)}function Zi(v,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(v,g){yield Yl((0,H.m9)(v),g)})).apply(this,arguments)}let Go=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=gn(m)}verifyPhoneNumber(m,w){return dr(this.auth,m,(0,H.m9)(w))}static credential(m,w){return Ao._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:T}=m;return w&&T?Ao._fromTokenResponse(w,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function En(v,g){return g?de(g):(ie(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class so extends Si{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return xs(g,this._buildIdpRequest())}_linkToIdToken(g,m){return xs(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return xs(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Ma(v){return Mo(v.auth,new so(v),v.bypassAuthState)}function _l(v){const{auth:g,user:m}=v;return ie(m,g,"internal-error"),yn(m,new so(v),v.bypassAuthState)}function fu(v){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,c.Z)(function*(v){const{auth:g,user:m}=v;return ie(m,g,"internal-error"),Yl(m,new so(v),v.bypassAuthState)})).apply(this,arguments)}class vl{constructor(g,m,w,T,L=!1){this.auth=g,this.resolver=w,this.user=T,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,c.Z)(function*(w,T){g.pendingPromise={resolve:w,reject:T};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(L){g.reject(L)}});return function(w,T){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:L,tenantId:te,error:Te,type:at}=g;if(Te)return void m.reject(Te);const bt={auth:m.auth,requestUri:w,sessionId:T,tenantId:te||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(at)(bt))}catch(Ut){m.reject(Ut)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ma;case"linkViaPopup":case"linkViaRedirect":return fu;case"reauthViaPopup":case"reauthViaRedirect":return _l;default:He(this.auth,"internal-error")}}resolve(g){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hr=new pt(2e3,1e4);function Bs(v,g,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(v,g,m){const w=gn(v);Ce(v,g,cs);const T=En(w,m);return new Ic(w,"signInViaPopup",g,T).executeNotNull()})).apply(this,arguments)}function Jd(v,g,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v);Ce(w.auth,g,cs);const T=En(w.auth,m);return new Ic(w.auth,"reauthViaPopup",g,T,w).executeNotNull()})).apply(this,arguments)}function oo(v,g,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v);Ce(w.auth,g,cs);const T=En(w.auth,m);return new Ic(w.auth,"linkViaPopup",g,T,w).executeNotNull()})).apply(this,arguments)}let Ic=(()=>{class v extends vl{constructor(m,w,T,L,te){super(m,w,L,te),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const w=yield m.execute();return ie(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,c.Z)(function*(){X(1===m.filter.length,"Popup operations only handle one event");const w=kr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(Re(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,T;this.pollId=(null===(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,hr.get())};m()}}return v.currentPopupAction=null,v})();const fr=new Map;class Sc extends vl{constructor(g,m,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,c.Z)(function*(){let w=fr.get(m.auth._key());if(!w){try{const L=(yield function Qr(v,g){return Oa.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;w=()=>Promise.resolve(L)}catch(T){w=()=>Promise.reject(T)}fr.set(m.auth._key(),w)}return m.bypassAuthState||fr.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(w,g);if("unknown"!==g.type){if(g.eventId){const T=yield w.auth._redirectUserForId(g.eventId);if(T)return w.user=T,m().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Oa(){return(Oa=(0,c.Z)(function*(v,g){const m=gu(g),w=js(v);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(m));return yield w._remove(m),T})).apply(this,arguments)}function pu(v,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(v,g){return js(v)._set(gu(g),"true")})).apply(this,arguments)}function $o(){fr.clear()}function js(v){return de(v._redirectPersistence)}function gu(v){return Y("pendingRedirect",v.config.apiKey,v.name)}function D(v,g,m){return function x(v,g,m){return O.apply(this,arguments)}(v,g,m)}function O(){return(O=(0,c.Z)(function*(v,g,m){const w=gn(v);Ce(v,g,cs);const T=En(w,m);return yield pu(T,w),T._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function B(v,g,m){return function ee(v,g,m){return oe.apply(this,arguments)}(v,g,m)}function oe(){return(oe=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v);Ce(w.auth,g,cs);const T=En(w.auth,m);yield pu(T,w.auth);const L=yield ii(w);return T._openRedirect(w.auth,g,"reauthViaRedirect",L)})).apply(this,arguments)}function Fe(v,g,m){return function Ue(v,g,m){return xt.apply(this,arguments)}(v,g,m)}function xt(){return(xt=(0,c.Z)(function*(v,g,m){const w=(0,H.m9)(v);Ce(w.auth,g,cs);const T=En(w.auth,m);yield Xs(!1,w,g.providerId),yield pu(T,w.auth);const L=yield ii(w);return T._openRedirect(w.auth,g,"linkViaRedirect",L)})).apply(this,arguments)}function It(v,g){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(function*(v,g){return yield gn(v)._initializationPromise,_t(v,g,!1)})).apply(this,arguments)}function _t(v,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(v,g,m=!1){const w=gn(v),T=En(w,g),te=yield new Sc(w,T,m).execute();return te&&!m&&(delete te.user._redirectEventId,yield w._persistUserIfCurrent(te.user),yield w._setRedirectUser(null,g)),te})).apply(this,arguments)}function ii(v){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(v){const g=kr(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Qi{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(m=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function wl(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pr(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var w;if(g.error&&!Pr(g)){const T=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Re(this.auth,T))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const w=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pr(g))}saveEventToCache(g){this.cachedEventUids.add(pr(g)),this.lastProcessedEventTime=Date.now()}}function pr(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Pr({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function eh(v){return mu.apply(this,arguments)}function mu(){return(mu=(0,c.Z)(function*(v,g={}){return tn(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Tc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gr=/^https?/;function El(){return(El=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield eh(v);for(const m of g)try{if(ao(m))return}catch(w){}He(v,"unauthorized-domain")})).apply(this,arguments)}function ao(v){const g=le(),{protocol:m,hostname:w}=new URL(g);if(v.startsWith("chrome-extension://")){const te=new URL(v);return""===te.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&te.hostname===w}if(!gr.test(m))return!1;if(Tc.test(v))return w===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const yu=new pt(3e4,6e4);function Wf(){const v=Vn().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Mc=null;function yv(v){return Mc=Mc||function mv(v){return new Promise((g,m)=>{var w,T,L;function te(){Wf(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Wf(),m(Re(v,"network-request-failed"))},timeout:yu.get()})}if(null===(T=null===(w=Vn().gapi)||void 0===w?void 0:w.iframes)||void 0===T?void 0:T.Iframe)g(gapi.iframes.getContext());else{if(!(null===(L=Vn().gapi)||void 0===L?void 0:L.load)){const Te=jo("iframefcb");return Vn()[Te]=()=>{gapi.load?te():m(Re(v,"network-request-failed"))},cu(`https://apis.google.com/js/api.js?onload=${Te}`).catch(at=>m(at))}te()}}).catch(g=>{throw Mc=null,g})}(v),Mc}const th=new pt(5e3,15e3),Cm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ka=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cl(v){const g=v.config;ie(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?pn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:v.name,v:k.SDK_VERSION},T=ka.get(v.config.apiHost);T&&(w.eid=T);const L=v._getFrameworks();return L.length&&(w.fw=L.join(",")),`${m}?${(0,H.xO)(w).slice(1)}`}function Rc(){return Rc=(0,c.Z)(function*(v){const g=yield yv(v),m=Vn().gapi;return ie(m,v,"internal-error"),g.open({where:document.body,url:Cl(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cm,dontclear:!0},w=>new Promise(function(){var T=(0,c.Z)(function*(L,te){yield w.restyle({setHideOnLeave:!1});const Te=Re(v,"network-request-failed"),at=Vn().setTimeout(()=>{te(Te)},th.get());function bt(){Vn().clearTimeout(at),L(w)}w.ping(bt).then(bt,()=>{te(Te)})});return function(L,te){return T.apply(this,arguments)}}()))}),Rc.apply(this,arguments)}const Dm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ih{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function lo(v,g,m,w,T,L){ie(v.config.authDomain,v,"auth-domain-config-required"),ie(v.config.apiKey,v,"invalid-api-key");const te={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:k.SDK_VERSION,eventId:T};if(g instanceof cs){g.setDefaultLanguage(v.languageCode),te.providerId=g.providerId||"",(0,H.xb)(g.getCustomParameters())||(te.customParameters=JSON.stringify(g.getCustomParameters()));for(const[at,bt]of Object.entries(L||{}))te[at]=bt}if(g instanceof ua){const at=g.getScopes().filter(bt=>""!==bt);at.length>0&&(te.scopes=at.join(","))}v.tenantId&&(te.tid=v.tenantId);const Te=te;for(const at of Object.keys(Te))void 0===Te[at]&&delete Te[at];return`${function rh({config:v}){return v.emulator?pn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,H.xO)(Te).slice(1)}`}const vu="webStorageSupport",Na=class Xr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bo,this._completeRedirectFn=_t}_openPopup(g,m,w,T){var L=this;return(0,c.Z)(function*(){var te;X(null===(te=L.eventManagers[g._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Te=lo(g,m,w,le(),T);return function Yf(v,g,m,w=500,T=600){const L=Math.max((window.screen.availHeight-T)/2,0).toString(),te=Math.max((window.screen.availWidth-w)/2,0).toString();let Te="";const at=Object.assign(Object.assign({},Dm),{width:w.toString(),height:T.toString(),top:L,left:te}),bt=(0,H.z$)().toLowerCase();m&&(Te=ue(bt)?"_blank":m),V(bt)&&(g=g||"http://localhost",at.scrollbars="yes");const Ut=Object.entries(at).reduce((uo,[La,Dl])=>`${uo}${La}=${Dl},`,"");if(function Xn(v=(0,H.z$)()){var g;return Mt(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(bt)&&"_self"!==Te)return function Pa(v,g){const m=document.createElement("a");m.href=v,m.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(g||"",Te),new ih(null);const Tn=window.open(g||"",Te,Ut);ie(Tn,v,"popup-blocked");try{Tn.focus()}catch(uo){}return new ih(Tn)}(g,Te,kr())})()}_openRedirect(g,m,w,T){var L=this;return(0,c.Z)(function*(){return yield L._originValidation(g),function ui(v){Vn().location.href=v}(lo(g,m,w,le(),T)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:T,promise:L}=this.eventManagers[m];return T?Promise.resolve(T):(X(L,"If manager is not set, promise should be"),L)}const w=this.initAndGetManager(g);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(g){var m=this;return(0,c.Z)(function*(){const w=yield function Fa(v){return Rc.apply(this,arguments)}(g),T=new Qi(g);return w.register("authEvent",L=>(ie(null==L?void 0:L.authEvent,g,"invalid-auth-event"),{status:T.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:T},m.iframes[g._key()]=w,T})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(vu,{type:vu},T=>{var L;const te=null===(L=null==T?void 0:T[0])||void 0===L?void 0:L[vu];void 0!==te&&m(!!te),He(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function zf(v){return El.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ii()||j()||Mt()}};class sh extends class Zf{constructor(g){this.factorId=g}_process(g,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,w);case"signin":return this._finalizeSignIn(g,m.credential);default:return Qe("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new sh(g)}_finalizeEnroll(g,m,w){return function qn(v,g){return tn(v,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(v,g))}(g,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Kd(v,g){return tn(v,"POST","/v2/accounts/mfaSignIn:finalize",Jt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Im=(()=>{class v{constructor(){}static assertion(m){return sh._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Qf="@firebase/auth",kc="0.19.11";class Am{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(w=>{var T;g((null===(T=w)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fc(v=(0,k.getApp)()){const g=(0,k._getProvider)(v,"auth");return g.isInitialized()?g.getImmediate():function me(v,g){const m=(0,k._getProvider)(v,"auth");if(m.isInitialized()){const T=m.getImmediate(),L=m.getOptions();if((0,H.vZ)(L,null!=g?g:{}))return T;He(T,"already-initialized")}return m.initialize({options:g})}(v,{popupRedirectResolver:Na,persistence:[Ia,wc,Bo]})}!function oh(v){(0,k._registerComponent)(new _e.wA("auth",(g,{options:m})=>{const w=g.getProvider("app").getImmediate(),T=g.getProvider("heartbeat"),{apiKey:L,authDomain:te}=w.options;return((Te,at)=>{ie(L&&!L.includes(":"),"invalid-api-key",{appName:Te.name}),ie(!(null==te?void 0:te.includes(":")),"argument-error",{appName:Te.name});const bt={apiKey:L,authDomain:te,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zn(v)},Ut=new el(Te,at,bt);return function Pe(v,g){const m=(null==g?void 0:g.persistence)||[],w=(Array.isArray(m)?m:[m]).map(de);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(Ut,m),Ut})(w,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,w)=>{g.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new _e.wA("auth-internal",g=>{const m=gn(g.getProvider("auth").getImmediate());return new Am(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Qf,kc,function bu(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,k.registerVersion)(Qf,kc,"esm2017")}("Browser")},2090:(ct,Ae,F)=>{F.d(Ae,{BH:()=>Oe,LL:()=>Dt,ZR:()=>le,zI:()=>de,US:()=>re,tV:()=>q,L:()=>ye,$s:()=>zr,r3:()=>tn,Sg:()=>Ne,ne:()=>gt,vZ:()=>yi,ZB:()=>ne,Lj:()=>Vt,pd:()=>_i,m9:()=>yt,z$:()=>Ge,jU:()=>nt,ru:()=>He,d:()=>Me,xb:()=>oi,w1:()=>Ce,hl:()=>X,uI:()=>we,UG:()=>De,b$:()=>Re,G6:()=>Qe,Mn:()=>Ye,X3:()=>ft,xO:()=>rr,zd:()=>ai,eu:()=>pe});var c=F(5861);const se=function(W){const U=[];let Y=0;for(let ge=0;ge<W.length;ge++){let P=W.charCodeAt(ge);P<128?U[Y++]=P:P<2048?(U[Y++]=P>>6|192,U[Y++]=63&P|128):55296==(64512&P)&&ge+1<W.length&&56320==(64512&W.charCodeAt(ge+1))?(P=65536+((1023&P)<<10)+(1023&W.charCodeAt(++ge)),U[Y++]=P>>18|240,U[Y++]=P>>12&63|128,U[Y++]=P>>6&63|128,U[Y++]=63&P|128):(U[Y++]=P>>12|224,U[Y++]=P>>6&63|128,U[Y++]=63&P|128)}return U},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,U){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let P=0;P<W.length;P+=3){const V=W[P],j=P+1<W.length,ue=j?W[P+1]:0,je=P+2<W.length,Ke=je?W[P+2]:0;let Mt=(15&ue)<<2|Ke>>6,Cn=63&Ke;je||(Cn=64,j||(Mt=64)),ge.push(Y[V>>2],Y[(3&V)<<4|ue>>4],Y[Mt],Y[Cn])}return ge.join("")},encodeString(W,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(W):this.encodeByteArray(se(W),U)},decodeString(W,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(W):function(W){const U=[];let Y=0,ge=0;for(;Y<W.length;){const P=W[Y++];if(P<128)U[ge++]=String.fromCharCode(P);else if(P>191&&P<224){const V=W[Y++];U[ge++]=String.fromCharCode((31&P)<<6|63&V)}else if(P>239&&P<365){const je=((7&P)<<18|(63&W[Y++])<<12|(63&W[Y++])<<6|63&W[Y++])-65536;U[ge++]=String.fromCharCode(55296+(je>>10)),U[ge++]=String.fromCharCode(56320+(1023&je))}else{const V=W[Y++],j=W[Y++];U[ge++]=String.fromCharCode((15&P)<<12|(63&V)<<6|63&j)}}return U.join("")}(this.decodeStringToByteArray(W,U))},decodeStringToByteArray(W,U){this.init_();const Y=U?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let P=0;P<W.length;){const V=Y[W.charAt(P++)],ue=P<W.length?Y[W.charAt(P)]:0;++P;const Ke=P<W.length?Y[W.charAt(P)]:64;++P;const it=P<W.length?Y[W.charAt(P)]:64;if(++P,null==V||null==ue||null==Ke||null==it)throw Error();ge.push(V<<2|ue>>4),64!==Ke&&(ge.push(ue<<4&240|Ke>>2),64!==it&&ge.push(Ke<<6&192|it))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ye=function(W){return function(W){const U=se(W);return re.encodeByteArray(U,!0)}(W).replace(/\./g,"")},q=function(W){try{return re.decodeString(W,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function ne(W,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return U}for(const Y in U)!U.hasOwnProperty(Y)||!qe(Y)||(W[Y]=ne(W[Y],U[Y]));return W}function qe(W){return"__proto__"!==W}class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,Y)=>{this.resolve=U,this.reject=Y})}wrapCallback(U){return(Y,ge)=>{Y?this.reject(Y):this.resolve(ge),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(Y):U(Y,ge))}}}function Ne(W,U){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=U||"demo-project",P=W.iat||0,V=W.sub||W.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const j=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:P,exp:P+3600,auth_time:P,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(j)),""].join(".")}function Ge(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function nt(){return"object"==typeof self&&self.self===self}function He(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Me(){return Ge().indexOf("Electron/")>=0}function Ce(){const W=Ge();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Ye(){return Ge().indexOf("MSAppHost/")>=0}function Qe(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X(){return"object"==typeof indexedDB}function pe(){return new Promise((W,U)=>{try{let Y=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(ge);P.onsuccess=()=>{P.result.close(),Y||self.indexedDB.deleteDatabase(ge),W(!0)},P.onupgradeneeded=()=>{Y=!1},P.onerror=()=>{var V;U((null===(V=P.error)||void 0===V?void 0:V.message)||"")}}catch(Y){U(Y)}})}function de(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class le extends Error{constructor(U,Y,ge){super(Y),this.code=U,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}}class Dt{constructor(U,Y,ge){this.service=U,this.serviceName=Y,this.errors=ge}create(U,...Y){const ge=Y[0]||{},P=`${this.service}/${U}`,V=this.errors[U],j=V?function en(W,U){return W.replace(Rn,(Y,ge)=>{const P=U[ge];return null!=P?String(P):`<${ge}?>`})}(V,ge):"Error";return new le(P,`${this.serviceName}: ${j} (${P}).`,ge)}}const Rn=/\{\$([^}]+)}/g;function tn(W,U){return Object.prototype.hasOwnProperty.call(W,U)}function oi(W){for(const U in W)if(Object.prototype.hasOwnProperty.call(W,U))return!1;return!0}function yi(W,U){if(W===U)return!0;const Y=Object.keys(W),ge=Object.keys(U);for(const P of Y){if(!ge.includes(P))return!1;const V=W[P],j=U[P];if(Hr(V)&&Hr(j)){if(!yi(V,j))return!1}else if(V!==j)return!1}for(const P of ge)if(!Y.includes(P))return!1;return!0}function Hr(W){return null!==W&&"object"==typeof W}function rr(W){const U=[];for(const[Y,ge]of Object.entries(W))Array.isArray(ge)?ge.forEach(P=>{U.push(encodeURIComponent(Y)+"="+encodeURIComponent(P))}):U.push(encodeURIComponent(Y)+"="+encodeURIComponent(ge));return U.length?"&"+U.join("&"):""}function ai(W){const U={};return W.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[P,V]=ge.split("=");U[decodeURIComponent(P)]=decodeURIComponent(V)}}),U}function _i(W){const U=W.indexOf("?");if(!U)return"";const Y=W.indexOf("#",U);return W.substring(U,Y>0?Y:void 0)}function gt(W,U){const Y=new xi(W,U);return Y.subscribe.bind(Y)}class xi{constructor(U,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{U(this)}).catch(ge=>{this.error(ge)})}next(U){this.forEachObserver(Y=>{Y.next(U)})}error(U){this.forEachObserver(Y=>{Y.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,Y,ge){let P;if(void 0===U&&void 0===Y&&void 0===ge)throw new Error("Missing Observer.");P=function rn(W,U){if("object"!=typeof W||null===W)return!1;for(const Y of U)if(Y in W&&"function"==typeof W[Y])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:Y,complete:ge},void 0===P.next&&(P.next=jn),void 0===P.error&&(P.error=jn),void 0===P.complete&&(P.complete=jn);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch(j){}}),this.observers.push(P),V}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,U)}sendOne(U,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{Y(this.observers[U])}catch(ge){"undefined"!=typeof console&&console.error&&console.error(ge)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jn(){}function zr(W,U=1e3,Y=2){const ge=U*Math.pow(Y,W),P=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+P)}function yt(W){return W&&W._delegate?W._delegate:W}function Pn(W,U){return new Promise((Y,ge)=>{W.onsuccess=P=>{Y(P.target.result)},W.onerror=P=>{var V;ge(`${U}: ${null===(V=P.target.error)||void 0===V?void 0:V.message}`)}})}class Kt{constructor(U){this._db=U,this.objectStoreNames=this._db.objectStoreNames}transaction(U,Y){return new ze(this._db.transaction.call(this._db,U,Y))}createObjectStore(U,Y){return new xe(this._db.createObjectStore(U,Y))}close(){this._db.close()}}class ze{constructor(U){this._transaction=U,this.complete=new Promise((Y,ge)=>{this._transaction.oncomplete=function(){Y()},this._transaction.onerror=()=>{ge(this._transaction.error)},this._transaction.onabort=()=>{ge(this._transaction.error)}})}objectStore(U){return new xe(this._transaction.objectStore(U))}}class xe{constructor(U){this._store=U}index(U){return new et(this._store.index(U))}createIndex(U,Y,ge){return new et(this._store.createIndex(U,Y,ge))}get(U){return Pn(this._store.get(U),"Error reading from IndexedDB")}put(U,Y){return Pn(this._store.put(U,Y),"Error writing to IndexedDB")}delete(U){return Pn(this._store.delete(U),"Error deleting from IndexedDB")}clear(){return Pn(this._store.clear(),"Error clearing IndexedDB object store")}}class et{constructor(U){this._index=U}get(U){return Pn(this._index.get(U),"Error reading from IndexedDB")}}function ft(W,U,Y){return new Promise((ge,P)=>{try{const V=indexedDB.open(W,U);V.onsuccess=j=>{ge(new Kt(j.target.result))},V.onerror=j=>{var ue;P(`Error opening indexedDB: ${null===(ue=j.target.error)||void 0===ue?void 0:ue.message}`)},V.onupgradeneeded=j=>{Y(new Kt(V.result),j.oldVersion,j.newVersion,new ze(V.transaction))}}catch(V){P(`Error opening indexedDB: ${V.message}`)}})}function Vt(W){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(W){return new Promise((U,Y)=>{try{const ge=indexedDB.deleteDatabase(W);ge.onsuccess=()=>{U()},ge.onerror=P=>{var V;Y(`Error deleting indexedDB database "${W}": ${null===(V=P.target.error)||void 0===V?void 0:V.message}`)}}catch(ge){Y(`Error deleting indexedDB database "${W}": ${ge.message}`)}})})).apply(this,arguments)}},4818:(ct,Ae,F)=>{var c=F(5e3);let H=null;function k(){return H}const re=new c.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ye(){return(0,c.LFG)(z)}()},providedIn:"platform"}),n})(),z=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ne()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ne()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function qe(){return new z((0,c.LFG)(re))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ge(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function De(n){const e=(0,c.LFG)(re).location;return new He((0,c.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const nt=new c.OlP("appBaseHref");let He=(()=>{class n extends we{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ge(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,l){const d=this.prepareExternalUrl(r+Ge(l));this._platformLocation.pushState(t,i,d)}replaceState(t,i,r,l){const d=this.prepareExternalUrl(r+Ge(l));this._platformLocation.replaceState(t,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(nt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ne(ie(r)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ge(i))}normalize(t){return n.stripTrailingSlash(function Ye(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ge,n.joinWithSlash=Oe,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(c.LFG(we),c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ce(){return new Me((0,c.LFG)(we),(0,c.LFG)(he))}()},providedIn:"root"}),n})();function ie(n){return n.replace(/\/index.html$/,"")}var de=(()=>((de=de||{})[de.Format=0]="Format",de[de.Standalone=1]="Standalone",de))(),me=(()=>((me=me||{})[me.Narrow=0]="Narrow",me[me.Abbreviated=1]="Abbreviated",me[me.Wide=2]="Wide",me[me.Short=3]="Short",me))(),Pe=(()=>((Pe=Pe||{})[Pe.Short=0]="Short",Pe[Pe.Medium=1]="Medium",Pe[Pe.Long=2]="Long",Pe[Pe.Full=3]="Full",Pe))(),le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Group=1]="Group",le[le.List=2]="List",le[le.PercentSign=3]="PercentSign",le[le.PlusSign=4]="PlusSign",le[le.MinusSign=5]="MinusSign",le[le.Exponential=6]="Exponential",le[le.SuperscriptingExponent=7]="SuperscriptingExponent",le[le.PerMille=8]="PerMille",le[le.Infinity=9]="Infinity",le[le.NaN=10]="NaN",le[le.TimeSeparator=11]="TimeSeparator",le[le.CurrencyDecimal=12]="CurrencyDecimal",le[le.CurrencyGroup=13]="CurrencyGroup",le))();function nn(n,e){return On((0,c.cg1)(n)[c.wAp.DateFormat],e)}function Jt(n,e){return On((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function tn(n,e){return On((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function An(n,e){const t=(0,c.cg1)(n),i=t[c.wAp.NumberSymbols][e];if(void 0===i){if(e===le.CurrencyDecimal)return t[c.wAp.NumberSymbols][le.Decimal];if(e===le.CurrencyGroup)return t[c.wAp.NumberSymbols][le.Group]}return i}function _i(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function On(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function rn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Sn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vi={},Ks=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zt=(()=>((zt=zt||{})[zt.Short=0]="Short",zt[zt.ShortGMT=1]="ShortGMT",zt[zt.Long=2]="Long",zt[zt.Extended=3]="Extended",zt))(),ht=(()=>((ht=ht||{})[ht.FullYear=0]="FullYear",ht[ht.Month=1]="Month",ht[ht.Date=2]="Date",ht[ht.Hours=3]="Hours",ht[ht.Minutes=4]="Minutes",ht[ht.Seconds=5]="Seconds",ht[ht.FractionalSeconds=6]="FractionalSeconds",ht[ht.Day=7]="Day",ht))(),rt=(()=>((rt=rt||{})[rt.DayPeriods=0]="DayPeriods",rt[rt.Days=1]="Days",rt[rt.Months=2]="Months",rt[rt.Eras=3]="Eras",rt))();function Wi(n,e,t,i){let r=function ue(n){if(Ke(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,l=1,d=1]=n.split("-").map(f=>+f);return $r(r,l-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Sn))return function je(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,f=Number(n[5]||0)-i,_=Number(n[6]||0),E=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,d,f,_,E),e}(i)}const e=new Date(n);if(!Ke(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=qt(t,e)||e;let f,d=[];for(;e;){if(f=Ks.exec(e),!f){d.push(e);break}{d=d.concat(f.slice(1));const I=d.pop();if(!I)break;e=I}}let _=r.getTimezoneOffset();i&&(_=P(i,_),r=function j(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function V(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(P(e,r)-r))}(r,i,!0));let E="";return d.forEach(I=>{const R=function ge(n){if(Y[n])return Y[n];let e;switch(n){case"G":case"GG":case"GGG":e=Kt(rt.Eras,me.Abbreviated);break;case"GGGG":e=Kt(rt.Eras,me.Wide);break;case"GGGGG":e=Kt(rt.Eras,me.Narrow);break;case"y":e=yt(ht.FullYear,1,0,!1,!0);break;case"yy":e=yt(ht.FullYear,2,0,!0,!0);break;case"yyy":e=yt(ht.FullYear,3,0,!1,!0);break;case"yyyy":e=yt(ht.FullYear,4,0,!1,!0);break;case"Y":e=U(1);break;case"YY":e=U(2,!0);break;case"YYY":e=U(3);break;case"YYYY":e=U(4);break;case"M":case"L":e=yt(ht.Month,1,1);break;case"MM":case"LL":e=yt(ht.Month,2,1);break;case"MMM":e=Kt(rt.Months,me.Abbreviated);break;case"MMMM":e=Kt(rt.Months,me.Wide);break;case"MMMMM":e=Kt(rt.Months,me.Narrow);break;case"LLL":e=Kt(rt.Months,me.Abbreviated,de.Standalone);break;case"LLLL":e=Kt(rt.Months,me.Wide,de.Standalone);break;case"LLLLL":e=Kt(rt.Months,me.Narrow,de.Standalone);break;case"w":e=W(1);break;case"ww":e=W(2);break;case"W":e=W(1,!0);break;case"d":e=yt(ht.Date,1);break;case"dd":e=yt(ht.Date,2);break;case"c":case"cc":e=yt(ht.Day,1);break;case"ccc":e=Kt(rt.Days,me.Abbreviated,de.Standalone);break;case"cccc":e=Kt(rt.Days,me.Wide,de.Standalone);break;case"ccccc":e=Kt(rt.Days,me.Narrow,de.Standalone);break;case"cccccc":e=Kt(rt.Days,me.Short,de.Standalone);break;case"E":case"EE":case"EEE":e=Kt(rt.Days,me.Abbreviated);break;case"EEEE":e=Kt(rt.Days,me.Wide);break;case"EEEEE":e=Kt(rt.Days,me.Narrow);break;case"EEEEEE":e=Kt(rt.Days,me.Short);break;case"a":case"aa":case"aaa":e=Kt(rt.DayPeriods,me.Abbreviated);break;case"aaaa":e=Kt(rt.DayPeriods,me.Wide);break;case"aaaaa":e=Kt(rt.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":e=Kt(rt.DayPeriods,me.Abbreviated,de.Standalone,!0);break;case"bbbb":e=Kt(rt.DayPeriods,me.Wide,de.Standalone,!0);break;case"bbbbb":e=Kt(rt.DayPeriods,me.Narrow,de.Standalone,!0);break;case"B":case"BB":case"BBB":e=Kt(rt.DayPeriods,me.Abbreviated,de.Format,!0);break;case"BBBB":e=Kt(rt.DayPeriods,me.Wide,de.Format,!0);break;case"BBBBB":e=Kt(rt.DayPeriods,me.Narrow,de.Format,!0);break;case"h":e=yt(ht.Hours,1,-12);break;case"hh":e=yt(ht.Hours,2,-12);break;case"H":e=yt(ht.Hours,1);break;case"HH":e=yt(ht.Hours,2);break;case"m":e=yt(ht.Minutes,1);break;case"mm":e=yt(ht.Minutes,2);break;case"s":e=yt(ht.Seconds,1);break;case"ss":e=yt(ht.Seconds,2);break;case"S":e=yt(ht.FractionalSeconds,1);break;case"SS":e=yt(ht.FractionalSeconds,2);break;case"SSS":e=yt(ht.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=xe(zt.Short);break;case"ZZZZZ":e=xe(zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=xe(zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=xe(zt.Long);break;default:return null}return Y[n]=e,e}(I);E+=R?R(r,t,_):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),E}function $r(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function qt(n,e){const t=function en(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(Vi[t]=Vi[t]||{},Vi[t][e])return Vi[t][e];let i="";switch(e){case"shortDate":i=nn(n,Pe.Short);break;case"mediumDate":i=nn(n,Pe.Medium);break;case"longDate":i=nn(n,Pe.Long);break;case"fullDate":i=nn(n,Pe.Full);break;case"shortTime":i=Jt(n,Pe.Short);break;case"mediumTime":i=Jt(n,Pe.Medium);break;case"longTime":i=Jt(n,Pe.Long);break;case"fullTime":i=Jt(n,Pe.Full);break;case"short":const r=qt(n,"shortTime"),l=qt(n,"shortDate");i=zr(tn(n,Pe.Short),[r,l]);break;case"medium":const d=qt(n,"mediumTime"),f=qt(n,"mediumDate");i=zr(tn(n,Pe.Medium),[d,f]);break;case"long":const _=qt(n,"longTime"),E=qt(n,"longDate");i=zr(tn(n,Pe.Long),[_,E]);break;case"full":const I=qt(n,"fullTime"),R=qt(n,"fullDate");i=zr(tn(n,Pe.Full),[I,R])}return i&&(Vi[t][e]=i),i}function zr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Fn(n,e,t="-",i,r){let l="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,l=t));let d=String(n);for(;d.length<e;)d="0"+d;return i&&(d=d.substr(d.length-e)),l+d}function yt(n,e,t=0,i=!1,r=!1){return function(l,d){let f=function Pn(n,e){switch(n){case ht.FullYear:return e.getFullYear();case ht.Month:return e.getMonth();case ht.Date:return e.getDate();case ht.Hours:return e.getHours();case ht.Minutes:return e.getMinutes();case ht.Seconds:return e.getSeconds();case ht.FractionalSeconds:return e.getMilliseconds();case ht.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||f>-t)&&(f+=t),n===ht.Hours)0===f&&-12===t&&(f=12);else if(n===ht.FractionalSeconds)return function on(n,e){return Fn(n,3).substr(0,e)}(f,e);const _=An(d,le.MinusSign);return Fn(f,e,_,i,r)}}function Kt(n,e,t=de.Format,i=!1){return function(r,l){return function ze(n,e,t,i,r,l){switch(t){case rt.Months:return function pt(n,e,t){const i=(0,c.cg1)(n),l=On([i[c.wAp.MonthsFormat],i[c.wAp.MonthsStandalone]],e);return On(l,t)}(e,r,i)[n.getMonth()];case rt.Days:return function dt(n,e,t){const i=(0,c.cg1)(n),l=On([i[c.wAp.DaysFormat],i[c.wAp.DaysStandalone]],e);return On(l,t)}(e,r,i)[n.getDay()];case rt.DayPeriods:const d=n.getHours(),f=n.getMinutes();if(l){const E=function as(n){const e=(0,c.cg1)(n);return _i(e),(e[c.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?rn(i):[rn(i[0]),rn(i[1])])}(e),I=function gt(n,e,t){const i=(0,c.cg1)(n);_i(i);const l=On([i[c.wAp.ExtraData][0],i[c.wAp.ExtraData][1]],e)||[];return On(l,t)||[]}(e,r,i),R=E.findIndex(G=>{if(Array.isArray(G)){const[K,Q]=G,ce=d>=K.hours&&f>=K.minutes,Ve=d<Q.hours||d===Q.hours&&f<Q.minutes;if(K.hours<Q.hours){if(ce&&Ve)return!0}else if(ce||Ve)return!0}else if(G.hours===d&&G.minutes===f)return!0;return!1});if(-1!==R)return I[R]}return function Rn(n,e,t){const i=(0,c.cg1)(n),l=On([i[c.wAp.DayPeriodsFormat],i[c.wAp.DayPeriodsStandalone]],e);return On(l,t)}(e,r,i)[d<12?0:1];case rt.Eras:return function pn(n,e){return On((0,c.cg1)(n)[c.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,l,n,e,t,i)}}function xe(n){return function(e,t,i){const r=-1*i,l=An(t,le.MinusSign),d=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case zt.Short:return(r>=0?"+":"")+Fn(d,2,l)+Fn(Math.abs(r%60),2,l);case zt.ShortGMT:return"GMT"+(r>=0?"+":"")+Fn(d,1,l);case zt.Long:return"GMT"+(r>=0?"+":"")+Fn(d,2,l)+":"+Fn(Math.abs(r%60),2,l);case zt.Extended:return 0===i?"Z":(r>=0?"+":"")+Fn(d,2,l)+":"+Fn(Math.abs(r%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Bt(n){return $r(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function W(n,e=!1){return function(t,i){let r;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();r=1+Math.floor((d+l)/7)}else{const l=Bt(t),d=function Vt(n){const e=$r(n,0,1).getDay();return $r(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),f=l.getTime()-d.getTime();r=1+Math.round(f/6048e5)}return Fn(r,n,An(i,le.MinusSign))}}function U(n,e=!1){return function(t,i){return Fn(Bt(t).getFullYear(),n,An(i,le.MinusSign),e)}}const Y={};function P(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ke(n){return n instanceof Date&&!isNaN(n.valueOf())}let or=(()=>{class n{constructor(t,i,r,l){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Wr{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let li=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,l,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Wr(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===l?void 0:l);else if(null!==l){const f=i.get(l);i.move(f,d),Ds(f,r)}});for(let r=0,l=i.length;r<l;r++){const f=i.get(r).context;f.index=r,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ds(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ds(n,e){n.context.$implicit=e.item}let Ti=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Co("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Co("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class vn{constructor(){this.$implicit=null,this.ngIf=null}}function Co(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class lc{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Bi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Sr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new lc(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Bi,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();function qi(n,e){return new c.vHH(2100,"")}class Nf{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class us{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Lf=new us,uc=new Nf;let Nd=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,c.QGY)(t))return Lf;if((0,c.F4k)(t))return uc;throw qi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})();const Bf=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let rl=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,l){var d;if(null==t||""===t||t!=t)return null;try{return Wi(t,i,l||this.locale,null!==(d=null!=r?r:this.defaultTimezone)&&void 0!==d?d:void 0)}catch(f){throw qi()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(Bf,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0}),n})(),Wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Mr="browser";function an(n){return n===Mr}function lr(n){return"server"===n}class Js extends class Xs extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){H||(H=n)}(new Js)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zl(){return yn=yn||document.querySelector("base"),yn?yn.getAttribute("href"):null}();return null==t?null:function Ss(n){Mo=Mo||document.createElement("a"),Mo.setAttribute("href",n);const e=Mo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){yn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function tl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,l]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Mo,yn=null;const vi=new c.OlP("TRANSITION_ID"),ll=[{provide:c.ip1,useFactory:function Wn(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=k(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<r.length;l++)i.remove(r[l])})}},deps:[vi,re,c.zs3],multi:!0}];class ur{static init(){(0,c.VLi)(new ur)}addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const l=e.findTestabilityInTree(i,r);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let l=r.length,d=!1;const f=function(_){d=d||_,l--,0==l&&i(d)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ui=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const hs=new c.OlP("EventManagerPlugins");let eo=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let l=0;l<r.length;l++){const d=r[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(hs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ro{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=k().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Rr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),qr=(()=>{class n extends Rr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,r.push(i.appendChild(d))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(fs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(fs))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function fs(n){k().remove(n)}const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ha=/%COMP%/g;function Se(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Se(n,r,t):(r=r.replace(ha,n),t.push(r))}return t}function Gt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let bn=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ul(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ql(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new pa(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Se(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(eo),c.LFG(qr),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ul{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(vt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const l=vt[r];l?e.setAttributeNS(l,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=vt[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Gt(i)):this.eventManager.addEventListener(e,t,Gt(i))}}class Ql extends ul{constructor(e,t,i,r){super(e),this.component=i;const l=Se(r+"-"+i.id,i.styles,[]);t.addStyles(l),this.contentAttr=function Bd(n){return"_ngcontent-%COMP%".replace(ha,n)}(r+"-"+i.id),this.hostAttr=function fa(n){return"_nghost-%COMP%".replace(ha,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class pa extends ul{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Se(r.id,r.styles,[]);for(let d=0;d<l.length;d++){const f=document.createElement("style");f.textContent=l[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Gf=(()=>{class n extends Ro{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xl=["alt","control","meta","shift"],Po={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ei={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Kr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let No=(()=>{class n extends Ro{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const l=n.parseEventName(i),d=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let d="";if(Xl.forEach(_=>{const E=i.indexOf(_);E>-1&&(i.splice(E,1),d+=_+".")}),d+=l,0!=i.length||0===l.length)return null;const f={};return f.domEventName=r,f.fullKey=d,f}static getEventFullKey(t){let i="",r=function Lo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ei.hasOwnProperty(e)&&(e=ei[e]))}return Po[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Xl.forEach(l=>{l!=r&&Kr[l](t)&&(i+=l+".")}),i+=r,i}static eventCallback(t,i,r){return l=>{n.getEventFullKey(l)===t&&r.runGuarded(()=>i(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ga=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Mr},{provide:c.g9A,useValue:function Ki(){Js.makeCurrent(),ur.init()},multi:!0},{provide:re,useFactory:function Vo(){return(0,c.RDi)(document),document},deps:[]}]),Jl=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function jd(){return new c.qLn},deps:[]},{provide:hs,useClass:Gf,multi:!0,deps:[re,c.R0b,c.Lbi]},{provide:hs,useClass:No,multi:!0,deps:[re]},{provide:bn,useClass:bn,deps:[eo,qr,c.AFp]},{provide:c.FYo,useExisting:bn},{provide:Rr,useExisting:qr},{provide:qr,useClass:qr,deps:[re]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:eo,useClass:eo,deps:[hs,c.R0b]},{provide:class wn{},useClass:Ui,deps:[]}];let Ms=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:vi,useExisting:c.AFp},ll]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Jl,imports:[Wl,c.hGG]}),n})();"undefined"!=typeof window&&window;let Yr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(bc),i},providedIn:"root"}),n})(),bc=(()=>{class n extends Yr{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ou(n){return new bc(n.get(re))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})(),wc=(()=>{class n{constructor(){this.title="chat-pop-up"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"app-chat-pop-up")},styles:[""]}),n})();class cr{}const Zr="*";function fl(n,e){return{type:7,name:n,definitions:e,options:{}}}function kr(n,e=null){return{type:4,styles:e,timings:n}}function Vn(n,e=null){return{type:2,steps:n,options:e}}function ui(n){return{type:6,styles:n,offset:null}}function va(n,e,t){return{type:0,name:n,styles:e,options:t}}function Fs(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function wa(n){Promise.resolve(null).then(n)}class Yi{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wa(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class gs{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const l=this.players.length;0==l?wa(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==l&&this._onFinish()}),d.onDestroy(()=>{++i==l&&this._onDestroy()}),d.onStart(()=>{++r==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Ct=!1;function Ca(n){return new c.vHH(3e3,Ct)}function ml(){return"undefined"!=typeof window&&void 0!==window.document}function yl(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function dr(n){switch(n.length){case 0:return new Yi;case 1:return n[0];default:return new gs(n)}}function Mi(n,e,t,i,r={},l={}){const d=[],f=[];let _=-1,E=null;if(i.forEach(I=>{const R=I.offset,G=R==_,K=G&&E||{};Object.keys(I).forEach(Q=>{let ce=Q,Ve=I[Q];if("offset"!==Q)switch(ce=e.normalizePropertyName(ce,d),Ve){case"!":Ve=r[Q];break;case Zr:Ve=l[Q];break;default:Ve=e.normalizeStyleValue(Q,ce,Ve,d)}K[ce]=Ve}),G||f.push(K),E=K,_=R}),d.length)throw function Gn(n){return new c.vHH(3502,Ct)}();return f}function Zi(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&ro(t,"start",n)));break;case"done":n.onDone(()=>i(t&&ro(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&ro(t,"destroy",n)))}}function ro(n,e,t){const i=t.totalTime,l=Go(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),d=n._data;return null!=d&&(l._data=d),l}function Go(n,e,t,i,r="",l=0,d){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:l,disabled:!!d}}function En(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function so(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Ma=(n,e)=>!1,_l=(n,e,t)=>[],fu=null;function Ho(n){const e=n.parentNode||n.host;return e===fu?null:e}(yl()||"undefined"!=typeof Element)&&(ml()?(fu=(()=>document.documentElement)(),Ma=(n,e)=>{for(;e;){if(e===n)return!0;e=Ho(e)}return!1}):Ma=(n,e)=>n.contains(e),_l=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Bs=null,Us=!1;function Jd(n){Bs||(Bs=function bl(){return"undefined"!=typeof document?document.body:null}()||{},Us=!!Bs.style&&"WebkitAppearance"in Bs.style);let e=!0;return Bs.style&&!function hr(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Bs.style,!e&&Us&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Bs.style)),e}const oo=Ma,Ra=_l;let Ac=(()=>{class n{validateStyleProperty(t){return Jd(t)}matchesElement(t,i){return!1}containsElement(t,i){return oo(t,i)}getParentElement(t){return Ho(t)}query(t,i,r){return Ra(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,l,d,f=[],_){return new Yi(r,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),fr=(()=>{class n{}return n.NOOP=new Ac,n})();const pu="ng-enter",Fr="ng-leave",$o="ng-trigger",js=".ng-trigger",gu="ng-animating",D=".ng-animating";function x(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:O(parseFloat(e[1]),e[2])}function O(n,e){return"s"===e?1e3*n:n}function B(n,e,t){return n.hasOwnProperty("duration")?n:function ee(n,e,t){let r,l=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(Ca()),{duration:0,delay:0,easing:""};r=O(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(l=O(parseFloat(_),f[4]));const E=f[5];E&&(d=E)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function Da(){return new c.vHH(3100,Ct)}()),f=!0),l<0&&(e.push(function xa(){return new c.vHH(3101,Ct)}()),f=!0),f&&e.splice(_,0,Ca())}return{duration:r,delay:l,easing:d}}(n,e,t)}function oe(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ue(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else oe(n,t);return t}function xt(n,e,t){return t?e+":"+t+";":""}function It(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=xt(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=xt(0,eh(t),n.style[t]));n.setAttribute("style",e)}function Rt(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=wl(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),yl()&&It(n))}function _t(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=wl(t);n.style[i]=""}),yl()&&It(n))}function ni(n){return Array.isArray(n)?1==n.length?n[0]:Vn(n):n}const Gs=new RegExp("{{\\s*(.+?)\\s*}}","g");function zo(n){let e=[];if("string"==typeof n){let t;for(;t=Gs.exec(n);)e.push(t[1]);Gs.lastIndex=0}return e}function Qi(n,e,t){const i=n.toString(),r=i.replace(Gs,(l,d)=>{let f=e[d];return e.hasOwnProperty(d)||(t.push(function Uo(n){return new c.vHH(3003,Ct)}()),f=""),f.toString()});return r==i?n:r}function pr(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Pr=/-+([a-z0-9])/g;function wl(n){return n.replace(Pr,(...e)=>e[1].toUpperCase())}function eh(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function lu(n){return new c.vHH(3004,Ct)}()}}function zf(n,e){return window.getComputedStyle(n)[e]}function wm(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Em(n,e,t){if(":"==n[0]){const _=function Cm(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function hu(n){return new c.vHH(3016,Ct)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Yd(n){return new c.vHH(3015,Ct)}()),e;const r=i[1],l=i[2],d=i[3];e.push(Fa(r,d));"<"==l[0]&&!("*"==r&&"*"==d)&&e.push(Fa(d,r))}(i,t,e)):t.push(n),t}const ka=new Set(["true","1"]),Cl=new Set(["false","0"]);function Fa(n,e){const t=ka.has(n)||Cl.has(n),i=ka.has(e)||Cl.has(e);return(r,l)=>{let d="*"==n||n==r,f="*"==e||e==l;return!d&&t&&"boolean"==typeof r&&(d=r?ka.has(n):Cl.has(n)),!f&&i&&"boolean"==typeof l&&(f=l?ka.has(e):Cl.has(e)),d&&f}}const Dm=new RegExp("s*:selfs*,?","g");function qf(n,e,t,i){return new nh(n).build(e,t,i)}class nh{constructor(e){this._driver=e}build(e,t,i){const r=new Yf(t);this._resetContextStyleTimingState(r);const l=gr(this,ni(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function Ia(){return new c.vHH(3006,Ct)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,E=_.name;E.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,l.push(this.visitState(_,t))}),_.name=E}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,d.push(_)}else t.errors.push(function Aa(){return new c.vHH(3007,Ct)}())}),{type:7,name:e.name,states:l,transitions:d,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const l=new Set,d=r||{};i.styles.forEach(f=>{if(Oc(f)){const _=f;Object.keys(_).forEach(E=>{zo(_[E]).forEach(I=>{d.hasOwnProperty(I)||l.add(I)})})}}),l.size&&(pr(l.values()),t.errors.push(function Kd(n,e){return new c.vHH(3008,Ct)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=gr(this,ni(e.animation),t);return{type:1,matchers:wm(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:lo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>gr(this,i,t)),options:lo(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const l=e.steps.map(d=>{t.currentTime=i;const f=gr(this,d,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:l,options:lo(e.options)}}visitAnimate(e,t){const i=function xm(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return rh(B(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=rh(0,0,"");return l.dynamic=!0,l.strValue=i,l}return t=t||B(i,e),rh(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,l=e.styles?e.styles:ui({});if(5==l.type)r=this.visitKeyframes(l,t);else{let d=e.styles,f=!1;if(!d){f=!0;const E={};i.easing&&(E.easing=i.easing),d=ui(E)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(d,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==Zr?i.push(d):t.errors.push(function gl(n){return new c.vHH(3002,Ct)}()):i.push(d)}):i.push(e.styles);let r=!1,l=null;return i.forEach(d=>{if(Oc(d)){const f=d,_=f.easing;if(_&&(l=_,delete f.easing),!r)for(let E in f)if(f[E].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,l=t.currentTime;i&&l>0&&(l-=i.duration+i.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete d[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],E=_[f];let I=!0;E&&(l!=r&&l>=E.startTime&&r<=E.endTime&&(t.errors.push(function Ps(n,e,t,i,r){return new c.vHH(3010,Ct)}()),I=!1),l=E.startTime),I&&(_[f]={startTime:l,endTime:r}),t.options&&function ii(n,e,t){const i=e.params||{},r=zo(n);r.length&&r.forEach(l=>{i.hasOwnProperty(l)||t.push(function pl(n){return new c.vHH(3001,Ct)}())})}(d[f],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function cu(){return new c.vHH(3011,Ct)}()),i;let l=0;const d=[];let f=!1,_=!1,E=0;const I=e.steps.map(tt=>{const Je=this._makeStyleAst(tt,t);let $t=null!=Je.offset?Je.offset:function Pa(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Oc(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Oc(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Je.styles),ut=0;return null!=$t&&(l++,ut=Je.offset=$t),_=_||ut<0||ut>1,f=f||ut<E,E=ut,d.push(ut),Je});_&&t.errors.push(function jo(){return new c.vHH(3012,Ct)}()),f&&t.errors.push(function du(){return new c.vHH(3200,Ct)}());const R=e.steps.length;let G=0;l>0&&l<R?t.errors.push(function Ns(){return new c.vHH(3202,Ct)}()):0==l&&(G=1/(R-1));const K=R-1,Q=t.currentTime,ce=t.currentAnimateTimings,Ve=ce.duration;return I.forEach((tt,Je)=>{const $t=G>0?Je==K?1:G*Je:d[Je],ut=$t*Ve;t.currentTime=Q+ce.delay+ut,ce.duration=ut,this._validateStyleAst(tt,t),tt.offset=$t,i.styles.push(tt)}),i}visitReference(e,t){return{type:8,animation:gr(this,ni(e.animation),t),options:lo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:lo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:lo(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function Kf(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Dm,"")),n=n.replace(/@\*/g,js).replace(/@\w+/g,t=>js+"-"+t.substr(1)).replace(/:animating/g,D),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+l:l,En(t.collectedStyles,t.currentQuerySelector,{});const f=gr(this,ni(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:l,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:lo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function ys(){return new c.vHH(3013,Ct)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:B(e.timings,t.errors,!0);return{type:12,animation:gr(this,ni(e.animation),t),timings:i,options:null}}}class Yf{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Oc(n){return!Array.isArray(n)&&"object"==typeof n}function lo(n){return n?(n=oe(n)).params&&(n.params=function ih(n){return n?oe(n):null}(n.params)):n={},n}function rh(n,e,t){return{duration:n,delay:e,easing:t}}function vu(n,e,t,i,r,l,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:d,subTimeline:f}}class Xr{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const sh=new RegExp(":enter","g"),Qf=new RegExp(":leave","g");function kc(n,e,t,i,r,l={},d={},f,_,E=[]){return(new Am).buildKeyframes(n,e,t,i,r,l,d,f,_,E)}class Am{buildKeyframes(e,t,i,r,l,d,f,_,E,I=[]){E=E||new Xr;const R=new oh(e,t,E,r,l,I,[]);R.options=_,R.currentTimeline.setStyles([d],null,R.errors,_),gr(this,i,R);const G=R.timelines.filter(K=>K.containsAnimation());if(Object.keys(f).length){let K;for(let Q=G.length-1;Q>=0;Q--){const ce=G[Q];if(ce.element===t){K=ce;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([f],null,R.errors,_)}return G.length?G.map(K=>K.buildKeyframes()):[vu(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let l=t.currentTimeline.currentTime;const d=null!=i.duration?x(i.duration):null,f=null!=i.delay?x(i.delay):null;return 0!==d&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,d,f);l=Math.max(l,E.duration+E.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),gr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const l=e.options;if(l&&(l.params||l.delay)&&(r=t.createSubContext(l),r.transformIntoNewTimeline(),null!=l.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=bu);const d=x(l.delay);r.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>gr(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?x(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),gr(this,d,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return B(t.params?Qi(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(i.duration),this.visitStyle(l,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(l):i.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,l=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*l),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+l),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},l=r.delay?x(r.delay):0;l&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bu);let d=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((E,I)=>{t.currentQueryIndex=I;const R=t.createSubContext(e.options,E);l&&R.delayNextStep(l),E===t.element&&(_=R.currentTimeline),gr(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),f=d*(t.currentQueryTotal-1);let _=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const R=I.currentTime;gr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-R+(r.startTime-i.currentTimeline.startTime)}}const bu={};class oh{constructor(e,t,i,r,l,d,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=l,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Fc(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=x(i.duration)),null!=i.delay&&(r.delay=x(i.delay));const l=i.params;if(l){let d=r.params;d||(d=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=Qi(l[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,l=new oh(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=bu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},l=new v(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(l),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,l,d){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(sh,"."+this._enterClassName)).replace(Qf,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=i);0!==i&&(E=i<0?E.slice(E.length+i,E.length):E.slice(0,i)),f.push(...E)}return!l&&0==f.length&&d.push(function Ls(n){return new c.vHH(3014,Ct)}()),f}}class Fc{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Fc(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Zr,this._currentKeyframe[t]=Zr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const l=r&&r.params||{},d=function m(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(l=>{t[l]=Zr})):Ue(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const _=Qi(d[f],l,i);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Zr),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const E=Ue(f,!0);Object.keys(E).forEach(I=>{const R=E[I];"!"==R?e.add(I):R==Zr&&t.add(I)}),i||(E.offset=_/this.duration),r.push(E)});const l=e.size?pr(e.values()):[],d=t.size?pr(t.values()):[];if(i){const f=r[0],_=oe(f);f.offset=0,_.offset=1,r=[f,_]}return vu(this.element,r,l,d,this.duration,this.startTime,this.easing,!1)}}class v extends Fc{constructor(e,t,i,r,l,d,f=!1){super(e,t,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=i+t,f=t/d,_=Ue(e[0],!1);_.offset=0,l.push(_);const E=Ue(e[0],!1);E.offset=g(f),l.push(E);const I=e.length-1;for(let R=1;R<=I;R++){let G=Ue(e[R],!1);G.offset=g((t+G.offset*i)/d),l.push(G)}i=d,t=0,r="",e=l}return vu(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function g(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class T{}class te extends T{normalizePropertyName(e,t){return wl(e)}normalizeStyleValue(e,t,i,r){let l="";const d=i.toString().trim();if(Te[t]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function _m(n,e){return new c.vHH(3005,Ct)}())}return d+l}}const Te=(()=>function at(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function bt(n,e,t,i,r,l,d,f,_,E,I,R,G){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:l,toState:i,toStyles:d,timelines:f,queriedElements:_,preStyleProps:E,postStyleProps:I,totalTime:R,errors:G}}const Ut={};class Tn{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function uo(n,e,t,i,r){return n.some(l=>l(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],l=this._stateStyles[e],d=r?r.buildStyles(t,i):{};return l?l.buildStyles(t,i):d}build(e,t,i,r,l,d,f,_,E,I){const R=[],G=this.ast.options&&this.ast.options.params||Ut,Q=this.buildStyles(i,f&&f.params||Ut,R),ce=_&&_.params||Ut,Ve=this.buildStyles(r,ce,R),tt=new Set,Je=new Map,$t=new Map,ut="void"===r,jt={params:Object.assign(Object.assign({},G),ce)},Pt=I?[]:kc(e,t,this.ast.animation,l,d,Q,Ve,jt,E,R);let Hn=0;if(Pt.forEach(Gr=>{Hn=Math.max(Gr.duration+Gr.delay,Hn)}),R.length)return bt(t,this._triggerName,i,r,ut,Q,Ve,[],[],Je,$t,Hn,R);Pt.forEach(Gr=>{const In=Gr.element,$n=En(Je,In,{});Gr.preStyleProps.forEach(kf=>$n[kf]=!0);const oa=En($t,In,{});Gr.postStyleProps.forEach(kf=>oa[kf]=!0),In!==t&&tt.add(In)});const gi=pr(tt.values());return bt(t,this._triggerName,i,r,ut,Q,Ve,Pt,gi,Je,$t,Hn)}}class La{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=oe(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!=d&&(r[l]=d)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const d=l;Object.keys(d).forEach(f=>{let _=d[f];_.length>1&&(_=Qi(_,r,t));const E=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,E,_,t),i[E]=_})}}),i}}class Pc{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new La(r.style,r.options&&r.options.params||{},i)}),Xf(this.states,"true","1"),Xf(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Tn(e,r,this.states))}),this.fallbackTransition=function wu(n,e,t){return new Tn(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(d=>d.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Xf(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Sm=new Xr;class Nc{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],l=qf(this._driver,t,i,[]);if(i.length)throw function vm(n){return new c.vHH(3503,Ct)}();this._animations[e]=l}_buildPlayer(e,t,i){const r=e.element,l=Mi(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],l=this._animations[e];let d;const f=new Map;if(l?(d=kc(this._driver,t,l,pu,Fr,{},{},i,Sm,r),d.forEach(I=>{const R=En(f,I.element,{});I.postStyleProps.forEach(G=>R[G]=null)})):(r.push(function bm(){return new c.vHH(3300,Ct)}()),d=[]),r.length)throw function Zd(n){return new c.vHH(3504,Ct)}();f.forEach((I,R)=>{Object.keys(I).forEach(G=>{I[G]=this._driver.computeStyle(R,G,Zr)})});const E=dr(d.map(I=>{const R=f.get(I.element);return this._buildPlayer(I,{},R)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Qd(n){return new c.vHH(3301,Ct)}();return t}listen(e,t,i,r){const l=Go(t,"","","");return Zi(this._getPlayer(e),i,l,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const l=this._getPlayer(e);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const ah="ng-animate-queued",Eu="ng-animate-disabled",np=[],ip={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},A0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hn="__ng_removed";class Tm{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function M0(n){return null!=n?n:null}(i?e.value:e),i){const l=oe(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const lh="void",rp=new Tm(lh);class _v{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Jr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function Xd(n,e){return new c.vHH(3302,Ct)}();if(null==i||0==i.length)throw function $f(n){return new c.vHH(3303,Ct)}();if(!function KS(n){return"start"==n||"done"==n}(i))throw function Dc(n,e){return new c.vHH(3400,Ct)}();const l=En(this._elementListeners,e,[]),d={name:t,phase:i,callback:r};l.push(d);const f=En(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Jr(e,$o),Jr(e,$o+"-"+t),f[t]=rp),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(d);_>=0&&l.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Sa(n){return new c.vHH(3401,Ct)}();return t}trigger(e,t,i,r=!0){const l=this._getTrigger(t),d=new Mm(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Jr(e,$o),Jr(e,$o+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const E=new Tm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),f[t]=E,_||(_=rp),E.value!==lh&&_.value===E.value){if(!function Rm(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const l=t[r];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(_.params,E.params)){const ce=[],Ve=l.matchStyles(_.value,_.params,ce),tt=l.matchStyles(E.value,E.params,ce);ce.length?this._engine.reportError(ce):this._engine.afterFlush(()=>{_t(e,Ve),Rt(e,tt)})}return}const G=En(this._engine.playersByElement,e,[]);G.forEach(ce=>{ce.namespaceId==this.id&&ce.triggerName==t&&ce.queued&&ce.destroy()});let K=l.matchTransition(_.value,E.value,e,E.params),Q=!1;if(!K){if(!r)return;K=l.fallbackTransition,Q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:K,fromState:_,toState:E,player:d,isFallbackTransition:Q}),Q||(Jr(e,ah),d.onStart(()=>{Cu(e,ah)})),d.onDone(()=>{let ce=this.players.indexOf(d);ce>=0&&this.players.splice(ce,1);const Ve=this._engine.playersByElement.get(e);if(Ve){let tt=Ve.indexOf(d);tt>=0&&Ve.splice(tt,1)}}),this.players.push(d),G.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,js,!0);i.forEach(r=>{if(r[hn])return;const l=this._engine.fetchNamespacesByElement(r);l.size?l.forEach(d=>d.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const f=[];if(Object.keys(l).forEach(_=>{if(d.set(_,l[_].value),this._triggers[_]){const E=this.trigger(e,_,lh,r);E&&f.push(E)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),i&&dr(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(l=>{const d=l.name;if(r.has(d))return;r.add(d);const _=this._triggers[d].fallbackTransition,E=i[d]||rp,I=new Tm(lh),R=new Mm(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:_,fromState:E,toState:I,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(e):[];if(l&&l.length)r=!0;else{let d=e;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const l=e[hn];(!l||l===ip)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Jr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const l=i.element,d=this._elementListeners.get(l);d&&d.forEach(f=>{if(f.name==i.triggerName){const _=Go(l,i.triggerName,i.fromState.value,i.toState.value);_._data=e,Zi(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const l=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class S0{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new _v(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,l=i.length-1;if(l>=0){let d=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const E=i.indexOf(_);i.splice(E+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}}else for(let f=l;f>=0;f--)if(this.driver.containsElement(i[f].hostElement,t)){i.splice(f+1,0,e),d=!0;break}d||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let l=0;l<r.length;l++){const d=i[r[l]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&t.add(f)}}}return t}trigger(e,t,i,r){if(sp(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!sp(t))return;const l=t[hn];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Jr(e,Eu)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cu(e,Eu))}removeNode(e,t,i,r){if(sp(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,l){this.collectedLeaveElements.push(t),t[hn]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,i,r,l){return sp(t)?this._fetchNamespace(e).listen(t,i,r,l):()=>{}}_buildInstruction(e,t,i,r,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,js,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,D,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return dr(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[hn];if(i&&i.setForRemoval){if(e[hn]=ip,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Eu))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Jr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?dr(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function xc(n){return new c.vHH(3402,Ct)}()}_flushAnimations(e,t){const i=new Xr,r=[],l=new Map,d=[],f=new Map,_=new Map,E=new Map,I=new Set;this.disabledNodes.forEach(mt=>{I.add(mt);const Tt=this.driver.query(mt,".ng-animate-queued",!0);for(let Lt=0;Lt<Tt.length;Lt++)I.add(Tt[Lt])});const R=this.bodyNode,G=Array.from(this.statesByElement.keys()),K=mr(G,this.collectedEnterElements),Q=new Map;let ce=0;K.forEach((mt,Tt)=>{const Lt=pu+ce++;Q.set(Tt,Lt),mt.forEach(_n=>Jr(_n,Lt))});const Ve=[],tt=new Set,Je=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const Tt=this.collectedLeaveElements[mt],Lt=Tt[hn];Lt&&Lt.setForRemoval&&(Ve.push(Tt),tt.add(Tt),Lt.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(_n=>tt.add(_n)):Je.add(Tt))}const $t=new Map,ut=mr(G,Array.from(tt));ut.forEach((mt,Tt)=>{const Lt=Fr+ce++;$t.set(Tt,Lt),mt.forEach(_n=>Jr(_n,Lt))}),e.push(()=>{K.forEach((mt,Tt)=>{const Lt=Q.get(Tt);mt.forEach(_n=>Cu(_n,Lt))}),ut.forEach((mt,Tt)=>{const Lt=$t.get(Tt);mt.forEach(_n=>Cu(_n,Lt))}),Ve.forEach(mt=>{this.processLeaveNode(mt)})});const jt=[],Pt=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(t).forEach(Lt=>{const _n=Lt.player,Ir=Lt.element;if(jt.push(_n),this.collectedEnterElements.length){const Cs=Ir[hn];if(Cs&&Cs.setForMove){if(Cs.previousTriggersValues&&Cs.previousTriggersValues.has(Lt.triggerName)){const Ff=Cs.previousTriggersValues.get(Lt.triggerName),Pd=this.statesByElement.get(Lt.element);Pd&&Pd[Lt.triggerName]&&(Pd[Lt.triggerName].value=Ff)}return void _n.destroy()}}const $l=!R||!this.driver.containsElement(R,Ir),Eo=$t.get(Ir),Fd=Q.get(Ir),mi=this._buildInstruction(Lt,i,Fd,Eo,$l);if(mi.errors&&mi.errors.length)return void Pt.push(mi);if($l)return _n.onStart(()=>_t(Ir,mi.fromStyles)),_n.onDestroy(()=>Rt(Ir,mi.toStyles)),void r.push(_n);if(Lt.isFallbackTransition)return _n.onStart(()=>_t(Ir,mi.fromStyles)),_n.onDestroy(()=>Rt(Ir,mi.toStyles)),void r.push(_n);const pN=[];mi.timelines.forEach(Cs=>{Cs.stretchStartingKeyframe=!0,this.disabledNodes.has(Cs.element)||pN.push(Cs)}),mi.timelines=pN,i.append(Ir,mi.timelines),d.push({instruction:mi,player:_n,element:Ir}),mi.queriedElements.forEach(Cs=>En(f,Cs,[]).push(_n)),mi.preStyleProps.forEach((Cs,Ff)=>{const Pd=Object.keys(Cs);if(Pd.length){let Pf=_.get(Ff);Pf||_.set(Ff,Pf=new Set),Pd.forEach(qS=>Pf.add(qS))}}),mi.postStyleProps.forEach((Cs,Ff)=>{const Pd=Object.keys(Cs);let Pf=E.get(Ff);Pf||E.set(Ff,Pf=new Set),Pd.forEach(qS=>Pf.add(qS))})});if(Pt.length){const mt=[];Pt.forEach(Tt=>{mt.push(function Ta(n,e){return new c.vHH(3505,Ct)}())}),jt.forEach(Tt=>Tt.destroy()),this.reportError(mt)}const Hn=new Map,gi=new Map;d.forEach(mt=>{const Tt=mt.element;i.has(Tt)&&(gi.set(Tt,Tt),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,Hn))}),r.forEach(mt=>{const Tt=mt.element;this._getPreviousPlayers(Tt,!1,mt.namespaceId,mt.triggerName,null).forEach(_n=>{En(Hn,Tt,[]).push(_n),_n.destroy()})});const Gr=Ve.filter(mt=>bv(mt,_,E)),In=new Map;Lc(In,this.driver,Je,E,Zr).forEach(mt=>{bv(mt,_,E)&&Gr.push(mt)});const oa=new Map;K.forEach((mt,Tt)=>{Lc(oa,this.driver,new Set(mt),_,"!")}),Gr.forEach(mt=>{const Tt=In.get(mt),Lt=oa.get(mt);In.set(mt,Object.assign(Object.assign({},Tt),Lt))});const kf=[],hN=[],fN={};d.forEach(mt=>{const{element:Tt,player:Lt,instruction:_n}=mt;if(i.has(Tt)){if(I.has(Tt))return Lt.onDestroy(()=>Rt(Tt,_n.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(_n.totalTime),void r.push(Lt);let Ir=fN;if(gi.size>1){let Eo=Tt;const Fd=[];for(;Eo=Eo.parentNode;){const mi=gi.get(Eo);if(mi){Ir=mi;break}Fd.push(Eo)}Fd.forEach(mi=>gi.set(mi,Ir))}const $l=this._buildAnimation(Lt.namespaceId,_n,Hn,l,oa,In);if(Lt.setRealPlayer($l),Ir===fN)kf.push(Lt);else{const Eo=this.playersByElement.get(Ir);Eo&&Eo.length&&(Lt.parentPlayer=dr(Eo)),r.push(Lt)}}else _t(Tt,_n.fromStyles),Lt.onDestroy(()=>Rt(Tt,_n.toStyles)),hN.push(Lt),I.has(Tt)&&r.push(Lt)}),hN.forEach(mt=>{const Tt=l.get(mt.element);if(Tt&&Tt.length){const Lt=dr(Tt);mt.setRealPlayer(Lt)}}),r.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<Ve.length;mt++){const Tt=Ve[mt],Lt=Tt[hn];if(Cu(Tt,Fr),Lt&&Lt.hasAnimation)continue;let _n=[];if(f.size){let $l=f.get(Tt);$l&&$l.length&&_n.push(...$l);let Eo=this.driver.query(Tt,D,!0);for(let Fd=0;Fd<Eo.length;Fd++){let mi=f.get(Eo[Fd]);mi&&mi.length&&_n.push(...mi)}}const Ir=_n.filter($l=>!$l.destroyed);Ir.length?vv(this,Tt,Ir):this.processLeaveNode(Tt)}return Ve.length=0,kf.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const Tt=this.players.indexOf(mt);this.players.splice(Tt,1)}),mt.play()}),kf}elementContainsData(e,t){let i=!1;const r=t[hn];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,l){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const _=!l||l==lh;f.forEach(E=>{E.queued||!_&&E.triggerName!=r||d.push(E)})}}return(i||r)&&(d=d.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),d}_beforeAnimationBuild(e,t,i){const l=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,I=E!==l,R=En(i,E,[]);this._getPreviousPlayers(E,I,d,f,t.toState).forEach(K=>{const Q=K.getRealPlayer();Q.beforeDestroy&&Q.beforeDestroy(),K.destroy(),R.push(K)})}_t(l,t.fromStyles)}_buildAnimation(e,t,i,r,l,d){const f=t.triggerName,_=t.element,E=[],I=new Set,R=new Set,G=t.timelines.map(Q=>{const ce=Q.element;I.add(ce);const Ve=ce[hn];if(Ve&&Ve.removedBeforeQueried)return new Yi(Q.duration,Q.delay);const tt=ce!==_,Je=function yr(n){const e=[];return Vc(n,e),e}((i.get(ce)||np).map(Hn=>Hn.getRealPlayer())).filter(Hn=>!!Hn.element&&Hn.element===ce),$t=l.get(ce),ut=d.get(ce),jt=Mi(0,this._normalizer,0,Q.keyframes,$t,ut),Pt=this._buildPlayer(Q,jt,Je);if(Q.subTimeline&&r&&R.add(ce),tt){const Hn=new Mm(e,f,ce);Hn.setRealPlayer(Pt),E.push(Hn)}return Pt});E.forEach(Q=>{En(this.playersByQueriedElement,Q.element,[]).push(Q),Q.onDone(()=>function T0(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,Q.element,Q))}),I.forEach(Q=>Jr(Q,gu));const K=dr(G);return K.onDestroy(()=>{I.forEach(Q=>Cu(Q,gu)),Rt(_,t.toStyles)}),R.forEach(Q=>{En(r,Q,[]).push(K)}),K}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Yi(e.duration,e.delay)}}class Mm{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Yi,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>Zi(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){En(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function sp(n){return n&&1===n.nodeType}function R0(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Lc(n,e,t,i,r){const l=[];t.forEach(_=>l.push(R0(_)));const d=[];i.forEach((_,E)=>{const I={};_.forEach(R=>{const G=I[R]=e.computeStyle(E,R,r);(!G||0==G.length)&&(E[hn]=A0,d.push(E))}),n.set(E,I)});let f=0;return t.forEach(_=>R0(_,l[f++])),d}function mr(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),l=new Map;function d(f){if(!f)return 1;let _=l.get(f);if(_)return _;const E=f.parentNode;return _=t.has(E)?E:r.has(E)?1:d(E),l.set(f,_),_}return e.forEach(f=>{const _=d(f);1!==_&&t.get(_).push(f)}),t}function Jr(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Cu(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function vv(n,e,t){dr(t).onDone(()=>n.processLeaveNode(e))}function Vc(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof gs?Vc(i.players,e):e.push(i)}}function bv(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(l=>r.add(l)):e.set(n,i),t.delete(n),!0}class op{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,l)=>{},this._transitionEngine=new S0(e,t,i),this._timelineEngine=new Nc(e,t,i),this._transitionEngine.onRemovalComplete=(r,l)=>this.onRemovalComplete(r,l)}registerTrigger(e,t,i,r,l){const d=e+"-"+r;let f=this._triggerCache[d];if(!f){const _=[],I=qf(this._driver,l,_,[]);if(_.length)throw function Hf(n,e){return new c.vHH(3404,Ct)}();f=function Dl(n,e,t){return new Pc(n,e,t)}(r,I,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[l,d]=so(i);this._timelineEngine.command(l,t,d,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,l){if("@"==i.charAt(0)){const[d,f]=so(i);return this._timelineEngine.listen(d,t,f,l)}return this._transitionEngine.listen(e,t,i,r,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let O0=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Rt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rt(this._element,this._initialStyles),this._endStyles&&(Rt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_t(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_t(this._element,this._endStyles),this._endStyles=null),Rt(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ap(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];k0(r)&&(e=e||{},e[r]=n[r])}return e}function k0(n){return"display"===n||"position"===n}class Om{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:zf(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class F0{validateStyleProperty(e){return Jd(e)}matchesElement(e,t){return!1}containsElement(e,t){return oo(e,t)}getParentElement(e){return Ho(e)}query(e,t,i){return Ra(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,l,d=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};l&&(_.easing=l);const E={},I=d.filter(G=>G instanceof Om);(function mu(n,e){return 0===n||0===e})(i,r)&&I.forEach(G=>{let K=G.currentSnapshot;Object.keys(K).forEach(Q=>E[Q]=K[Q])}),t=function Tc(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let l=e[0],d=[];if(i.forEach(f=>{l.hasOwnProperty(f)||d.push(f),l[f]=t[f]}),d.length)for(var r=1;r<e.length;r++){let f=e[r];d.forEach(function(_){f[_]=zf(n,_)})}}return e}(e,t=t.map(G=>Ue(G,!1)),E);const R=function wv(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ap(e[0]),e.length>1&&(i=ap(e[e.length-1]))):e&&(t=ap(e)),t||i?new O0(n,t,i):null}(e,t);return new Om(e,t,_,R)}}let P0=(()=>{class n extends cr{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Vn(t):t;return Ev(this._renderer,null,i,"register",[r]),new km(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class km extends class Bo{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new N0(this._id,e,t||{},this._renderer)}}class N0{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ev(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Ev(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Cv="@.disabled";let L0=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,d)=>{const f=null==d?void 0:d.parentNode(l);f&&d.removeChild(f,l)}}createRenderer(t,i){const l=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(l);return I||(I=new uh("",l,this.engine),this._rendererCache.set(l,I)),I}const d=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(d,f,t,I.name,I)};return i.data.animation.forEach(_),new V0(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,f]=l;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(op),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class uh{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Cv?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class V0 extends uh{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Cv?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function B0(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),d="";return"@"!=l.charAt(0)&&([l,d]=function U0(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,r,l,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let j0=(()=>{class n extends op{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(fr),c.LFG(T))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ch=new c.OlP("AnimationModuleType"),xv=[{provide:cr,useClass:P0},{provide:T,useFactory:function G0(){return new te}},{provide:op,useClass:j0},{provide:c.FYo,useFactory:function Dv(n,e,t){return new L0(n,e,t)},deps:[bn,op,c.R0b]}],Iv=[{provide:fr,useFactory:()=>new F0},{provide:ch,useValue:"BrowserAnimations"},...xv],H0=[{provide:fr,useClass:Ac},{provide:ch,useValue:"NoopAnimations"},...xv];let $0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?H0:Iv}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Iv,imports:[Ms]}),n})();const z0=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function W0(){return(0,c.f3M)(re)}}),Uc=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Hs,Fm=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Wo(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Uc.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z0,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Du=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{Hs="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Hs=!1}let jc,es=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?an(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Hs)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pm=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Gc(){if(jc)return jc;if("object"!=typeof document||!document)return jc=new Set(Pm),jc;let n=document.createElement("input");return jc=new Set(Pm.filter(e=>(n.setAttribute("type",e),n.type===e))),jc}let Hc,Il,hh;function xu(n){return function Sv(){if(null==Hc&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Hc=!0}))}finally{Hc=Hc||!1}return Hc}()?n:!!n.capture}function ZS(){if(null==Il){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Il=!1,Il;if("scrollBehavior"in document.documentElement.style)Il=!0;else{const n=Element.prototype.scrollTo;Il=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Il}function Iu(n){return n.composedPath?n.composedPath()[0]:n.target}function Nm(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var ci=F(7579);class Rv extends ci.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var lp=F(3269),qo=F(8996);function _r(...n){const e=(0,lp.yG)(n);return(0,qo.D)(n,e)}var ts=F(4482),Xi=F(5403);function Zo(n,e){return(0,ts.e)((t,i)=>{let r=0;t.subscribe((0,Xi.x)(i,l=>n.call(e,l,r++)&&i.next(l)))})}var IC=F(4671);function $m(n,e=IC.y){return n=null!=n?n:eb,(0,ts.e)((t,i)=>{let r,l=!0;t.subscribe((0,Xi.x)(i,d=>{const f=e(d);(l||!n(r,f))&&(l=!1,r=f,i.next(d))}))})}function eb(n,e){return n===e}var zc=F(8421),tb=F(5032);function co(n){return(0,ts.e)((e,t)=>{(0,zc.Xf)(n).subscribe((0,Xi.x)(t,()=>t.complete(),tb.Z)),!t.closed&&e.subscribe(t)})}function vr(n){return null!=n&&"false"!=`${n}`}function nb(n){return Array.isArray(n)?n:[n]}function Ri(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Sl(n){return n instanceof c.SBq?n.nativeElement:n}var Va=F(8306),hp=F(4986);let Wm=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TC=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Sl(t);return new Va.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new ci.x,r=this._mutationObserverFactory.create(l=>i.next(l));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wm))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MC=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=vr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function _s(n,e=0){return function AC(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function zm(n,e=hp.z){return(0,ts.e)((t,i)=>{let r=null,l=null,d=null;const f=()=>{if(r){r.unsubscribe(),r=null;const E=l;l=null,i.next(E)}};function _(){const E=d+n,I=e.now();if(I<E)return r=this.schedule(void 0,E-I),void i.add(r);f()}t.subscribe((0,Xi.x)(i,E=>{l=E,d=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{l=r=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(TC),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),ib=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Wm]}),n})();function Qo(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function mh(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const $C=new c.OlP("cdk-input-modality-detector-options"),zC={ignoreKeys:[18,17,224,91,16]},Tl=xu({passive:!0,capture:!0});let cb=(()=>{class n{constructor(t,i,r,l){this._platform=t,this._mostRecentTarget=null,this._modality=new Rv(null),this._lastTouchMs=0,this._onKeydown=d=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(E=>E===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Iu(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Qo(d)?"keyboard":"mouse"),this._mostRecentTarget=Iu(d))},this._onTouchstart=d=>{mh(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Iu(d))},this._options=Object.assign(Object.assign({},zC),l),this.modalityDetected=this._modality.pipe(function Jv(n){return Zo((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe($m()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Tl),r.addEventListener("mousedown",this._onMousedown,Tl),r.addEventListener("touchstart",this._onTouchstart,Tl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Tl),document.removeEventListener("mousedown",this._onMousedown,Tl),document.removeEventListener("touchstart",this._onTouchstart,Tl))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(es),c.LFG(c.R0b),c.LFG(re),c.LFG($C,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fb=new c.OlP("cdk-focus-monitor-default-options"),_h=xu({passive:!0,capture:!0});let KC=(()=>{class n{constructor(t,i,r,l,d){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ci.x,this._rootNodeFocusAndBlurListener=f=>{const _=Iu(f),E="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)E.call(this,f,I)},this._document=l,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(t,i=!1){const r=Sl(t);if(!this._platform.isBrowser||1!==r.nodeType)return _r(null);const l=function K0(n){if(function Tv(){if(null==hh){const n="undefined"!=typeof document?document.head:null;hh=!(!n||!n.createShadowRoot&&!n.attachShadow)}return hh}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const f={checkChildren:i,subject:new ci.x,rootNode:l};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=Sl(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const l=Sl(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),l=Iu(t);!r||!r.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,_h),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,_h)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(co(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_h),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_h),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,l)=>{(l===t||r.checkChildren&&l.contains(t))&&i.push([l,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(es),c.LFG(cb),c.LFG(re,8),c.LFG(fb,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gb="cdk-high-contrast-black-on-white",mb="cdk-high-contrast-white-on-black",gp="cdk-high-contrast-active";let Mu=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,l=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(gp),t.remove(gb),t.remove(mb),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(gp),t.add(gb)):2===i&&(t.add(gp),t.add(mb))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(es),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yb=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Mu))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ib]]}),n})();const vb=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ym(){return!0}});let $s=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Nm()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Mu),c.LFG(vb,8),c.LFG(re))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Du],Du]}),n})();function QC(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=vr(e)}}}function Zm(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function XC(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=vr(e)}}}function qT(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new ci.x,this.errorState=!1}updateErrorState(){const e=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==e&&(this.errorState=l,this.stateChanges.next())}}}let rD=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class QT{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Qm={enterDuration:225,exitDuration:150},Jm=xu({passive:!0}),mp=["mousedown","touchstart"],wb=["mouseup","mouseleave","touchend","touchcancel"];class aD{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Sl(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},Qm),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const d=i.radius||function uD(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,E=l.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-d+"px",I.style.top=_-d+"px",I.style.height=2*d+"px",I.style.width=2*d+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(I),function lD(n){window.getComputedStyle(n).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const R=new QT(this,I,i);return R.state=0,this._activeRipples.add(R),i.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const G=R===this._mostRecentTransientRipple;R.state=1,!i.persistent&&(!G||!this._isPointerDown)&&R.fadeOut()},E),R}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},Qm),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Sl(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(mp))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(wb),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Qo(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!mh(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Jm)})})}_removeTriggerEvents(){this._triggerElement&&(mp.forEach(e=>{this._triggerElement.removeEventListener(e,this,Jm)}),this._pointerUpEventsRegistered&&wb.forEach(e=>{this._triggerElement.removeEventListener(e,this,Jm)}))}}const cD=new c.OlP("mat-ripple-global-options");let Eb=(()=>{class n{constructor(t,i,r,l,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new aD(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(es),c.Y36(cD,8),c.Y36(ch,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),yp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[$s],$s]}),n})();const Kc=["mat-button",""],Yc=["*"],Qc=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Xc=Zm(QC(XC(class{constructor(n){this._elementRef=n}})));let Jc=(()=>{class n extends Xc{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of Qc)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(KC),c.Y36(ch,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&c.Gf(Eb,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:Kc,ngContentSelectors:Yc,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Eb],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),xb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[yp,$s],$s]}),n})();var ja=F(5867),ln=F(5813);class Ru{constructor(e){return e}}class bp{constructor(){return(0,ja.C6)()}}const wp=new c.OlP("angularfire2._apps"),fD={provide:Ru,useFactory:function Ib(n){return n&&1===n.length?n[0]:new Ru((0,ja.Mq)())},deps:[[new c.FiY,wp]]},Ab={provide:bp,deps:[[new c.FiY,wp]]};function pD(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Ru(i)}}let Sb=(()=>{class n{constructor(t){(0,ja.KN)("angularfire",ln.q4.full,"core"),(0,ja.KN)("angularfire",ln.q4.full,"app"),(0,ja.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[fD,Ab]}),n})();function Tb(n,...e){return{ngModule:Sb,providers:[{provide:wp,useFactory:pD(n),multi:!0,deps:[c.R0b,c.zs3,ln.HU,...e]}]}}const mD=(0,ln.u3)(ja.ZF,!0),Mb_firebase={projectId:"pruebamigration-5682b",appId:"1:759373315810:web:2b9a79610a761b23a668bb",storageBucket:"pruebamigration-5682b.appspot.com",locationId:"us-central",apiKey:"AIzaSyCr4SNkNqEwSHerxZLFUM-xs_Y3p5vfMlA",authDomain:"pruebamigration-5682b.firebaseapp.com",messagingSenderId:"759373315810",measurementId:"G-2YQCLMMQ6W"};var ve=F(5861),fo=F(9681),ed=F(4859),Qt=F(2090),Ou=F(1877);const _D=new Map,sM={activated:!1,tokenObservers:[]},vD={initialized:!1,enabled:!1};function Oi(n){return _D.get(n)||sM}function ea(n,e){_D.set(n,e)}function Ep(){return vD}class ED{constructor(e,t,i,r,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=r,r>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new Qt.BH,yield function Ob(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Lr=new Qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kb(n){if(!Oi(n).activated)throw Lr.create("use-before-activation",{appName:n.name})}function Ap(n,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,ve.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const R=yield r.getHeartbeatsHeader();R&&(i["X-Firebase-Client"]=R)}const l={method:"POST",body:JSON.stringify(e),headers:i};let d,f;try{d=yield fetch(n,l)}catch(R){throw Lr.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==d.status)throw Lr.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(R){throw Lr.create("fetch-parse-error",{originalErrorMessage:R.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Lr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const E=1e3*Number(_[1]),I=Date.now();return{token:f.attestationToken,expireTimeMillis:I+E,issuedAtTimeMillis:I}})).apply(this,arguments)}function iy(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Ga="firebase-app-check-store";let td=null;function Tp(){return td||(td=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Lr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ga,{keyPath:"compositeKey"})}}catch(t){e(Lr.create("storage-open",{originalErrorMessage:t.message}))}}),td)}function sy(){return(sy=(0,ve.Z)(function*(n,e){const i=(yield Tp()).transaction(Ga,"readwrite"),l=i.objectStore(Ga).put({compositeKey:n,value:e});return new Promise((d,f)=>{l.onsuccess=_=>{d()},i.onerror=_=>{var E;f(Lr.create("storage-set",{originalErrorMessage:null===(E=_.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const id=new Ou.Yd("@firebase/app-check");function ay(n,e){return(0,Qt.hl)()?function Mp(n,e){return function AD(n,e){return sy.apply(this,arguments)}(function Op(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{id.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Pb(){return Ep().enabled}function uy(){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,ve.Z)(function*(){const n=Ep();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Nb={error:"UNKNOWN_ERROR"};function SD(n){return Qt.US.encodeString(JSON.stringify(n),!1)}function xh(n){return Np.apply(this,arguments)}function Np(){return(Np=(0,ve.Z)(function*(n,e=!1){const t=n.app;kb(t);const i=Oi(t);let l,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&Ah(_)&&(r=_)}if(!e&&r&&Ah(r))return{token:r.token};let f,d=!1;if(Pb()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Ap(iy(t,yield uy()),n.heartbeatServiceProvider).then(E=>(i.exchangeTokenPromise=void 0,E)),d=!0);const _=yield i.exchangeTokenPromise;return yield ay(t,_),ea(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),d=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?id.warn(_.message):id.error(_),l=_}return r?(f={token:r.token},ea(t,Object.assign(Object.assign({},i),{token:r})),yield ay(t,r)):f=Vb(l),d&&hy(t,f),f})).apply(this,arguments)}function Ih(n,e){const t=Oi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ea(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function dy(n){const{app:e}=n,t=Oi(e);let i=t.tokenRefresher;i||(i=function Lb(n){const{app:e}=n;return new ED((0,ve.Z)(function*(){let i;if(i=Oi(e).token?yield xh(n,!0):yield xh(n),i.error)throw i.error}),()=>!0,()=>{const t=Oi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ea(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function hy(n,e){const t=Oi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function Ah(n){return n.expireTimeMillis-Date.now()>0}function Vb(n){return{token:SD(Nb),error:n}}class Bb{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Oi(this.app);for(const t of e)Ih(this.app,t.next);return Promise.resolve()}}const po="app-check-internal";!function go(){(0,fo._registerComponent)(new ed.wA("app-check",n=>function Ub(n,e){return new Bb(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(po).initialize()})),(0,fo._registerComponent)(new ed.wA(po,n=>function jb(n){return{getToken:e=>xh(n,e),addTokenListener:e=>function Lp(n,e,t,i){const{app:r}=n,l=Oi(r),d={next:t,error:i,type:e};if(ea(r,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&Ah(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),dy(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>dy(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ih(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fo.registerVersion)("@firebase/app-check","0.5.5")}();class Fu{constructor(){return(0,ln.vb)("app-check")}}"undefined"!=typeof window&&window;var my=F(424);class Up{constructor(e){return e}}class yy{constructor(){return(0,ln.vb)("auth")}}const jp=new c.OlP("angularfire2.auth-instances");function ew(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Up(i)}}const tw={provide:yy,deps:[[new c.FiY,jp]]},nw={provide:Up,useFactory:function Jb(n,e){const t=(0,ln.JM)("auth",n,e);return t&&new Up(t)},deps:[[new c.FiY,jp],Ru]};let HD=(()=>{class n{constructor(){(0,ja.KN)("angularfire",ln.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[nw,tw]}),n})();function $D(n,...e){return{ngModule:HD,providers:[{provide:jp,useFactory:ew(n),multi:!0,deps:[c.R0b,c.zs3,ln.HU,bp,[new c.FiY,Fu],...e]}]}}const zD=(0,ln.u3)(my.n,!0);var ot,sw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ha={},wy=wy||{},Ot=sw||self;function Gp(){}function Ey(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Oh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $p="closure_uid_"+(1e9*Math.random()>>>0),ow=0;function aw(n,e,t){return n.call.apply(n.bind,arguments)}function lx(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function hi(n,e,t){return(hi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aw:lx).apply(null,arguments)}function Rl(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ji(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,l){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[r].apply(i,d)}}function Ol(){this.s=this.s,this.o=this.o}var lw={};Ol.prototype.s=!1,Ol.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Hp(n){return Object.prototype.hasOwnProperty.call(n,$p)&&n[$p]||(n[$p]=++ow)}(this);delete lw[n]}},Ol.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cy=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Dy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let l=0;l<i;l++)l in r&&e.call(t,r[l],l,n)};function xy(n){return Array.prototype.concat.apply([],arguments)}function Iy(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function zp(n){return/^[\s\xa0]*$/.test(n)}var is,dx=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ns(n,e){return-1!=n.indexOf(e)}function uw(n,e){return n<e?-1:n>e?1:0}e:{var Ay=Ot.navigator;if(Ay){var kh=Ay.userAgent;if(kh){is=kh;break e}}is=""}function Sy(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function cw(n){const e={};for(const t in n)e[t]=n[t];return e}var Ty="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sd(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let l=0;l<Ty.length;l++)t=Ty[l],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function My(n){return My[" "](n),n}My[" "]=Gp;var qp,n,fx=ns(is,"Opera"),od=ns(is,"Trident")||ns(is,"MSIE"),dw=ns(is,"Edge"),Wp=dw||od,hw=ns(is,"Gecko")&&!(ns(is.toLowerCase(),"webkit")&&!ns(is,"Edge"))&&!(ns(is,"Trident")||ns(is,"MSIE"))&&!ns(is,"Edge"),px=ns(is.toLowerCase(),"webkit")&&!ns(is,"Edge");function Pu(){var n=Ot.document;return n?n.documentMode:void 0}e:{var Kp="",Ry=(n=is,hw?/rv:([^\);]+)(\)|;)/.exec(n):dw?/Edge\/([\d\.]+)/.exec(n):od?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):px?/WebKit\/(\S+)/.exec(n):fx?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ry&&(Kp=Ry?Ry[1]:""),od){var Yp=Pu();if(null!=Yp&&Yp>parseFloat(Kp)){qp=String(Yp);break e}}qp=Kp}var gx={};var mx=Ot.document&&od&&(Pu()||parseInt(qp,10))||void 0,pw=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",Gp,e),Ot.removeEventListener("test",Gp,e)}catch(t){}return n}();function er(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Fh(n,e){if(er.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(hw){e:{try{My(e.nodeName);var r=!0;break e}catch(l){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:yx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Fh.Z.h.call(this)}}er.prototype.h=function(){this.defaultPrevented=!0},Ji(Fh,er);var yx={2:"touch",3:"pen",4:"mouse"};Fh.prototype.h=function(){Fh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ph="closure_listenable_"+(1e6*Math.random()|0),ky=0;function _x(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++ky,this.ca=this.fa=!1}function Nh(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Qp(n){this.src=n,this.g={},this.h=0}function Fy(n,e){var t=e.type;if(t in n.g){var l,i=n.g[t],r=Cy(i,e);(l=0<=r)&&Array.prototype.splice.call(i,r,1),l&&(Nh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Py(n,e,t,i){for(var r=0;r<n.length;++r){var l=n[r];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==i)return r}return-1}Qp.prototype.add=function(n,e,t,i,r){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Py(n,e,i,r);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new _x(e,this.src,l,!!i,r)).fa=t,n.push(e)),e};var Ny="closure_lm_"+(1e6*Math.random()|0),Ly={};function gw(n,e,t,i,r){if(i&&i.once)return Vy(n,e,t,i,r);if(Array.isArray(e)){for(var l=0;l<e.length;l++)gw(n,e[l],t,i,r);return null}return t=Hy(t),n&&n[Ph]?n.N(e,t,Oh(i)?!!i.capture:!!i,r):mw(n,e,t,!1,i,r)}function mw(n,e,t,i,r,l){if(!e)throw Error("Invalid event type");var d=Oh(r)?!!r.capture:!!r,f=jy(n);if(f||(n[Ny]=f=new Qp(n)),(t=f.add(e,t,i,d,l)).proxy)return t;if(i=function vx(){var e=_w;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)pw||(r=d),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(yw(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Vy(n,e,t,i,r){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Vy(n,e[l],t,i,r);return null}return t=Hy(t),n&&n[Ph]?n.O(e,t,Oh(i)?!!i.capture:!!i,r):mw(n,e,t,!0,i,r)}function By(n,e,t,i,r){if(Array.isArray(e))for(var l=0;l<e.length;l++)By(n,e[l],t,i,r);else i=Oh(i)?!!i.capture:!!i,t=Hy(t),n&&n[Ph]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Py(l=n.g[e],t,i,r))&&(Nh(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=jy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Py(e,t,i,r)),(t=-1<n?e[n]:null)&&Uy(t))}function Uy(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ph])Fy(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(yw(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=jy(e))?(Fy(t,n),0==t.h&&(t.src=null,e[Ny]=null)):Nh(n)}}}function yw(n){return n in Ly?Ly[n]:Ly[n]="on"+n}function _w(n,e){if(n.ca)n=!0;else{e=new Fh(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Uy(n),n=t.call(i,e)}return n}function jy(n){return(n=n[Ny])instanceof Qp?n:null}var Gy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hy(n){return"function"==typeof n?n:(n[Gy]||(n[Gy]=function(e){return n.handleEvent(e)}),n[Gy])}function bi(){Ol.call(this),this.i=new Qp(this),this.P=this,this.I=null}function Fi(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new er(e,n);else if(e instanceof er)e.target=e.target||n;else{var r=e;sd(e=new er(i,n),r)}if(r=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];r=Lh(d,i,!0,e)&&r}if(r=Lh(d=e.g=n,i,!0,e)&&r,r=Lh(d,i,!1,e)&&r,t)for(l=0;l<t.length;l++)r=Lh(d=e.g=t[l],i,!1,e)&&r}function Lh(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var f=d.listener,_=d.ia||d.src;d.fa&&Fy(n.i,d),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}Ji(bi,Ol),bi.prototype[Ph]=!0,bi.prototype.removeEventListener=function(n,e,t,i){By(this,n,e,t,i)},bi.prototype.M=function(){if(bi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Nh(t[i]);delete n.g[e],n.h--}}this.I=null},bi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},bi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Vh=Ot.JSON.stringify;function bx(){var n=Dx;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Jp,Xp=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Ex,n=>n.reset());class Ex{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vw(n){Ot.setTimeout(()=>{throw n},0)}function $y(n,e){Jp||function Cx(){var n=Ot.Promise.resolve(void 0);Jp=function(){n.then(xx)}}(),eg||(Jp(),eg=!0),Dx.add(n,e)}var eg=!1,Dx=new class wx{constructor(){this.h=this.g=null}add(e,t){const i=Xp.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function xx(){for(var n;n=bx();){try{n.h.call(n.g)}catch(t){vw(t)}var e=Xp;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}eg=!1}function Nu(n,e){bi.call(this),this.h=n||1,this.g=e||Ot,this.j=hi(this.kb,this),this.l=Date.now()}function zy(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function kl(n,e,t){if("function"==typeof n)t&&(n=hi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=hi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function ad(n){n.g=kl(()=>{n.g=null,n.i&&(n.i=!1,ad(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ji(Nu,bi),(ot=Nu.prototype).da=!1,ot.S=null,ot.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fi(this,"tick"),this.da&&(zy(this),this.start()))}},ot.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.M=function(){Nu.Z.M.call(this),zy(this),delete this.g};class Ix extends Ol{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ad(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tg(n){Ol.call(this),this.h=n,this.g={}}Ji(tg,Ol);var Wy=[];function bw(n,e,t,i){Array.isArray(t)||(t&&(Wy[0]=t.toString()),t=Wy);for(var r=0;r<t.length;r++){var l=gw(e,t[r],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function ww(n){Sy(n.g,function(e,t){this.g.hasOwnProperty(t)&&Uy(e)},n),n.g={}}function ng(){this.g=!0}function Lu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ig(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var l=r[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<r.length;d++)r[d]=""}}}return Vh(t)}catch(f){return e}}(n,t)+(i?" "+i:"")})}tg.prototype.M=function(){tg.Z.M.call(this),ww(this)},tg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ng.prototype.Aa=function(){this.g=!1},ng.prototype.info=function(){};var mo={},Cw=null;function Bh(){return Cw=Cw||new bi}function Ky(n){er.call(this,mo.Ma,n)}function Uh(n){const e=Bh();Fi(e,new Ky(e,n))}function Dw(n,e){er.call(this,mo.STAT_EVENT,n),this.stat=e}function tr(n){const e=Bh();Fi(e,new Dw(e,n))}function xw(n,e){er.call(this,mo.Na,n),this.size=e}function rg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}mo.Ma="serverreachability",Ji(Ky,er),mo.STAT_EVENT="statevent",Ji(Dw,er),mo.Na="timingevent",Ji(xw,er);var sg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Iw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Fl(){}function Vu(){}Fl.prototype.h=null;var Sw,og={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ag(){er.call(this,"d")}function Yy(){er.call(this,"c")}function jh(){}function lg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new tg(this),this.P=Qy,this.W=new Nu(n=Wp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zy}function Zy(){this.i=null,this.g="",this.h=!1}Ji(ag,er),Ji(Yy,er),Ji(jh,Fl),jh.prototype.g=function(){return new XMLHttpRequest},jh.prototype.i=function(){return{}},Sw=new jh;var Qy=45e3,ug={},cg={};function Xy(n,e,t){n.K=1,n.v=_g(za(e)),n.s=t,n.U=!0,Tw(n,null)}function Tw(n,e){n.F=Date.now(),Gh(n),n.A=za(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Lw(t.h,"t",i),n.C=0,t=n.l.H,n.h=new Zy,n.g=Zw(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Ix(hi(n.Ia,n,n.g),n.O)),bw(n.V,n.g,"readystatechange",n.gb),e=n.H?cw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Uh(1),function Ax(n,e,t,i,r,l){n.info(function(){if(n.g)if(l)for(var d="",f=l.split("&"),_=0;_<f.length;_++){var E=f[_].split("=");if(1<E.length){var I=E[0];E=E[1];var R=I.split("_");d=2<=R.length&&"type"==R[1]?d+(I+"=")+E+"&":d+(I+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Mw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Rw(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=Sx(n,t),r==cg){4==e&&(n.o=4,tr(14),i=!1),Lu(n.j,n.m,null,"[Incomplete Response]");break}if(r==ug){n.o=4,tr(15),Lu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Lu(n.j,n.m,r,null),hg(n,r)}Mw(n)&&r!=cg&&r!=ug&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,tr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ag(e),e.L=!0,tr(11))):(Lu(n.j,n.m,t,"[Invalid Chunked Response]"),Pl(n),$a(n))}function Sx(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?cg:(t=Number(e.substring(t,i)),isNaN(t)?ug:(i+=1)+t>e.length?cg:(e=e.substr(i,t),n.C=i+t,e))}function Gh(n){n.Y=Date.now()+n.P,Ow(n,n.P)}function Ow(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rg(hi(n.eb,n),e)}function dg(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function $a(n){0==n.l.G||n.I||p_(n.l,n)}function Pl(n){dg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,zy(n.W),ww(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function hg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||o_(t.i,n)))if(t.I=n.N,!n.J&&o_(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(E){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=rg(hi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Sg(t),xg(t)}h_(t),tr(18)}if(1>=Vw(t.i)&&t.ka){try{t.ka()}catch(E){}t.ka=void 0}}else $u(t,11)}else if((n.J||t.g==n)&&Sg(t),!zp(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let E=r[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const I=E[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const R=E[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const G=E[5];null!=G&&"number"==typeof G&&0<G&&(t.K=i=1.5*G,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const K=n.g;if(K){const Q=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var l=i.i;!l.g&&(ns(Q,"spdy")||ns(Q,"quic")||ns(Q,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(a_(l,l.h),l.h=null))}if(i.D){const ce=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;ce&&(i.sa=ce,un(i.F,i.D,ce))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((i=t).oa=m_(i,i.H?i.la:null,i.W),d.J){Bw(i.i,d);var f=d,_=i.K;_&&f.setTimeout(_),f.B&&(dg(f),Gh(f)),i.g=d}else Kw(i);0<t.l.length&&Jh(t)}else"stop"!=E[0]&&"close"!=E[0]||$u(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?$u(t,7):Dg(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}Uh(4)}catch(E){}}function fg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ey(n)||"string"==typeof n)Dy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Ey(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function kw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Ey(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var l=0;l<r;l++)e.call(void 0,i[l],t&&t[l],n)}}function Bu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Bu)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function pg(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Uu(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Uu(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Uu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ot=lg.prototype).setTimeout=function(n){this.P=n},ot.gb=function(n){n=n.target;const e=this.L;e&&3==yo(n)?e.l():this.Ia(n)},ot.Ia=function(n){try{if(n==this.g)e:{const I=yo(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>I)&&(3!=I||Wp||this.g&&(this.h.h||this.g.ga()||c_(this.g)))){this.I||4!=I||7==e||Uh(8==e||0>=R?3:2),dg(this);var t=this.g.ba();this.N=t;t:if(Mw(this)){var i=c_(this.g);n="";var r=i.length,l=4==yo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Pl(this),$a(this);var d="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:l&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function Ew(n,e,t,i,r,l,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zp(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,tr(12),Pl(this),$a(this);break e}Lu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hg(this,t)}this.U?(Rw(this,I,d),Wp&&this.i&&3==I&&(bw(this.V,this.W,"tick",this.fb),this.W.start())):(Lu(this.j,this.m,d,null),hg(this,d)),4==I&&Pl(this),this.i&&!this.I&&(4==I?p_(this.l,this):(this.i=!1,Gh(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,tr(12)):(this.o=0,tr(13)),Pl(this),$a(this)}}}catch(I){}},ot.fb=function(){if(this.g){var n=yo(this.g),e=this.g.ga();this.C<e.length&&(dg(this),Rw(this,n,e),this.i&&4!=n&&Gh(this))}},ot.cancel=function(){this.I=!0,Pl(this)},ot.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function qy(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Uh(3),tr(17)),Pl(this),this.o=2,$a(this)):Ow(this,this.Y-n)},(ot=Bu.prototype).R=function(){pg(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ot.T=function(){return pg(this),this.g.concat()},ot.get=function(n,e){return Uu(this.h,n)?this.h[n]:e},ot.set=function(n,e){Uu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ot.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],l=this.get(r);n.call(e,l,r,this)}};var Jy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ju(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ju){this.g=void 0!==e?e:n.g,gg(this,n.j),this.s=n.s,Nl(this,n.i),mg(this,n.m),this.l=n.l,e=n.h;var t=new ld;t.i=e.i,e.g&&(t.g=new Bu(e.g),t.h=e.h),yg(this,t),this.o=n.o}else n&&(t=String(n).match(Jy))?(this.g=!!e,gg(this,t[1]||"",!0),this.s=$h(t[2]||""),Nl(this,t[3]||"",!0),mg(this,t[4]),this.l=$h(t[5]||"",!0),yg(this,t[6]||"",!0),this.o=$h(t[7]||"")):(this.g=!!e,this.h=new ld(null,this.g))}function za(n){return new ju(n)}function gg(n,e,t){n.j=t?$h(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Nl(n,e,t){n.i=t?$h(e,!0):e}function mg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function yg(n,e,t){e instanceof ld?(n.h=e,function n_(n,e){e&&!n.j&&(ta(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(t_(this,i),Lw(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=zh(e,Rx)),n.h=new ld(e,n.g))}function un(n,e,t){n.h.set(e,t)}function _g(n){return un(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function $h(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function zh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Tx),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Tx(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ju.prototype.toString=function(){var n=[],e=this.j;e&&n.push(zh(e,Wh,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(zh(e,Wh,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(zh(t,"/"==t.charAt(0)?Mx:vg,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",zh(t,Pw)),n.join("")};var Wh=/[#\/\?@]/g,vg=/[#\?:]/g,Mx=/[#\?]/g,Rx=/[#\?@]/g,Pw=/#/g;function ld(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ta(n){n.g||(n.g=new Bu,n.h=0,n.i&&function Fw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var l=n[t].substring(0,i);r=n[t].substring(i+1)}else l=n[t];e(l,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function t_(n,e){ta(n),e=qh(n,e),Uu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Uu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&pg(n)))}function Nw(n,e){return ta(n),e=qh(n,e),Uu(n.g.h,e)}function Lw(n,e,t){t_(n,e),0<t.length&&(n.i=null,n.g.set(qh(n,e),Iy(t)),n.h+=t.length)}function qh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function r_(n){this.l=n||s_,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=ld.prototype).add=function(n,e){ta(this),this.i=null,n=qh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ot.forEach=function(n,e){ta(this),this.g.forEach(function(t,i){Dy(t,function(r){n.call(e,r,i,this)},this)},this)},ot.T=function(){ta(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],l=0;l<r.length;l++)t.push(e[i]);return t},ot.R=function(n){ta(this);var e=[];if("string"==typeof n)Nw(this,n)&&(e=xy(e,this.g.get(qh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=xy(e,n[t])}return e},ot.set=function(n,e){return ta(this),this.i=null,Nw(this,n=qh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ot.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var l=0;l<i.length;l++){var d=r;""!==i[l]&&(d+="="+encodeURIComponent(String(i[l]))),n.push(d)}}return this.i=n.join("&")};var s_=10;function bg(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Vw(n){return n.h?1:n.g?n.g.size:0}function o_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function a_(n,e){n.g?n.g.add(e):n.h=e}function Bw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function l_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Iy(n.i)}function Kh(){}function Uw(){this.g=new Kh}function jw(n,e,t){const i=t||"";try{fg(n,function(r,l){let d=r;Oh(r)&&(d=Vh(r)),e.push(i+l+"="+encodeURIComponent(d))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Yh(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(l){}}function Zh(n){this.l=n.$b||null,this.j=n.ib||!1}function Qh(n,e){bi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=wg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}r_.prototype.cancel=function(){if(this.i=l_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Kh.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},Kh.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},Ji(Zh,Fl),Zh.prototype.g=function(){return new Qh(this.l,this.j)},Zh.prototype.i=function(n){return function(){return n}}({}),Ji(Qh,bi);var wg=0;function Hw(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ud(n){n.readyState=4,n.l=null,n.j=null,n.A=null,cd(n)}function cd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=Qh.prototype).open=function(n,e){if(this.readyState!=wg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,cd(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ud(this)),this.readyState=wg},ot.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,cd(this)),this.g&&(this.readyState=3,cd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hw(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ot.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ud(this):cd(this),3==this.readyState&&Hw(this)}},ot.Ua=function(n){this.g&&(this.response=this.responseText=n,ud(this))},ot.Ta=function(n){this.g&&(this.response=n,ud(this))},ot.ha=function(){this.g&&ud(this)},ot.setRequestHeader=function(n,e){this.v.append(n,e)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Qh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Vr=Ot.JSON.parse;function Bn(n){bi.call(this),this.headers=new Bu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$w,this.K=this.L=!1}Ji(Bn,bi);var $w="",Ox=/^https?$/i,VM=["POST","PUT"];function kx(n){return"content-type"==n.toLowerCase()}function Eg(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,zw(n),Cg(n)}function zw(n){n.D||(n.D=!0,Fi(n,"complete"),Fi(n,"error"))}function u_(n){if(n.h&&void 0!==wy&&(!n.C[1]||4!=yo(n)||2!=n.ba()))if(n.v&&4==yo(n))kl(n.Fa,0,n);else if(Fi(n,"readystatechange"),4==yo(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(Jy)[1]||null;if(!r&&Ot.self&&Ot.self.location){var l=Ot.self.location.protocol;r=l.substr(0,l.length-1)}i=!Ox.test(r?r.toLowerCase():"")}t=i}if(t)Fi(n,"complete"),Fi(n,"success");else{n.m=6;try{var d=2<yo(n)?n.g.statusText:""}catch(_){d=""}n.j=d+" ["+n.ba()+"]",zw(n)}}finally{Cg(n)}}}function Cg(n,e){if(n.g){Ww(n);const t=n.g,i=n.C[0]?Gp:null;n.g=null,n.C=null,e||Fi(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function Ww(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function yo(n){return n.g?n.g.readyState:0}function c_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case $w:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function dd(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function qw(n){let e="";return Sy(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):un(n,e,t))}function Gu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Fx(n){this.za=0,this.l=[],this.h=new ng,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gu("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gu("baseRetryDelayMs",5e3,n),this.$a=Gu("retryDelaySeedMs",1e4,n),this.Ya=Gu("forwardChannelMaxRetries",2,n),this.ra=Gu("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new r_(n&&n.concurrentRequestLimit),this.Ca=new Uw,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Dg(n){if(d_(n),3==n.G){var e=n.V++,t=za(n.F);un(t,"SID",n.J),un(t,"RID",e),un(t,"TYPE","terminate"),Hu(n,t),(e=new lg(n,n.h,e,void 0)).K=2,e.v=_g(za(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=Zw(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Gh(e)}Yw(n)}function xg(n){n.g&&(Ag(n),n.g.cancel(),n.g=null)}function d_(n){xg(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),Sg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function hd(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Jh(n)}function Jh(n){bg(n.i)||n.m||(n.m=!0,$y(n.Ha,n),n.C=0)}function Ig(n,e){var t;t=e?e.m:n.V++;const i=za(n.F);un(i,"SID",n.J),un(i,"RID",t),un(i,"AID",n.U),Hu(n,i),n.o&&n.s&&dd(i,n.o,n.s),t=new lg(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Nx(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),a_(n.i,t),Xy(t,i,e)}function Hu(n,e){n.j&&fg({},function(t,i){un(e,i,t)})}function Nx(n,e,t){t=Math.min(n.l.length,t);var i=n.j?hi(n.j.Oa,n.j,n):null;e:{var r=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=r[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let f=!0;for(let _=0;_<t;_++){let E=r[_].h;const I=r[_].g;if(E-=l,0>E)l=Math.max(0,r[_].h-100),f=!1;else try{jw(I,d,"req"+E+"_")}catch(R){i&&i(I)}}if(f){i=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Kw(n){n.g||n.u||(n.Y=1,$y(n.Ga,n),n.A=0)}function h_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=rg(hi(n.Ga,n),g_(n,n.A)),n.A++,0))}function Ag(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function f_(n){n.g=new lg(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=za(n.oa);un(e,"RID","rpc"),un(e,"SID",n.J),un(e,"CI",n.N?"0":"1"),un(e,"AID",n.U),Hu(n,e),un(e,"TYPE","xmlhttp"),n.o&&n.s&&dd(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=_g(za(e)),t.s=null,t.U=!0,Tw(t,n)}function Sg(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function p_(n,e){var t=null;if(n.g==e){Sg(n),Ag(n),n.g=null;var i=2}else{if(!o_(n.i,e))return;t=e.D,Bw(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Fi(i=Bh(),new xw(i,t,e,r)),Jh(n)}else Kw(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function Px(n,e){return!(Vw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=rg(hi(n.Ha,n,e),g_(n,n.C)),n.C++,0)))}(n,e)||2==i&&h_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:$u(n,5);break;case 4:$u(n,10);break;case 3:$u(n,6);break;default:$u(n,2)}}function g_(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function $u(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=hi(n.jb,n);t||(t=new ju("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||gg(t,"https"),_g(t)),function Gw(n,e){const t=new ng;if(Ot.Image){const i=new Image;i.onload=Rl(Yh,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Rl(Yh,t,i,"TestLoadImage: error",!1,e),i.onabort=Rl(Yh,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Rl(Yh,t,i,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else tr(2);n.G=0,n.j&&n.j.va(e),Yw(n),d_(n)}function Yw(n){n.G=0,n.I=-1,n.j&&((0!=l_(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Iy(n.l),n.l.length=0),n.j.ua())}function m_(n,e,t){let i=function e_(n){return n instanceof ju?za(n):new ju(n,void 0)}(t);if(""!=i.i)e&&Nl(i,e+"."+i.i),mg(i,i.m);else{const r=Ot.location;i=function Hh(n,e,t,i){var r=new ju(null,void 0);return n&&gg(r,n),e&&Nl(r,e),t&&mg(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&Sy(n.aa,function(r,l){un(i,l,r)}),t=n.sa,(e=n.D)&&t&&un(i,e,t),un(i,"VER",n.ma),Hu(n,i),i}function Zw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bn(t&&n.Ba&&!n.qa?new Zh({ib:!0}):n.qa)).L=n.H,e}function y_(){}function ef(){if(od&&!(10<=Number(mx)))throw Error("Environmental error: no available transport.")}function rs(n,e){bi.call(this),this.g=new Fx(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!zp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new fd(this)}function __(n){ag.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Qw(){Yy.call(this),this.status=1}function fd(n){this.g=n}(ot=Bn.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sw.g(),this.C=function Aw(n){return n.h||(n.h=n.i())}(this.u?this.u:Sw),this.g.onreadystatechange=hi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Eg(this,l)}n=t||"";const r=new Bu(this.headers);i&&fg(i,function(l,d){r.set(d,l)}),i=function cx(n){e:{var e=kx;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Ot.FormData&&n instanceof Ot.FormData,!(0<=Cy(VM,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ww(this),0<this.B&&((this.K=function Xh(n){return od&&function fw(){return function hx(n){var e=gx;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=dx(String(qp)).split("."),t=dx("9").split("."),i=Math.max(e.length,t.length);for(let d=0;0==n&&d<i;d++){var r=e[d]||"",l=t[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==r[0].length&&0==l[0].length)break;n=uw(0==r[1].length?0:parseInt(r[1],10),0==l[1].length?0:parseInt(l[1],10))||uw(0==r[2].length,0==l[2].length)||uw(r[2],l[2]),r=r[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hi(this.pa,this)):this.A=kl(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Eg(this,l)}},ot.pa=function(){void 0!==wy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fi(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fi(this,"complete"),Fi(this,"abort"),Cg(this))},ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cg(this,!0)),Bn.Z.M.call(this)},ot.Fa=function(){this.s||(this.F||this.v||this.l?u_(this):this.cb())},ot.cb=function(){u_(this)},ot.ba=function(){try{return 2<yo(this)?this.g.status:-1}catch(n){return-1}},ot.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ot.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Vr(e)}},ot.Da=function(){return this.m},ot.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=Fx.prototype).ma=8,ot.G=1,ot.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ot.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new lg(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=cw(l),sd(l,this.P)):l=this.P),null===this.o&&(r.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Nx(this,r,e),un(t=za(this.F),"RID",n),un(t,"CVER",22),this.D&&un(t,"X-HTTP-Session-Id",this.D),Hu(this,t),this.o&&l&&dd(t,this.o,l),a_(this.i,r),this.Ra&&un(t,"TYPE","init"),this.ja?(un(t,"$req",e),un(t,"SID","null"),r.$=!0,Xy(r,t,null)):Xy(r,t,e),this.G=2}}else 3==this.G&&(n?Ig(this,n):0==this.l.length||bg(this.i)||Ig(this))},ot.Ga=function(){if(this.u=null,f_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=rg(hi(this.bb,this),n)}},ot.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,tr(10),xg(this),f_(this))},ot.ab=function(){null!=this.v&&(this.v=null,xg(this),h_(this),tr(19))},ot.jb=function(n){n?(this.h.info("Successfully pinged google.com"),tr(2)):(this.h.info("Failed to ping google.com"),tr(1))},(ot=y_.prototype).xa=function(){},ot.wa=function(){},ot.va=function(){},ot.ua=function(){},ot.Oa=function(){},ef.prototype.g=function(n,e){return new rs(n,e)},Ji(rs,bi),rs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),$y(hi(n.hb,n,e))),tr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=m_(n,null,n.W),Jh(n)},rs.prototype.close=function(){Dg(this.g)},rs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,hd(this.g,e)}else this.v?((e={}).__data__=Vh(n),hd(this.g,e)):hd(this.g,n)},rs.prototype.M=function(){this.g.j=null,delete this.j,Dg(this.g),delete this.g,rs.Z.M.call(this)},Ji(__,ag),Ji(Qw,Yy),Ji(fd,y_),fd.prototype.xa=function(){Fi(this.g,"a")},fd.prototype.wa=function(n){Fi(this.g,new __(n))},fd.prototype.va=function(n){Fi(this.g,new Qw(n))},fd.prototype.ua=function(){Fi(this.g,"b")},ef.prototype.createWebChannel=ef.prototype.g,rs.prototype.send=rs.prototype.u,rs.prototype.open=rs.prototype.m,rs.prototype.close=rs.prototype.close,sg.NO_ERROR=0,sg.TIMEOUT=8,sg.HTTP_ERROR=6,Iw.COMPLETE="complete",Vu.EventType=og,og.OPEN="a",og.CLOSE="b",og.ERROR="c",og.MESSAGE="d",bi.prototype.listen=bi.prototype.N,Bn.prototype.listenOnce=Bn.prototype.O,Bn.prototype.getLastError=Bn.prototype.La,Bn.prototype.getLastErrorCode=Bn.prototype.Da,Bn.prototype.getStatus=Bn.prototype.ba,Bn.prototype.getResponseJson=Bn.prototype.Qa,Bn.prototype.getResponseText=Bn.prototype.ga,Bn.prototype.send=Bn.prototype.ea;var BM=Ha.createWebChannelTransport=function(){return new ef},Xw=Ha.getStatEventTarget=function(){return Bh()},Jw=Ha.ErrorCode=sg,UM=Ha.EventType=Iw,jM=Ha.Event=mo,Lx=Ha.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},GM=Ha.FetchXmlHttpFactory=Zh,v_=Ha.WebChannel=Vu,HM=Ha.XhrIo=Bn;const Vx="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let tf="9.6.10";const Wa=new Ou.Yd("@firebase/firestore");function nf(){return Wa.logLevel}function Be(n,...e){if(Wa.logLevel<=Ou.in.DEBUG){const t=e.map(Tg);Wa.debug(`Firestore (${tf}): ${n}`,...t)}}function Pi(n,...e){if(Wa.logLevel<=Ou.in.ERROR){const t=e.map(Tg);Wa.error(`Firestore (${tf}): ${n}`,...t)}}function zu(n,...e){if(Wa.logLevel<=Ou.in.WARN){const t=e.map(Tg);Wa.warn(`Firestore (${tf}): ${n}`,...t)}}function Tg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${tf}) INTERNAL ASSERTION FAILED: `+n;throw Pi(e),new Error(e)}function Ft(n,e){n||lt()}function Xe(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Bx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wi.UNAUTHENTICATED))}shutdown(){}}class WM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ux{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const l=E=>this.i!==r?(r=this.i,t(E)):Promise.resolve();let d=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Gi,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const E=d;e.enqueueRetryable((0,ve.Z)(function*(){yield E.promise,yield l(i.currentUser)}))},_=E=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>_(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?_(E):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Gi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ft("string"==typeof i.accessToken),new Bx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new wi(e)}}class qM{constructor(e,t,i){this.type="FirstParty",this.user=wi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class jx{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new qM(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hx{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=l=>{null!=l.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,Be("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const r=l=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>r(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?r(l):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),this.p=t.token,new Gx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class vs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function _o(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}vs.A=-1;class nE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=_o(40);for(let l=0;l<r.length;++l)i.length<20&&r[l]<t&&(i+=e.charAt(r[l]%e.length))}return i}}function Yt(n,e){return n<e?-1:n>e?1:0}function pd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function iE(n){return n+"\0"}class Kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Kn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new Kn(0,0))}static max(){return new St(new Kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function b_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function w_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gd{constructor(e,t,i){void 0===t?t=0:t>e.length&&lt(),void 0===i?i=e.length-t:i>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===gd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gd?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const l=e.get(r),d=t.get(r);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sn extends gd{construct(e,t,i){return new sn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new sn(t)}static emptyPath(){return new sn([])}}const $x=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ei extends gd{construct(e,t,i){return new Ei(e,t,i)}static isValidIdentifier(e){return $x.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ei.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ei(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const l=()=>{if(0===i.length)throw new ke(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new ke(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ke(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(d=!d,r++):"."!==f||d?(i+=f,r++):(l(),r++)}if(l(),d)throw new ke(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ei(t)}static emptyPath(){return new Ei([])}}class br{constructor(e){this.fields=e,e.sort(Ei.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Hi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let l=0;l<i.length;++l)r+=String.fromCharCode(i[l]);return r}(e);return new Hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const Wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(n){if(Ft(!!n),"string"==typeof n){let e=0;const t=Wx.exec(n);if(Ft(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fi(n.seconds),nanos:fi(n.nanos)}}function fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qu(n){return"string"==typeof n?Hi.fromBase64String(n):Hi.fromUint8Array(n)}function Mg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rE(n){const e=n.mapValue.fields.__previous_value__;return Mg(e)?rE(e):e}function Rg(n){const e=qa(n.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}class sE{constructor(e,t,i,r,l,d,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class na{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new na("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof na&&e.projectId===this.projectId&&e.database===this.database}}function Ku(n){return null==n}function rf(n){return 0===n&&1/n==-1/0}function E_(n){return"number"==typeof n&&Number.isInteger(n)&&!rf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(sn.fromString(e))}static fromName(e){return new $e(sn.fromString(e).popFirst(5))}static empty(){return new $e(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new sn(e.slice()))}}const Og={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},C_={nullValue:"NULL_VALUE"};function Yu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mg(n)?4:Kx(n)?9:10:lt()}function vo(n,e){if(n===e)return!0;const t=Yu(n);if(t!==Yu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rg(n).isEqual(Rg(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const l=qa(i.timestampValue),d=qa(r.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,qu(n.bytesValue).isEqual(qu(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return fi(i.geoPointValue.latitude)===fi(r.geoPointValue.latitude)&&fi(i.geoPointValue.longitude)===fi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return fi(i.integerValue)===fi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const l=fi(i.doubleValue),d=fi(r.doubleValue);return l===d?rf(l)===rf(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return pd(n.arrayValue.values||[],e.arrayValue.values||[],vo);case 10:return function(i,r){const l=i.mapValue.fields||{},d=r.mapValue.fields||{};if(b_(l)!==b_(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===d[f]||!vo(l[f],d[f])))return!1;return!0}(n,e);default:return lt()}var r}function md(n,e){return void 0!==(n.values||[]).find(t=>vo(t,e))}function Ll(n,e){if(n===e)return 0;const t=Yu(n),i=Yu(e);if(t!==i)return Yt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(r,l){const d=fi(r.integerValue||r.doubleValue),f=fi(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return oE(n.timestampValue,e.timestampValue);case 4:return oE(Rg(n),Rg(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(r,l){const d=qu(r),f=qu(l);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,l){const d=r.split("/"),f=l.split("/");for(let _=0;_<d.length&&_<f.length;_++){const E=Yt(d[_],f[_]);if(0!==E)return E}return Yt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,l){const d=Yt(fi(r.latitude),fi(l.latitude));return 0!==d?d:Yt(fi(r.longitude),fi(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,l){const d=r.values||[],f=l.values||[];for(let _=0;_<d.length&&_<f.length;++_){const E=Ll(d[_],f[_]);if(E)return E}return Yt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,l){const d=r.fields||{},f=Object.keys(d),_=l.fields||{},E=Object.keys(_);f.sort(),E.sort();for(let I=0;I<f.length&&I<E.length;++I){const R=Yt(f[I],E[I]);if(0!==R)return R;const G=Ll(d[f[I]],_[E[I]]);if(0!==G)return G}return Yt(f.length,E.length)}(n.mapValue,e.mapValue);default:throw lt()}}function oE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=qa(n),i=qa(e),r=Yt(t.seconds,i.seconds);return 0!==r?r:Yt(t.nanos,i.nanos)}function sf(n){return aE(n)}function aE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=qa(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qu(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",l=!0;for(const d of i.values||[])l?l=!1:r+=",",r+=aE(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",d=!0;for(const f of r)d?d=!1:l+=",",l+=`${f}:${aE(i.fields[f])}`;return l+"}"}(n.mapValue):lt();var e}function Zu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function D_(n){return!!n&&"integerValue"in n}function af(n){return!!n&&"arrayValue"in n}function lE(n){return!!n&&"nullValue"in n}function qx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function x_(n){return!!n&&"mapValue"in n}function kg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=kg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Kx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Yx(n,e){return void 0===n?e:void 0===e||Ll(n,e)>0?n:e}function uE(n,e){return void 0===n?e:void 0===e||Ll(n,e)<0?n:e}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!x_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kg(t)}setAll(e){let t=Ei.emptyPath(),i={},r=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}d?i[f.lastSegment()]=kg(d):r.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,r)}delete(e){const t=this.field(e.popLast());x_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];x_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Wu(t,(r,l)=>e[r]=l);for(const r of i)delete e[r]}clone(){return new Ni(kg(this.value))}}function cE(n){const e=[];return Wu(n.fields,(t,i)=>{const r=new Ei([t]);if(x_(i)){const l=cE(i.mapValue).fields;if(0===l.length)e.push(r);else for(const d of l)e.push(r.child(d))}else e.push(r)}),new br(e)}class Un{constructor(e,t,i,r,l,d){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Un(e,0,St.min(),St.min(),Ni.empty(),0)}static newFoundDocument(e,t,i){return new Un(e,1,t,St.min(),i,0)}static newNoDocument(e,t){return new Un(e,2,t,St.min(),Ni.empty(),0)}static newUnknownDocument(e,t){return new Un(e,3,t,St.min(),Ni.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lf{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Ka(n){return n.fields.find(e=>2===e.kind)}function Qu(n){return n.fields.filter(e=>2!==e.kind)}lf.UNKNOWN_ID=-1;class yd{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xu(0,bo.min())}}function dE(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(1e9===i?new Kn(t+1,0):new Kn(t,i));return new bo(r,$e.empty(),e)}function I_(n){return new bo(n.readTime,n.key,-1)}class bo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new bo(St.min(),$e.empty(),-1)}static max(){return new bo(St.max(),$e.empty(),-1)}}function Fg(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$e.comparator(n.documentKey,e.documentKey),0!==t?t:Yt(n.largestBatchId,e.largestBatchId))}class KM{constructor(e,t=null,i=[],r=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=l,this.startAt=d,this.endAt=f,this.P=null}}function Zx(n,e=null,t=[],i=[],r=null,l=null,d=null){return new KM(n,e,t,i,r,l,d)}function _d(n){const e=Xe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+sf(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ku(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>sf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>sf(i)).join(",")),e.P=t}return e.P}function vd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!T_(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!vo(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mE(n.startAt,e.startAt)&&mE(n.endAt,e.endAt)}function Pg(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ng(n,e){return n.filters.filter(t=>t instanceof nr&&t.field.isEqual(e))}class nr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new Qx(e,t,i):"array-contains"===t?new Xx(e,i):"in"===t?new Jx(e,i):"not-in"===t?new pE(e,i):"array-contains-any"===t?new S_(e,i):new nr(e,t,i)}static V(e,t,i){return"in"===t?new hE(e,i):new fE(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ll(t,this.value)):null!==t&&Yu(this.value)===Yu(t)&&this.v(Ll(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Qx extends nr{constructor(e,t,i){super(e,t,i),this.key=$e.fromName(i.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.v(t)}}class hE extends nr{constructor(e,t){super(e,"in",t),this.keys=A_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fE extends nr{constructor(e,t){super(e,"not-in",t),this.keys=A_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function A_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>$e.fromName(i.referenceValue))}class Xx extends nr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return af(t)&&md(t.arrayValue,this.value)}}class Jx extends nr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&md(this.value.arrayValue,t)}}class pE extends nr{constructor(e,t){super(e,"not-in",t)}matches(e){if(md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!md(this.value.arrayValue,t)}}class S_ extends nr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!af(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>md(this.value.arrayValue,i))}}class Ju{constructor(e,t){this.position=e,this.inclusive=t}}class ec{constructor(e,t="asc"){this.field=e,this.dir=t}}function T_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function gE(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const l=e[r],d=n.position[r];if(i=l.field.isKeyField()?$e.comparator($e.fromName(d.referenceValue),t.key):Ll(d,t.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function mE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vo(n.position[t],e.position[t]))return!1;return!0}class Vl{constructor(e,t=null,i=[],r=[],l=null,d="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function eI(n,e,t,i,r,l,d,f){return new Vl(n,e,t,i,r,l,d,f)}function uf(n){return new Vl(n)}function Lg(n){return!Ku(n.limit)&&"F"===n.limitType}function Vg(n){return!Ku(n.limit)&&"L"===n.limitType}function yE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _E(n){for(const e of n.filters)if(e.S())return e.field;return null}function vE(n){return null!==n.collectionGroup}function cf(n){const e=Xe(n);if(null===e.D){e.D=[];const t=_E(e),i=yE(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new ec(t)),e.D.push(new ec(Ei.keyField(),"asc"));else{let r=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(r=!0);if(!r){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ec(Ei.keyField(),l))}}}return e.D}function wo(n){const e=Xe(n);if(!e.C)if("F"===e.limitType)e.C=Zx(e.path,e.collectionGroup,cf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of cf(e))t.push(new ec(l.field,"desc"===l.dir?"asc":"desc"));const i=e.endAt?new Ju(e.endAt.position,!e.endAt.inclusive):null,r=e.startAt?new Ju(e.startAt.position,!e.startAt.inclusive):null;e.C=Zx(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function bE(n,e,t){return new Vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bg(n,e){return vd(wo(n),wo(e))&&n.limitType===e.limitType}function tI(n){return`${_d(wo(n))}|lt:${n.limitType}`}function wE(n){return`Query(target=${function YM(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${sf(i.value)}`;var i}).join(", ")}]`),Ku(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>sf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>sf(t)).join(",")),`Target(${e})`}(wo(n))}; limitType=${n.limitType})`}function EE(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):$e.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,l,d){const f=gE(r,l,d);return r.inclusive?f<=0:f<0}(t.startAt,cf(t),i)||t.endAt&&!function(r,l,d){const f=gE(r,l,d);return r.inclusive?f>=0:f>0}(t.endAt,cf(t),i)));var t,i}function s(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function o(n){return(e,t)=>{let i=!1;for(const r of cf(n)){const l=a(r,e,t);if(0!==l)return l;i=i||r.field.isKeyField()}return 0}}function a(n,e,t){const i=n.field.isKeyField()?$e.comparator(e.key,t.key):function(r,l,d){const f=l.data.field(r),_=d.data.field(r);return null!==f&&null!==_?Ll(f,_):lt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return lt()}}function u(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(e)?"-0":e}}function h(n){return{integerValue:""+n}}function p(n,e){return E_(e)?h(e):u(n,e)}class y{constructor(){this._=void 0}}function b(n,e,t){return n instanceof M?function(i,r){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(l.fields.__previous_value__=r),{mapValue:l}}(t,e):n instanceof N?$(n,e):n instanceof J?Ee(n,e):function(i,r){const l=S(i,r),d=We(l)+We(i.k);return D_(l)&&D_(i.k)?h(d):u(i.M,d)}(n,e)}function C(n,e,t){return n instanceof N?$(n,e):n instanceof J?Ee(n,e):t}function S(n,e){return n instanceof Le?D_(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class M extends y{}class N extends y{constructor(e){super(),this.elements=e}}function $(n,e){const t=st(e);for(const i of n.elements)t.some(r=>vo(r,i))||t.push(i);return{arrayValue:{values:t}}}class J extends y{constructor(e){super(),this.elements=e}}function Ee(n,e){let t=st(e);for(const i of n.elements)t=t.filter(r=>!vo(r,i));return{arrayValue:{values:t}}}class Le extends y{constructor(e,t){super(),this.M=e,this.k=t}}function We(n){return fi(n.integerValue||n.doubleValue)}function st(n){return af(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ie{constructor(e,t){this.field=e,this.transform=t}}class Xt{constructor(e,t){this.version=e,this.transformResults=t}}class kt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kt}static exists(e){return new kt(void 0,e)}static updateTime(e){return new kt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wr(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ia{}function M_(n,e,t){n instanceof tc?function(i,r,l){const d=i.value.clone(),f=Hg(i.fieldTransforms,r,l.transformResults);d.setAll(f),r.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ya?function(i,r,l){if(!wr(i.precondition,r))return void r.convertToUnknownDocument(l.version);const d=Hg(i.fieldTransforms,r,l.transformResults),f=r.data;f.setAll(Gg(i)),f.setAll(d),r.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function df(n,e,t){var r;n instanceof tc?function(i,r,l){if(!wr(i.precondition,r))return;const d=i.value.clone(),f=ZM(i.fieldTransforms,l,r);d.setAll(f),r.convertToFoundDocument(jg(r),d).setHasLocalMutations()}(n,e,t):n instanceof Ya?function(i,r,l){if(!wr(i.precondition,r))return;const d=ZM(i.fieldTransforms,l,r),f=r.data;f.setAll(Gg(i)),f.setAll(d),r.convertToFoundDocument(jg(r),f).setHasLocalMutations()}(n,e,t):wr(n.precondition,r=e)&&r.convertToNoDocument(St.min())}function R_(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),l=S(i.transform,r||null);null!=l&&(null==t&&(t=Ni.empty()),t.set(i.field,l))}return t||null}function Ug(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&pd(t,i,(r,l)=>function wt(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof N&&i instanceof N||t instanceof J&&i instanceof J?pd(t.elements,i.elements,vo):t instanceof Le&&i instanceof Le?vo(t.k,i.k):t instanceof M&&i instanceof M);var t,i}(r,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function jg(n){return n.isFoundDocument()?n.version:St.min()}class tc extends ia{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Ya extends ia{constructor(e,t,i,r,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=l,this.type=1}}function Gg(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Hg(n,e,t){const i=new Map;Ft(n.length===t.length);for(let r=0;r<t.length;r++){const l=n[r],d=l.transform,f=e.data.field(l.field);i.set(l.field,C(d,f,t[r]))}return i}function ZM(n,e,t){const i=new Map;for(const r of n){const l=r.transform,d=t.data.field(r.field);i.set(r.field,b(l,d,e))}return i}class O_ extends ia{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class nI extends ia{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class jN{constructor(e){this.count=e}}var $i,fn;function QM(n){switch(n){default:return lt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function XM(n){if(void 0===n)return Pi("GRPC error has no .code"),fe.UNKNOWN;switch(n){case $i.OK:return fe.OK;case $i.CANCELLED:return fe.CANCELLED;case $i.UNKNOWN:return fe.UNKNOWN;case $i.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case $i.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case $i.INTERNAL:return fe.INTERNAL;case $i.UNAVAILABLE:return fe.UNAVAILABLE;case $i.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case $i.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case $i.NOT_FOUND:return fe.NOT_FOUND;case $i.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case $i.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case $i.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case $i.ABORTED:return fe.ABORTED;case $i.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case $i.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case $i.DATA_LOSS:return fe.DATA_LOSS;default:return lt()}}(fn=$i||($i={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class bd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,l]of i)if(this.equalsFn(r,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return void(r[l]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wu(this.inner,(t,i)=>{for(const[r,l]of i)e(r,l)})}isEmpty(){return w_(this.inner)}size(){return this.innerSize}}class Li{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new Li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new Li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new CE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new CE(this.root,e,this.comparator,!1)}getReverseIterator(){return new CE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new CE(this.root,e,this.comparator,!0)}}class CE{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&r&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,t,i,r,l){this.key=e,this.value=t,this.color=null!=i?i:Br.RED,this.left=null!=r?r:Br.EMPTY,this.right=null!=l?l:Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,l){return new Br(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const l=i(e,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===l?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Br.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Br(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yn{constructor(e){this.comparator=e,this.data=new Li(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new JM(this.data.getIterator())}getIteratorFrom(e){return new JM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Yn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,l=i.getNext().key;if(0!==this.comparator(r,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yn(this.comparator);return t.data=e,t}}class JM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $g(n){return n.hasNext()?n.getNext():void 0}const GN=new Li($e.comparator);function ra(){return GN}const HN=new Li($e.comparator);function iI(){return HN}function k_(){return new bd(n=>n.toString(),(n,e)=>n.isEqual(e))}const $N=new Li($e.comparator),zN=new Yn($e.comparator);function xn(...n){let e=zN;for(const t of n)e=e.add(t);return e}const WN=new Yn(Yt);function DE(){return WN}class F_{constructor(e,t,i,r,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,P_.createSynthesizedTargetChangeForCurrentChange(e,t)),new F_(St.min(),i,DE(),ra(),xn())}}class P_{constructor(e,t,i,r,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new P_(Hi.EMPTY_BYTE_STRING,t,xn(),xn(),xn())}}class xE{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class eR{constructor(e,t){this.targetId=e,this.$=t}}class tR{constructor(e,t,i=Hi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class nR{constructor(){this.B=0,this.L=rR(),this.U=Hi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=xn(),t=xn(),i=xn();return this.L.forEach((r,l)=>{switch(l){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:lt()}}),new P_(this.U,this.q,e,t,i)}J(){this.G=!1,this.L=rR()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class qN{constructor(e){this.nt=e,this.st=new Map,this.it=ra(),this.rt=iR(),this.ot=new Yn(Yt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.K||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.K||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const l=r.target;if(Pg(l))if(0===i){const d=new $e(l.path);this.ct(t,d,Un.newNoDocument(d,St.min()))}else Ft(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const f=this.wt(d);if(f){if(l.current&&Pg(f.target)){const _=new $e(f.target.path);null!==this.it.get(_)||this.It(d,_)||this.ct(d,_,Un.newNoDocument(_,e))}l.j&&(t.set(d,l.H()),l.J())}});let i=xn();this.rt.forEach((l,d)=>{let f=!0;d.forEachWhile(_=>{const E=this.wt(_);return!E||2===E.purpose||(f=!1,!1)}),f&&(i=i.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const r=new F_(e,t,this.ot,this.it,i);return this.it=ra(),this.rt=iR(),this.ot=new Yn(Yt),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new nR,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Yn(Yt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new nR),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function iR(){return new Li($e.comparator)}function rR(){return new Li($e.comparator)}const KN={asc:"ASCENDING",desc:"DESCENDING"},YN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ZN{constructor(e,t){this.databaseId=e,this.N=t}}function N_(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sR(n,e){return n.N?e.toBase64():e.toUint8Array()}function QN(n,e){return N_(n,e.toTimestamp())}function Er(n){return Ft(!!n),St.fromTimestamp(function(e){const t=qa(e);return new Kn(t.seconds,t.nanos)}(n))}function rI(n,e){return(t=n,new sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function oR(n){const e=sn.fromString(n);return Ft(gR(e)),e}function L_(n,e){return rI(n.databaseId,e.path)}function Bl(n,e){const t=oR(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(lR(t))}function sI(n,e){return rI(n.databaseId,e)}function aR(n){const e=oR(n);return 4===e.length?sn.emptyPath():lR(e)}function V_(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lR(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function uR(n,e,t){return{name:L_(n,e),fields:t.value.mapValue.fields}}function cR(n,e,t){const i=Bl(n,e.name),r=Er(e.updateTime),l=new Ni({mapValue:{fields:e.fields}}),d=Un.newFoundDocument(i,r,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function B_(n,e){let t;if(e instanceof tc)t={update:uR(n,e.key,e.value)};else if(e instanceof O_)t={delete:L_(n,e.key)};else if(e instanceof Ya)t={update:uR(n,e.key,e.data),updateMask:a1(e.fieldMask)};else{if(!(e instanceof nI))return lt();t={verify:L_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,l){const d=l.transform;if(d instanceof M)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof N)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof J)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Le)return{fieldPath:l.field.canonicalString(),increment:d.k};throw lt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:QN(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:lt()),t;var r}function oI(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?kt.updateTime(Er(r.updateTime)):void 0!==r.exists?kt.exists(r.exists):kt.none():kt.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(l,d){let f=null;"setToServerValue"in d?(Ft("REQUEST_TIME"===d.setToServerValue),f=new M):"appendMissingElements"in d?f=new N(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new J(d.removeAllFromArray.values||[]):"increment"in d?f=new Le(l,d.increment):lt();const _=Ei.fromServerFormat(d.fieldPath);return new Ie(_,f)}(n,r)):[];var r;if(e.update){const r=Bl(n,e.update.name),l=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new br((e.updateMask.fieldPaths||[]).map(E=>Ei.fromServerFormat(E)));return new Ya(r,l,d,t,i)}return new tc(r,l,t,i)}if(e.delete){const r=Bl(n,e.delete);return new O_(r,t)}if(e.verify){const r=Bl(n,e.verify);return new nI(r,t)}return lt()}function dR(n,e){return{documents:[sI(n,e.path)]}}function hR(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=sI(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sI(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const E=_.map(I=>function(R){if("=="===R.op){if(qx(R.value))return{unaryFilter:{field:zg(R.field),op:"IS_NAN"}};if(lE(R.value))return{unaryFilter:{field:zg(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(qx(R.value))return{unaryFilter:{field:zg(R.field),op:"IS_NOT_NAN"}};if(lE(R.value))return{unaryFilter:{field:zg(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zg(R.field),op:r1(R.op),value:R.value}}}(I));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);r&&(t.structuredQuery.where=r);const l=function(_){if(0!==_.length)return _.map(E=>{return{field:zg((I=E).field),direction:n1(I.dir)};var I})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(E=e.limit,n.N||Ku(E)?E:{value:E});var E,f,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function fR(n){let e=aR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ft(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let l=[];t.where&&(l=pR(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(I=>{return new ec(Wg((R=I).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let f=null;t.limit&&(f=function(I){let R;return R="object"==typeof I?I.value:I,Ku(R)?null:R}(t.limit));let _=null;var I;t.startAt&&(_=new Ju((I=t.startAt).values||[],!!I.before));let E=null;return t.endAt&&(E=function(I){return new Ju(I.values||[],!I.before)}(t.endAt)),eI(e,r,d,l,f,"F",_,E)}function pR(n){return n?void 0!==n.unaryFilter?[o1(n)]:void 0!==n.fieldFilter?[s1(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>pR(e)).reduce((e,t)=>e.concat(t)):lt():[]}function n1(n){return KN[n]}function r1(n){return YN[n]}function zg(n){return{fieldPath:n.canonicalString()}}function Wg(n){return Ei.fromServerFormat(n.fieldPath)}function s1(n){return nr.create(Wg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function o1(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Wg(n.unaryFilter.field);return nr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Wg(n.unaryFilter.field);return nr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wg(n.unaryFilter.field);return nr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Wg(n.unaryFilter.field);return nr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}function a1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Cr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mR(e)),e=l1(n.get(t),e);return mR(e)}function l1(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const l=n.charAt(r);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function mR(n){return n+"\x01\x01"}function Za(n){const e=n.length;if(Ft(e>=2),2===e)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const t=e-2,i=[];let r="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&lt(),n.charAt(d+1)){case"\x01":const f=n.substring(l,d);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(l,d),r+="\0";break;case"\x11":r+=n.substring(l,d+1);break;default:lt()}l=d+2}return new sn(i)}const yR=["userId","batchId"];function IE(n,e){return[n,Cr(e)]}function _R(n,e,t){return[n,Cr(e),t]}const u1={},c1=["prefixPath","collectionGroup","readTime","documentId"],d1=["prefixPath","collectionGroup","documentId"],h1=["collectionGroup","readTime","prefixPath","documentId"],f1=["canonicalId","targetId"],p1=["targetId","path"],g1=["path","targetId"],m1=["collectionId","parent"],y1=["indexId","uid"],_1=["uid","sequenceNumber"],v1=["indexId","uid","arrayValue","directionalValue","documentKey"],b1=["indexId","uid","documentKey"],w1=["userId","collectionPath","documentId"],E1=["userId","collectionPath","largestBatchId"],C1=["userId","collectionGroup","largestBatchId"],vR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],D1=[...vR,"documentOverlays"],bR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],x1=[...bR,"indexConfiguration","indexState","indexEntries"],wR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ER{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((i,r)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,r)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,i)=>{t(e)})}static reject(e){return new be((t,i)=>{i(e)})}static waitFor(e){return new be((t,i)=>{let r=0,l=0,d=!1;e.forEach(f=>{++r,f.next(()=>{++l,d&&l===r&&t()},_=>i(_))}),d=!0,l===r&&t()})}static or(e){let t=be.resolve(!1);for(const i of e)t=t.next(r=>r?be.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,l)=>{i.push(t.call(this,r,l))}),this.waitFor(i)}}class AE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Gi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new U_(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=aI(i.target.error);this.At.reject(new U_(e,r))}}static open(e,t,i,r){try{return new AE(t,e.transaction(r,i))}catch(l){throw new U_(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new A1(t)}}class Qa{constructor(e,t,i){this.name=e,this.version=t,this.Pt=i,12.2===Qa.Vt((0,Qt.z$)())&&Pi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),ff(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Qt.hl)())return!1;if(Qa.St())return!0;const e=(0,Qt.z$)(),t=Qa.Vt(e),i=0<t&&t<10,r=Qa.Dt(e),l=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{i(d.target.result)},l.onblocked=()=>{r(new U_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const f=d.target.error;r("VersionError"===f.name?new ke(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new ke(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new U_(e,f))},l.onupgradeneeded=d=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var l=this;return(0,ve.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.Nt(e);const _=AE.open(l.db,e,d?"readonly":"readwrite",i),E=r(_).next(I=>(_.bt(),I)).catch(I=>(_.abort(I),be.reject(I))).toPromise();return E.catch(()=>{}),yield _.Rt,E}catch(_){const E="FirebaseError"!==_.name&&f<3;if(Be("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),l.close(),!E)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class I1{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return ff(this.Ft.delete())}}class U_ extends ke{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hf(n){return"IndexedDbTransactionError"===n.name}class A1{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ff(i)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),ff(this.store.add(e))}get(e){return ff(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),ff(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),ff(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),l=[];return this.Gt(r,(d,f)=>{l.push(f)}).next(()=>l)}{const r=this.store.getAll(i.range);return new be((l,d)=>{r.onerror=f=>{d(f.target.error)},r.onsuccess=f=>{l(f.target.result)}})}}Kt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new be((r,l)=>{i.onerror=d=>{l(d.target.error)},i.onsuccess=d=>{r(d.target.result)}})}Qt(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Gt(r,(l,d,f)=>f.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Gt(r,t)}zt(e){const t=this.cursor({});return new be((i,r)=>{t.onerror=l=>{const d=aI(l.target.error);r(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():i()}):i()}})}Gt(e,t){const i=[];return new be((r,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void r();const _=new I1(f),E=t(f.primaryKey,f.value,_);if(E instanceof be){const I=E.catch(R=>(_.done(),be.reject(R)));i.push(I)}_.isDone?r():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>be.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ff(n){return new be((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=aI(i.target.error);t(r)}})}let CR=!1;function aI(n){const e=Qa.Vt((0,Qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CR||(CR=!0,setTimeout(()=>{throw i},0)),i}}return n}class DR extends ER{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Dr(n,e){const t=Xe(n);return Qa.xt(t.Ht,e)}class lI{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(e.key)&&M_(l,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&df(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&df(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(St.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xn())}isEqual(e){return this.batchId===e.batchId&&pd(this.mutations,e.mutations,(t,i)=>Ug(t,i))&&pd(this.baseMutations,e.baseMutations,(t,i)=>Ug(t,i))}}class uI{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ft(e.mutations.length===i.length);let r=$N;const l=e.mutations;for(let d=0;d<l.length;d++)r=r.insert(l[d].key,i[d].version);return new uI(e,t,i,r)}}class cI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wd{constructor(e,t,i,r,l=St.min(),d=St.min(),f=Hi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new wd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class xR{constructor(e){this.Jt=e}}function IR(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:SE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:L_(r=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:N_(r,l.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:pf(e.version)};else{if(!e.isUnknownDocument())return lt();i.unknownDocument={path:t.path.toArray(),version:pf(e.version)}}var r,l;return i}function SE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function pf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function gf(n){const e=new Kn(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function qg(n,e){const t=(e.baseMutations||[]).map(l=>oI(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const i=e.mutations.map(l=>oI(n.Jt,l)),r=Kn.fromMillis(e.localWriteTimeMs);return new lI(e.batchId,r,t,i)}function j_(n){const e=gf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?gf(n.lastLimboFreeSnapshotVersion):St.min();let i;var r;return void 0!==n.query.documents?(Ft(1===(r=n.query).documents.length),i=wo(uf(aR(r.documents[0])))):i=wo(fR(n.query)),new wd(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Hi.fromBase64String(n.resumeToken))}function AR(n,e){const t=pf(e.snapshotVersion),i=pf(e.lastLimboFreeSnapshotVersion);let r;r=Pg(e.target)?dR(n.Jt,e.target):hR(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_d(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function dI(n){const e=fR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?bE(e,e.limit,"L"):e}function hI(n,e){return new cI(e.largestBatchId,oI(n.Jt,e.overlayMutation))}function SR(n,e){const t=e.path.lastSegment();return[n,Cr(e.path.popLast()),t]}class T1{getBundleMetadata(e,t){return TR(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:gf(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return TR(e).put({bundleId:(i=t).id,createTime:pf(Er(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return MR(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:dI(r.bundledQuery),readTime:gf(r.readTime)};var r})}saveNamedQuery(e,t){return MR(e).put({name:(i=t).name,readTime:pf(Er(i.readTime)),bundledQuery:i.bundledQuery});var i}}function TR(n){return Dr(n,"bundles")}function MR(n){return Dr(n,"namedQueries")}class fI{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new fI(e,t.uid||"")}getOverlay(e,t){return G_(e).get(SR(this.userId,t)).next(i=>i?hI(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((l,d)=>{const f=new cI(t,d);r.push(this.Xt(e,f))}),be.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(d=>r.add(Cr(d.getCollectionPath())));const l=[];return r.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);l.push(G_(e).Qt("collectionPathOverlayIndex",f))}),be.waitFor(l)}getOverlaysForCollection(e,t,i){const r=k_(),l=Cr(t),d=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return G_(e).qt("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const E=hI(this.M,_);r.set(E.getKey(),E)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const l=k_();let d;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return G_(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,E,I)=>{const R=hI(this.M,E);l.size()<r||R.largestBatchId===d?(l.set(R.getKey(),R),d=R.largestBatchId):I.done()}).next(()=>l)}Xt(e,t){return G_(e).put(function(i,r,l){const[d,f,_]=SR(r,l.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:B_(i.Jt,l.mutation)}}(this.M,this.userId,t))}}function G_(n){return Dr(n,"documentOverlays")}class Kg{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(fi(e.integerValue));else if("doubleValue"in e){const i=fi(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),rf(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(qu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Kx(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):lt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),$e.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function M1(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function RR(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const l=M1(255&t[r]);if(i+=l,8!==l)break}return i}(n);return Math.ceil(e/8)}Kg.fe=new Kg;class R1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=RR(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=RR(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,r,!1),new Uint8Array(l.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class O1{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class k1{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class TE{constructor(){this.De=new R1,this.Ce=new O1(this.De),this.xe=new k1(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Ed{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Ed(this.indexId,this.documentKey,this.arrayValue,i)}}function mf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=OR(n.arrayValue,e.arrayValue),0!==t?t:(t=OR(n.directionalValue,e.directionalValue),0!==t?t:$e.comparator(n.documentKey,e.documentKey)))}function OR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class F1{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=Ka(e);if(void 0!==t&&!this.Be(t))return!1;const i=Qu(e);let r=0,l=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const d=i[r];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[l++],d))return!1;++r}for(;r<i.length;++r){const d=i[r];if(l>=this.Me.length||!this.Ue(this.Me[l++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class P1{constructor(){this.qe=new pI}addToCollectionParentIndex(e,t){return this.qe.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getFieldIndex(e,t){return be.resolve(null)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}updateCollectionGroup(e,t,i){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class pI{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Yn(sn.comparator),l=!r.has(i);return this.index[t]=r.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Yn(sn.comparator)).toArray()}}const ME=new Uint8Array(0);class N1{constructor(e){this.user=e,this.Ge=new pI,this.Ke=new bd(t=>_d(t),(t,i)=>vd(t,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:i,parent:Cr(r)};return kR(e).put(l)}return be.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[iE(t),""],!1,!0);return kR(e).qt(r).next(l=>{for(const d of l){if(d.collectionId!==t)break;i.push(Za(d.parent))}return i})}addFieldIndex(e,t){const i=RE(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=RE(e),r=OE(e),l=H_(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=H_(e);let r=!0;const l=new Map;return be.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(f=>{r&&(r=!!f),l.set(d,f)})).next(()=>{if(r){let d=xn();return be.forEach(l,(f,_)=>{var E;Be("IndexedDbIndexManager",`Using index ${E=f,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(Je=>`${Je.fieldPath}:${Je.kind}`).join(",")}`} to execute ${_d(t)}`);const I=function(Je,$t){const ut=Ka($t);if(void 0===ut)return null;for(const jt of Ng(Je,ut.fieldPath))switch(jt.op){case"array-contains-any":return jt.value.arrayValue.values||[];case"array-contains":return[jt.value]}return null}(_,f),R=function(Je,$t){const ut=new Map;for(const jt of Qu($t))for(const Pt of Ng(Je,jt.fieldPath))switch(Pt.op){case"==":case"in":ut.set(jt.fieldPath.canonicalString(),Pt.value);break;case"not-in":case"!=":return ut.set(jt.fieldPath.canonicalString(),Pt.value),Array.from(ut.values())}return null}(_,f),G=function(Je,$t){const ut=[];let jt=!0;for(const Hn of Qu($t)){let gi,Gr=!0;for(const In of Ng(Je,Hn.fieldPath)){let $n,oa=!0;switch(In.op){case"<":case"<=":$n="nullValue"in(Pt=In.value)?C_:"booleanValue"in Pt?{booleanValue:!1}:"integerValue"in Pt||"doubleValue"in Pt?{doubleValue:NaN}:"timestampValue"in Pt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Pt?{stringValue:""}:"bytesValue"in Pt?{bytesValue:""}:"referenceValue"in Pt?Zu(na.empty(),$e.empty()):"geoPointValue"in Pt?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Pt?{arrayValue:{}}:"mapValue"in Pt?{mapValue:{}}:lt();break;case"==":case"in":case">=":$n=In.value;break;case">":$n=In.value,oa=!1;break;case"!=":case"not-in":$n=C_}Yx(gi,$n)===$n&&(gi=$n,Gr=oa)}if(null!==Je.startAt)for(let In=0;In<Je.orderBy.length;++In)if(Je.orderBy[In].field.isEqual(Hn.fieldPath)){const $n=Je.startAt.position[In];Yx(gi,$n)===$n&&(gi=$n,Gr=Je.startAt.inclusive);break}if(void 0===gi)return null;ut.push(gi),jt&&(jt=Gr)}var Pt;return new Ju(ut,jt)}(_,f),K=function(Je,$t){const ut=[];let jt=!0;for(const Hn of Qu($t)){let gi,Gr=!0;for(const In of Ng(Je,Hn.fieldPath)){let $n,oa=!0;switch(In.op){case">=":case">":$n="nullValue"in(Pt=In.value)?{booleanValue:!1}:"booleanValue"in Pt?{doubleValue:NaN}:"integerValue"in Pt||"doubleValue"in Pt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Pt?{stringValue:""}:"stringValue"in Pt?{bytesValue:""}:"bytesValue"in Pt?Zu(na.empty(),$e.empty()):"referenceValue"in Pt?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Pt?{arrayValue:{}}:"arrayValue"in Pt?{mapValue:{}}:"mapValue"in Pt?Og:lt(),oa=!1;break;case"==":case"in":case"<=":$n=In.value;break;case"<":$n=In.value,oa=!1;break;case"!=":case"not-in":$n=Og}uE(gi,$n)===$n&&(gi=$n,Gr=oa)}if(null!==Je.endAt)for(let In=0;In<Je.orderBy.length;++In)if(Je.orderBy[In].field.isEqual(Hn.fieldPath)){const $n=Je.endAt.position[In];uE(gi,$n)===$n&&(gi=$n,Gr=Je.endAt.inclusive);break}if(void 0===gi)return null;ut.push(gi),jt&&(jt=Gr)}var Pt;return new Ju(ut,jt)}(_,f),Q=this.je(f,_,G),ce=this.je(f,_,K),Ve=this.We(f,_,R),tt=this.ze(f.indexId,I,Q,!!G&&G.inclusive,ce,!!K&&K.inclusive,Ve);return be.forEach(tt,Je=>i.Kt(Je,t.limit).next($t=>{$t.forEach(ut=>{d=d.add(new $e(Za(ut.documentKey)))})}))}).next(()=>d)}return be.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,i,r,l,d,f){const _=(null!=t?t.length:1)*Math.max(null!=i?i.length:1,null!=l?l.length:1),E=_/(null!=t?t.length:1),I=[];for(let R=0;R<_;++R){const G=t?this.He(t[R/E]):ME,K=i?this.Je(e,G,i[R%E],r):this.Ye(e),Q=l?this.Xe(e,G,l[R%E],d):this.Ye(e+1);I.push(...this.createRange(K,Q,f.map(ce=>this.Je(e,G,ce,!0))))}return I}Je(e,t,i,r){const l=new Ed(e,$e.empty(),t,i);return r?l:l.ke()}Xe(e,t,i,r){const l=new Ed(e,$e.empty(),t,i);return r?l.ke():l}Ye(e){return new Ed(e,$e.empty(),ME,ME)}getFieldIndex(e,t){const i=new F1(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(l=>{const d=l.filter(f=>i.$e(f));return d.sort((f,_)=>_.fields.length-f.fields.length),d.length>0?d[0]:null})}Ze(e,t){const i=new TE;for(const r of Qu(e)){const l=t.data.field(r.fieldPath);if(null==l)return null;const d=i.Ne(r.kind);Kg.fe.Zt(l,d)}return i.Se()}He(e){const t=new TE;return Kg.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,i){if(null===i)return[];let r=[];r.push(new TE);let l=0;for(const d of Qu(e)){const f=i[l++];for(const _ of r)if(this.tn(t,d.fieldPath)&&af(f))r=this.en(r,d,f);else{const E=_.Ne(d.kind);Kg.fe.Zt(f,E)}}return this.nn(r)}je(e,t,i){return null==i?null:this.We(e,t,i.position)}nn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}en(e,t,i){const r=[...e],l=[];for(const d of i.arrayValue.values||[])for(const f of r){const _=new TE;_.seed(f.Se()),Kg.fe.Zt(d,_.Ne(t.kind)),l.push(_)}return l}tn(e,t){return!!e.filters.find(i=>i instanceof nr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=RE(e),r=OE(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(l=>{const d=[];return be.forEach(l,f=>r.get([f.indexId,this.uid]).next(_=>{d.push(function(E,I){const R=I?new Xu(I.sequenceNumber,new bo(gf(I.readTime),new $e(Za(I.documentKey)),I.largestBatchId)):Xu.empty(),G=E.fields.map(([K,Q])=>new yd(Ei.fromServerFormat(K),Q));return new lf(E.indexId,E.collectionGroup,G,R)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const l=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==l?l:Yt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=RE(e),l=OE(e);return this.sn(e).next(d=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>be.forEach(f,_=>{return l.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:pf((G=i).readTime),documentKey:Cr(G.documentKey.path),largestBatchId:G.largestBatchId});var G})))}updateIndexEntries(e,t){const i=new Map;return be.forEach(t,(r,l)=>{const d=i.get(r.collectionGroup);return(d?be.resolve(d):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),be.forEach(f,_=>this.rn(e,r,_).next(E=>{const I=this.on(l,_);return E.isEqual(I)?be.resolve():this.un(e,l,E,I)}))))})}an(e,t,i){return H_(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,documentKey:Cr(t.key.path)})}cn(e,t,i){return H_(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,Cr(t.key.path)])}rn(e,t,i){const r=H_(e);let l=new Yn(mf);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,Cr(t.path)])},(d,f)=>{l=l.add(new Ed(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}on(e,t){let i=new Yn(mf);const r=this.Ze(t,e);if(null==r)return i;const l=Ka(t);if(null!=l){const d=e.data.field(l.fieldPath);if(af(d))for(const f of d.arrayValue.values||[])i=i.add(new Ed(t.indexId,e.key,this.He(f),r))}else i=i.add(new Ed(t.indexId,e.key,ME,r));return i}un(e,t,i,r){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,f,_,E,I){const R=d.getIterator(),G=f.getIterator();let K=$g(R),Q=$g(G);for(;K||Q;){let ce=!1,Ve=!1;if(K&&Q){const tt=_(K,Q);tt<0?Ve=!0:tt>0&&(ce=!0)}else null!=K?Ve=!0:ce=!0;ce?(E(Q),Q=$g(G)):Ve?(I(K),K=$g(R)):(K=$g(R),Q=$g(G))}}(i,r,mf,d=>{l.push(this.an(e,t,d))},d=>{l.push(this.cn(e,t,d))}),be.waitFor(l)}sn(e){let t=1;return OE(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,l)=>{l.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((d,f)=>mf(d,f)).filter((d,f,_)=>!f||0!==mf(d,_[f-1]));const r=[];r.push(e);for(const d of i){const f=mf(d,e),_=mf(d,t);if(0===f)r[0]=e.ke();else if(f>0&&_<0)r.push(d),r.push(d.ke());else if(_>0)break}r.push(t);const l=[];for(let d=0;d<r.length;d+=2)l.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,""],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,""]));return l}}function kR(n){return Dr(n,"collectionParents")}function H_(n){return Dr(n,"indexEntries")}function RE(n){return Dr(n,"indexConfiguration")}function OE(n){return Dr(n,"indexState")}const FR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new qs(e,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PR(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let f=0;const _=i.Wt({range:d},(I,R,G)=>(f++,G.delete()));l.push(_.next(()=>{Ft(1===f)}));const E=[];for(const I of t.mutations){const R=_R(e,I.key.path,t.batchId);l.push(r.delete(R)),E.push(I.key)}return be.waitFor(l).next(()=>E)}function kE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw lt();e=n.noDocument}return JSON.stringify(e).length}qs.DEFAULT_COLLECTION_PERCENTILE=10,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qs.DEFAULT=new qs(41943040,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qs.DISABLED=new qs(-1,0,0);class gI{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.hn={}}static Yt(e,t,i,r){Ft(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new gI(l,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cd(e).Wt({index:"userMutationsIndex",range:i},(r,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const l=Yg(e),d=Cd(e);return d.add({}).next(f=>{Ft("number"==typeof f);const _=new lI(f,t,i,r),E=function(G,K,Q){const ce=Q.baseMutations.map(tt=>B_(G.Jt,tt)),Ve=Q.mutations.map(tt=>B_(G.Jt,tt));return{userId:K,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:ce,mutations:Ve}}(this.M,this.userId,_),I=[];let R=new Yn((G,K)=>Yt(G.canonicalString(),K.canonicalString()));for(const G of r){const K=_R(this.userId,G.key.path,f);R=R.add(G.key.path.popLast()),I.push(d.put(E)),I.push(l.put(K,u1))}return R.forEach(G=>{I.push(this.indexManager.addToCollectionParentIndex(e,G))}),e.addOnCommittedListener(()=>{this.hn[f]=_.keys()}),be.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Cd(e).get(t).next(i=>i?(Ft(i.userId===this.userId),qg(this.M,i)):null)}ln(e,t){return this.hn[t]?be.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.hn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Cd(e).Wt({index:"userMutationsIndex",range:r},(d,f,_)=>{f.userId===this.userId&&(Ft(f.batchId>=i),l=qg(this.M,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Cd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,l,d)=>{i=l.batchId,d.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cd(e).qt("userMutationsIndex",t).next(i=>i.map(r=>qg(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=IE(this.userId,t.path),r=IDBKeyRange.lowerBound(i),l=[];return Yg(e).Wt({range:r},(d,f,_)=>{const[E,I,R]=d,G=Za(I);if(E===this.userId&&t.path.isEqual(G))return Cd(e).get(R).next(K=>{if(!K)throw lt();Ft(K.userId===this.userId),l.push(qg(this.M,K))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Yn(Yt);const r=[];return t.forEach(l=>{const d=IE(this.userId,l.path),f=IDBKeyRange.lowerBound(d),_=Yg(e).Wt({range:f},(E,I,R)=>{const[G,K,Q]=E,ce=Za(K);G===this.userId&&l.path.isEqual(ce)?i=i.add(Q):R.done()});r.push(_)}),be.waitFor(r).next(()=>this.fn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,l=IE(this.userId,i),d=IDBKeyRange.lowerBound(l);let f=new Yn(Yt);return Yg(e).Wt({range:d},(_,E,I)=>{const[R,G,K]=_,Q=Za(G);R===this.userId&&i.isPrefixOf(Q)?Q.length===r&&(f=f.add(K)):I.done()}).next(()=>this.fn(e,f))}fn(e,t){const i=[],r=[];return t.forEach(l=>{r.push(Cd(e).get(l).next(d=>{if(null===d)throw lt();Ft(d.userId===this.userId),i.push(qg(this.M,d))}))}),be.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return PR(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),be.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return be.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Yg(e).Wt({range:i},(l,d,f)=>{if(l[0]===this.userId){const _=Za(l[1]);r.push(_)}else f.done()}).next(()=>{Ft(0===r.length)})})}containsKey(e,t){return NR(e,this.userId,t)}_n(e){return LR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function NR(n,e,t){const i=IE(e,t.path),r=i[1],l=IDBKeyRange.lowerBound(i);let d=!1;return Yg(n).Wt({range:l,jt:!0},(f,_,E)=>{const[I,R,G]=f;I===e&&R===r&&(d=!0),E.done()}).next(()=>d)}function Cd(n){return Dr(n,"mutations")}function Yg(n){return Dr(n,"documentMutations")}function LR(n){return Dr(n,"mutationQueues")}class yf{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new yf(0)}static gn(){return new yf(-1)}}class L1{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const i=new yf(t.highestTargetId);return t.highestTargetId=i.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>St.fromTimestamp(new Kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.yn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.pn(e,r)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(i=>(i.targetCount+=1,this.Tn(t,i),this.pn(e,i))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Zg(e).delete(t.targetId)).next(()=>this.yn(e)).next(i=>(Ft(i.targetCount>0),i.targetCount-=1,this.pn(e,i)))}removeTargets(e,t,i){let r=0;const l=[];return Zg(e).Wt((d,f)=>{const _=j_(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,l.push(this.removeTargetData(e,_)))}).next(()=>be.waitFor(l)).next(()=>r)}forEachTarget(e,t){return Zg(e).Wt((i,r)=>{const l=j_(r);t(l)})}yn(e){return VR(e).get("targetGlobalKey").next(t=>(Ft(null!==t),t))}pn(e,t){return VR(e).put("targetGlobalKey",t)}In(e,t){return Zg(e).put(AR(this.M,t))}Tn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=_d(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return Zg(e).Wt({range:r,index:"queryTargetsIndex"},(d,f,_)=>{const E=j_(f);vd(t,E.target)&&(l=E,_.done())}).next(()=>l)}addMatchingKeys(e,t,i){const r=[],l=Dd(e);return t.forEach(d=>{const f=Cr(d.path);r.push(l.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,d))}),be.waitFor(r)}removeMatchingKeys(e,t,i){const r=Dd(e);return be.forEach(t,l=>{const d=Cr(l.path);return be.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(e,i,l)])})}removeMatchingKeysForTargetId(e,t){const i=Dd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Dd(e);let l=xn();return r.Wt({range:i,jt:!0},(d,f,_)=>{const E=Za(d[1]),I=new $e(E);l=l.add(I)}).next(()=>l)}containsKey(e,t){const i=Cr(t.path),r=IDBKeyRange.bound([i],[iE(i)],!1,!0);let l=0;return Dd(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([d,f],_,E)=>{0!==d&&(l++,E.done())}).next(()=>l>0)}Et(e,t){return Zg(e).get(t).next(i=>i?j_(i):null)}}function Zg(n){return Dr(n,"targets")}function VR(n){return Dr(n,"targetGlobal")}function Dd(n){return Dr(n,"targetDocuments")}function _f(n){return mI.apply(this,arguments)}function mI(){return mI=(0,ve.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==wR)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),mI.apply(this,arguments)}function BR([n,e],[t,i]){const r=Yt(n,t);return 0===r?Yt(e,i):r}class V1{constructor(e){this.En=e,this.buffer=new Yn(BR),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();BR(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class B1{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const i=this.Pn?3e5:6e4;Be("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,ve.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){hf(r)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield _f(r)}yield t.vn(e)}))}}class U1{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return be.resolve(vs.A);const i=new V1(t);return this.Sn.forEachTarget(e,r=>i.bn(r.sequenceNumber)).next(()=>this.Sn.Cn(e,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Sn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(FR)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FR):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let i,r,l,d,f,_,E;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),r=this.params.maximumSequenceNumbersToCollect):r=R,d=Date.now(),this.nthSequenceNumber(e,r))).next(R=>(i=R,f=Date.now(),this.removeTargets(e,i,t))).next(R=>(l=R,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(R=>(E=Date.now(),nf()<=Ou.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-I}ms\n\tDetermined least recently used ${r} in `+(f-d)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${R} documents in `+(E-_)+`ms\nTotal Duration: ${E-I}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:R})))}}class j1{constructor(e,t){this.db=e,this.garbageCollector=new U1(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Nn(e){let t=0;return this.Cn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(i,r)=>t(r))}addReference(e,t,i){return FE(e,i)}removeReference(e,t,i){return FE(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return FE(e,t)}Mn(e,t){return function(i,r){let l=!1;return LR(i).zt(d=>NR(i,d,r).next(f=>(f&&(l=!0),be.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let l=0;return this.kn(e,(d,f)=>{if(f<=t){const _=this.Mn(e,d).next(E=>{if(!E)return l++,i.getEntry(e,d).next(()=>(i.removeEntry(d,St.min()),Dd(e).delete([0,Cr(d.path)])))});r.push(_)}}).next(()=>be.waitFor(r)).next(()=>i.apply(e)).next(()=>l)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return FE(e,t)}kn(e,t){const i=Dd(e);let r,l=vs.A;return i.Wt({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:E})=>{0===d?(l!==vs.A&&t(new $e(Za(r)),l),l=E,r=_):l=vs.A}).next(()=>{l!==vs.A&&t(new $e(Za(r)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function FE(n,e){return Dd(n).put((i=n.currentSequenceNumber,{targetId:0,path:Cr(e.path),sequenceNumber:i}));var i}class UR{constructor(){this.changes=new bd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?be.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class G1{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return vf(e).put(i)}removeEntry(e,t,i){return vf(e).delete(function(r,l){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],SE(l),d[d.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.On(e,i)))}getEntry(e,t){let i=Un.newInvalidDocument(t);return vf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only($_(t))},(r,l)=>{i=this.Fn(t,l)}).next(()=>i)}$n(e,t){let i={size:0,document:Un.newInvalidDocument(t)};return vf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only($_(t))},(r,l)=>{i={document:this.Fn(t,l),size:kE(l)}}).next(()=>i)}getEntries(e,t){let i=ra();return this.Bn(e,t,(r,l)=>{const d=this.Fn(r,l);i=i.insert(r,d)}).next(()=>i)}Ln(e,t){let i=ra(),r=new Li($e.comparator);return this.Bn(e,t,(l,d)=>{const f=this.Fn(l,d);i=i.insert(l,f),r=r.insert(l,kE(d))}).next(()=>({documents:i,Un:r}))}Bn(e,t,i){if(t.isEmpty())return be.resolve();let r=new Yn(HR);t.forEach(_=>r=r.add(_));const l=IDBKeyRange.bound($_(r.first()),$_(r.last())),d=r.getIterator();let f=d.getNext();return vf(e).Wt({index:"documentKeyIndex",range:l},(_,E,I)=>{const R=$e.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;f&&HR(f,R)<0;)i(f,null),f=d.getNext();f&&f.isEqual(R)&&(i(f,E),f=d.hasNext()?d.getNext():null),f?I.Ut($_(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),SE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vf(e).qt(IDBKeyRange.bound(r,l,!0)).next(d=>{let f=ra();for(const _ of d){const E=this.Fn($e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(E.key,E)}return f})}getAllFromCollectionGroup(e,t,i,r){let l=ra();const d=GR(t,i),f=GR(t,bo.max());return vf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,E,I)=>{const R=this.Fn($e.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);l=l.insert(R.key,R),l.size===r&&I.done()}).next(()=>l)}newChangeBuffer(e){return new H1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return jR(e).get("remoteDocumentGlobalKey").next(t=>(Ft(!!t),t))}On(e,t){return jR(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const i=function S1(n,e){let t;if(e.document)t=cR(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=$e.fromSegments(e.noDocument.path),r=gf(e.noDocument.readTime);t=Un.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return lt();{const i=$e.fromSegments(e.unknownDocument.path),r=gf(e.unknownDocument.version);t=Un.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Kn(i[0],i[1]);return St.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(St.min()))return i}return Un.newInvalidDocument(e)}}class H1 extends UR{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new bd(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Yn((l,d)=>Yt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const f=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,f.readTime)),d.isValidDocument()){const _=IR(this.qn.M,d);r=r.add(l.path.popLast()),i+=kE(_)-f.size,t.push(this.qn.addEntry(e,l,_))}else if(i-=f.size,this.trackRemovals){const _=IR(this.qn.M,d.convertToNoDocument(St.min()));t.push(this.qn.addEntry(e,l,_))}}),r.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,i)),be.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:i,Un:r})=>(r.forEach((l,d)=>{this.Gn.set(l,{size:d,readTime:i.get(l).readTime})}),i))}}function jR(n){return Dr(n,"remoteDocumentGlobal")}function vf(n){return Dr(n,"remoteDocumentsV14")}function $_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function GR(n,e){const t=e.documentKey.path.toArray();return[n,SE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function HR(n,e){const t=n.path.length-e.path.length;return 0!==t?t:$e.comparator(n,e)}class $1{constructor(e){this.M=e}kt(e,t,i,r){const l=new AE("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yR,{unique:!0}),f.createObjectStore("documentMutations"),$R(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=be.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),$R(e)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",E)}(l))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(f,_){return _.store("mutations").qt().next(E=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yR,{unique:!0});const I=_.store("mutations"),R=E.map(G=>I.put(G));return be.waitFor(R)})}(e,l))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(d=d.next(()=>this.Kn(l))),i<6&&r>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),i<7&&r>=7&&(d=d.next(()=>this.jn(l))),i<8&&r>=8&&(d=d.next(()=>this.Wn(e,l))),i<9&&r>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(d=d.next(()=>this.zn(l))),i<11&&r>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:w1});_.createIndex("collectionPathOverlayIndex",E1,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",C1,{unique:!1})}(e)})),i<13&&r>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:c1});_.createIndex("documentKeyIndex",d1),_.createIndex("collectionGroupIndex",h1)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(d=d.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:y1}).createIndex("sequenceNumberIndex",_1,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:v1}).createIndex("documentKeyIndex",b1,{unique:!1})}(e)})),d}Qn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=kE(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Kn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>be.forEach(r,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",d).next(f=>be.forEach(f,_=>{Ft(_.userId===l.userId);const E=qg(this.M,_);return PR(e,l.userId,E).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const l=[];return i.Wt((d,f)=>{const _=new sn(d),E=[0,Cr(_)];l.push(t.get(E).next(I=>I?be.resolve():t.put({targetId:0,path:Cr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>be.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:m1});const i=t.store("collectionParents"),r=new pI,l=d=>{if(r.add(d)){const f=d.lastSegment(),_=d.popLast();return i.put({collectionId:f,parent:Cr(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,f)=>{const _=new sn(d);return l(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,f,_],E)=>{const I=Za(f);return l(I.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((i,r)=>{const l=j_(r),d=AR(this.M,l);return t.put(d)})}Hn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((l,d)=>{const f=t.store("remoteDocumentsV14"),_=(E=d,E.document?new $e(sn.fromString(E.document.name).popFirst(5)):E.noDocument?$e.fromSegments(E.noDocument.path):E.unknownDocument?$e.fromSegments(E.unknownDocument.path):lt()).path.toArray();var E;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(f.put(I))}).next(()=>be.waitFor(r))}}function $R(n){n.createObjectStore("targetDocuments",{keyPath:p1}).createIndex("documentTargetsIndex",g1,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",f1,{unique:!0}),n.createObjectStore("targetGlobal")}const yI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _I{constructor(e,t,i,r,l,d,f,_,E,I,R=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Jn=l,this.window=d,this.document=f,this.Yn=E,this.Xn=I,this.Zn=R,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=G=>Promise.resolve(),!_I.vt())throw new ke(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new j1(this,r),this.cs=t+"main",this.M=new xR(_),this.hs=new Qa(this.cs,this.Zn,new $1(this.M)),this.ls=new L1(this.referenceDelegate,this.M),this.fs=new G1(this.M),this.ds=new T1,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===I&&Pi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(fe.FAILED_PRECONDITION,yI);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new vs(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var i=(0,ve.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,ve.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>PE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(hf(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return z_(e).get("owner").next(t=>be.resolve(this.bs(t)))}Ps(e){return PE(e).delete(this.clientId)}Vs(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Dr(i,"clientMetadata");return r.qt().next(l=>{const d=e.Ss(l,18e5),f=l.filter(_=>-1===d.indexOf(_));return be.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._s)for(const i of t)e._s.removeItem(e.Ds(i.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?be.resolve(!0):z_(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new ke(fe.FAILED_PRECONDITION,yI);return!1}}return!(!this.networkEnabled||!this.inForeground)||PE(e).qt().next(i=>void 0===this.Ss(i,5e3).find(r=>{if(this.clientId!==r.clientId){const d=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new DR(t,vs.A);return e.As(i).next(()=>e.Ps(i))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(i=>this.vs(i.updateTimeMs,t)&&!this.Cs(i.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>PE(e).qt().next(t=>this.Ss(t,18e5).map(i=>i.clientId)))}get started(){return this.es}getMutationQueue(e,t){return gI.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new N1(e)}getDocumentOverlayCache(e){return fI.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,i){Be("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",l=14===(d=this.Zn)?x1:13===d?bR:12===d?D1:11===d?vR:void lt();var d;let f;return this.hs.runTransaction(e,r,l,_=>(f=new DR(_,this.ts?this.ts.next():vs.A),"readwrite-primary"===t?this.Ts(f).next(E=>!!E||this.Es(f)).next(E=>{if(!E)throw Pi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new ke(fe.FAILED_PRECONDITION,wR);return i(f)}).next(E=>this.Rs(f).next(()=>E)):this.Fs(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Fs(e){return z_(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(fe.FAILED_PRECONDITION,yI)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return z_(e).put("owner",t)}static vt(){return Qa.vt()}As(e){const t=z_(e);return t.get("owner").next(i=>this.bs(i)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):be.resolve())}vs(e,t){const i=Date.now();return!(e<i-t||e>i&&(Pi(`Detected an update time that is in the future: ${e} > ${i}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const i=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Be("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Pi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Pi("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function z_(n){return Dr(n,"owner")}function PE(n){return Dr(n,"clientMetadata")}function vI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class z1{constructor(e,t,i){this.fs=e,this.$s=t,this.indexManager=i}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Ls(e,t,i))}Ls(e,t,i){return this.fs.getEntry(e,t).next(r=>{for(const l of i)l.applyToLocalView(r);return r})}Us(e,t){e.forEach((i,r)=>{for(const l of t)l.applyToLocalView(r)})}qs(e,t){return this.fs.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.Us(t,i))}Ks(e,t,i){return $e.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(e,t.path):vE(t)?this.js(e,t,i):this.Ws(e,t,i);var r}Qs(e,t){return this.Bs(e,new $e(t)).next(i=>{let r=iI();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}js(e,t,i){const r=t.collectionGroup;let l=iI();return this.indexManager.getCollectionParents(e,r).next(d=>be.forEach(d,f=>{const _=(E=t,I=f.child(r),new Vl(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,I;return this.Ws(e,_,i).next(E=>{E.forEach((I,R)=>{l=l.insert(I,R)})})}).next(()=>l))}Ws(e,t,i){let r;return this.fs.getAllFromCollection(e,t.path,i).next(l=>(r=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const f of d.mutations){const _=f.key;let E=r.get(_);null==E&&(E=Un.newInvalidDocument(_),r=r.insert(_,E)),df(f,E,d.localWriteTime),E.isFoundDocument()||(r=r.remove(_))}}).next(()=>(r.forEach((l,d)=>{EE(t,d)||(r=r.remove(l))}),r))}}class bI{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.zs=i,this.Hs=r}static Js(e,t){let i=xn(),r=xn();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new bI(e,t.fromCache,i,r)}}class zR{Ys(e){this.Xs=e}Ks(e,t,i,r){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||i.isEqual(St.min())?this.Zs(e,t):this.Xs.qs(e,r).next(l=>{const d=this.ti(t,l);return(Lg(t)||Vg(t))&&this.ei(t.limitType,d,r,i)?this.Zs(e,t):(nf()<=Ou.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wE(t)),this.Xs.Ks(e,t,dE(i,-1)).next(f=>(d.forEach(_=>{f=f.insert(_.key,_)}),f)))});var l}ti(e,t){let i=new Yn(o(e));return t.forEach((r,l)=>{EE(e,l)&&(i=i.add(l))}),i}ei(e,t,i,r){if(i.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}Zs(e,t){return nf()<=Ou.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",wE(t)),this.Xs.Ks(e,t,bo.min())}}class W1{constructor(e,t,i,r){this.persistence=e,this.ni=t,this.M=r,this.si=new Li(Yt),this.ii=new bd(l=>_d(l),vd),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(i)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new z1(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function WR(n,e,t,i){return new W1(n,e,t,i)}function qR(n,e){return wI.apply(this,arguments)}function wI(){return wI=(0,ve.Z)(function*(n,e){const t=Xe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.$s.getAllMutationBatches(i).next(l=>(r=l,t.ui(e),t.$s.getAllMutationBatches(i))).next(l=>{const d=[],f=[];let _=xn();for(const E of r){d.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}for(const E of l){f.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}return t.ai.qs(i,_).next(E=>({ci:E,removedBatchIds:d,addedBatchIds:f}))})})}),wI.apply(this,arguments)}function q1(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(d,f,_,E){const I=_.batch,R=I.keys();let G=be.resolve();return R.forEach(K=>{G=G.next(()=>E.getEntry(f,K)).next(Q=>{const ce=_.docVersions.get(K);Ft(null!==ce),Q.version.compareTo(ce)<0&&(I.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),E.addEntry(Q)))})}),G.next(()=>d.$s.removeMutationBatch(f,I))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.$s.performConsistencyCheck(i)).next(()=>t.ai.qs(i,r))})}function KR(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function K1(n,e){const t=Xe(n),i=e.snapshotVersion;let r=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.oi.newChangeBuffer({trackRemovals:!0});r=t.si;const f=[];e.targetChanges.forEach((E,I)=>{const R=r.get(I);if(!R)return;f.push(t.ls.removeMatchingKeys(l,E.removedDocuments,I).next(()=>t.ls.addMatchingKeys(l,E.addedDocuments,I)));let G=R.withSequenceNumber(l.currentSequenceNumber);var K,Q,ce;e.targetMismatches.has(I)?G=G.withResumeToken(Hi.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,i)),r=r.insert(I,G),Q=G,ce=E,(0===(K=R).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&f.push(t.ls.updateTargetData(l,G))});let _=ra();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),f.push(YR(l,d,e.documentUpdates).next(E=>{_=E})),!i.isEqual(St.min())){const E=t.ls.getLastRemoteSnapshotVersion(l).next(I=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(E)}return be.waitFor(f).next(()=>d.apply(l)).next(()=>t.ai.Gs(l,_)).next(()=>_)}).then(l=>(t.si=r,l))}function YR(n,e,t){let i=xn();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let l=ra();return t.forEach((d,f)=>{const _=r.get(d);f.isNoDocument()&&f.version.isEqual(St.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):Be("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",f.version)}),l})}function Y1(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(i,e)))}function Qg(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.ls.getTargetData(i,e).next(l=>l?(r=l,be.resolve(r)):t.ls.allocateTargetId(i).next(d=>(r=new wd(e,d,0,i.currentSequenceNumber),t.ls.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.si.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.si=t.si.insert(i.targetId,i),t.ii.set(e,i.targetId)),i})}function Xg(n,e,t){return EI.apply(this,arguments)}function EI(){return EI=(0,ve.Z)(function*(n,e,t){const i=Xe(n),r=i.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",l,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!hf(d))throw d;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.si=i.si.remove(e),i.ii.delete(r.target)}),EI.apply(this,arguments)}function NE(n,e,t){const i=Xe(n);let r=St.min(),l=xn();return i.persistence.runTransaction("Execute query","readonly",d=>function(f,_,E){const I=Xe(f),R=I.ii.get(E);return void 0!==R?be.resolve(I.si.get(R)):I.ls.getTargetData(_,E)}(i,d,wo(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.ls.getMatchingKeysForTargetId(d,f.targetId).next(_=>{l=_})}).next(()=>i.ni.Ks(d,e,t?r:St.min(),t?l:xn())).next(f=>(XR(i,s(e),f),{documents:f,hi:l})))}function ZR(n,e){const t=Xe(n),i=Xe(t.ls),r=t.si.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",l=>i.Et(l,e).next(d=>d?d.target:null))}function QR(n,e){const t=Xe(n),i=t.ri.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.oi.getAllFromCollectionGroup(r,e,dE(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(XR(t,e,r),r))}function XR(n,e,t){let i=St.min();t.forEach((r,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ri.set(e,i)}function CI(){return CI=(0,ve.Z)(function*(n,e,t,i){const r=Xe(n);let l=xn(),d=ra();for(const E of t){const I=e.li(E.metadata.name);E.document&&(l=l.add(I));const R=e.fi(E);R.setReadTime(e.di(E.metadata.readTime)),d=d.insert(I,R)}const f=r.oi.newChangeBuffer({trackRemovals:!0}),_=yield Qg(r,(E=i,wo(uf(sn.fromString(`__bundle__/docs/${E}`)))));var E;return r.persistence.runTransaction("Apply bundle documents","readwrite",E=>YR(E,f,d).next(I=>(f.apply(E),I)).next(I=>r.ls.removeMatchingKeysForTargetId(E,_.targetId).next(()=>r.ls.addMatchingKeys(E,l,_.targetId)).next(()=>r.ai.Gs(E,I)).next(()=>I)))}),CI.apply(this,arguments)}function Q1(n,e){return DI.apply(this,arguments)}function DI(){return DI=(0,ve.Z)(function*(n,e,t=xn()){const i=yield Qg(n,wo(dI(e.bundledQuery))),r=Xe(n);return r.persistence.runTransaction("Save named query","readwrite",l=>{const d=Er(e.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r.ds.saveNamedQuery(l,e);const f=i.withResumeToken(Hi.EMPTY_BYTE_STRING,d);return r.si=r.si.insert(f.targetId,f),r.ls.updateTargetData(l,f).next(()=>r.ls.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>r.ls.addMatchingKeys(l,t,i.targetId)).next(()=>r.ds.saveNamedQuery(l,e))})}),DI.apply(this,arguments)}class X1{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return be.resolve(this._i.get(t))}saveBundleMetadata(e,t){var i;return this._i.set(t.id,{id:(i=t).id,version:i.version,createTime:Er(i.createTime)}),be.resolve()}getNamedQuery(e,t){return be.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(i=t).name,query:dI(i.bundledQuery),readTime:Er(i.readTime)}),be.resolve();var i}}class J1{constructor(){this.overlays=new Li($e.comparator),this.mi=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,l)=>{this.Xt(e,t,l)}),be.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.mi.get(i);return void 0!==r&&(r.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(i)),be.resolve()}getOverlaysForCollection(e,t,i){const r=k_(),l=t.length+1,d=new $e(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,E=_.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===l&&_.largestBatchId>i&&r.set(_.getKey(),_)}return be.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let l=new Li((E,I)=>E-I);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>i){let I=l.get(E.largestBatchId);null===I&&(I=k_(),l=l.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const f=k_(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,I)=>f.set(E,I)),!(f.size()>=r)););return be.resolve(f)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const d=this.mi.get(r.largestBatchId).delete(i.key);this.mi.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new cI(t,i));let l=this.mi.get(t);void 0===l&&(l=xn(),this.mi.set(t,l)),this.mi.set(t,l.add(i.key))}}class xI{constructor(){this.gi=new Yn(xr.yi),this.pi=new Yn(xr.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const i=new xr(e,t);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}Ti(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ei(new xr(e,t))}Ai(e,t){e.forEach(i=>this.removeReference(i,t))}Ri(e){const t=new $e(new sn([])),i=new xr(t,e),r=new xr(t,e+1),l=[];return this.pi.forEachInRange([i,r],d=>{this.Ei(d),l.push(d.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new $e(new sn([])),i=new xr(t,e),r=new xr(t,e+1);let l=xn();return this.pi.forEachInRange([i,r],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new xr(e,0),i=this.gi.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class xr{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return $e.comparator(e.key,t.key)||Yt(e.Vi,t.Vi)}static Ii(e,t){return Yt(e.Vi,t.Vi)||$e.comparator(e.key,t.key)}}class eL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Yn(xr.yi)}checkEmpty(e){return be.resolve(0===this.$s.length)}addMutationBatch(e,t,i,r){const l=this.vi;this.vi++;const d=new lI(l,t,i,r);this.$s.push(d);for(const f of r)this.Si=this.Si.add(new xr(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return be.resolve(d)}lookupMutationBatch(e,t){return be.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ci(t+1),l=r<0?0:r;return be.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return be.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new xr(t,0),r=new xr(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([i,r],d=>{const f=this.Di(d.Vi);l.push(f)}),be.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Yn(Yt);return t.forEach(r=>{const l=new xr(r,0),d=new xr(r,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,d],f=>{i=i.add(f.Vi)})}),be.resolve(this.xi(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let l=i;$e.isDocumentKey(l)||(l=l.child(""));const d=new xr(new $e(l),0);let f=new Yn(Yt);return this.Si.forEachWhile(_=>{const E=_.key.path;return!!i.isPrefixOf(E)&&(E.length===r&&(f=f.add(_.Vi)),!0)},d),be.resolve(this.xi(f))}xi(e){const t=[];return e.forEach(i=>{const r=this.Di(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ft(0===this.Ni(t.batchId,"removed")),this.$s.shift();let i=this.Si;return be.forEach(t.mutations,r=>{const l=new xr(r.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Si=i})}dn(e){}containsKey(e,t){const i=new xr(t,0),r=this.Si.firstAfterOrEqual(i);return be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return be.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class tL{constructor(e){this.ki=e,this.docs=new Li($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),l=r?r.size:0,d=this.ki(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return be.resolve(i?i.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let i=ra();return t.forEach(r=>{const l=this.docs.get(r);i=i.insert(r,l?l.document.mutableCopy():Un.newInvalidDocument(r))}),be.resolve(i)}getAllFromCollection(e,t,i){let r=ra();const l=new $e(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Fg(I_(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return be.resolve(r)}getAllFromCollectionGroup(e,t,i,r){lt()}Mi(e,t){return be.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new nL(this)}getSize(e){return be.resolve(this.size)}}class nL extends UR{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.qn.addEntry(e,r)):this.qn.removeEntry(i)}),be.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class iL{constructor(e){this.persistence=e,this.Oi=new bd(t=>_d(t),vd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Fi=0,this.$i=new xI,this.targetCount=0,this.Bi=yf.mn()}forEachTarget(e,t){return this.Oi.forEach((i,r)=>t(r)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Fi&&(this.Fi=t),be.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new yf(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.In(t),be.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,i){let r=0;const l=[];return this.Oi.forEach((d,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Oi.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),be.waitFor(l).next(()=>r)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const i=this.Oi.get(t)||null;return be.resolve(i)}addMatchingKeys(e,t,i){return this.$i.Ti(t,i),be.resolve()}removeMatchingKeys(e,t,i){this.$i.Ai(t,i);const r=this.persistence.referenceDelegate,l=[];return r&&t.forEach(d=>{l.push(r.markPotentiallyOrphaned(e,d))}),be.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),be.resolve()}getMatchingKeysForTargetId(e,t){const i=this.$i.Pi(t);return be.resolve(i)}containsKey(e,t){return be.resolve(this.$i.containsKey(t))}}class rL{constructor(e,t){this.Li={},this.overlays={},this.ts=new vs(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new iL(this),this.indexManager=new P1,this.fs=new tL(i=>this.referenceDelegate.Ui(i)),this.M=new xR(t),this.ds=new X1(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new J1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Li[e.toKey()];return i||(i=new eL(t,this.referenceDelegate),this.Li[e.toKey()]=i),i}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,i){Be("MemoryPersistence","Starting transaction:",e);const r=new sL(this.ts.next());return this.referenceDelegate.qi(),i(r).next(l=>this.referenceDelegate.Gi(r).next(()=>l)).toPromise().then(l=>(r.raiseOnCommittedEvent(),l))}Ki(e,t){return be.or(Object.values(this.Li).map(i=>()=>i.containsKey(e,t)))}}class sL extends ER{constructor(e){super(),this.currentSequenceNumber=e}}class II{constructor(e){this.persistence=e,this.Qi=new xI,this.ji=null}static Wi(e){return new II(e)}get zi(){if(this.ji)return this.ji;throw lt()}addReference(e,t,i){return this.Qi.addReference(i,t),this.zi.delete(i.toString()),be.resolve()}removeReference(e,t,i){return this.Qi.removeReference(i,t),this.zi.add(i.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),be.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(r=>this.zi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(l=>this.zi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.zi,i=>{const r=$e.fromPath(i);return this.Hi(e,r).next(l=>{l||t.removeEntry(r,St.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(i=>{i?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return be.or([()=>be.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function JR(n,e){return`firestore_clients_${n}_${e}`}function eO(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function AI(n,e){return`firestore_targets_${n}_${e}`}class LE{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let l,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(l=new ke(r.error.code,r.error.message))),d?new LE(e,t,r.state,l):(Pi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class W_{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(r=new ke(i.error.code,i.error.message))),l?new W_(e,i.state,r):(Pi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class VE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,l=DE();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=E_(i.activeTargetIds[d]),l=l.add(i.activeTargetIds[d]);return r?new VE(e,l):(Pi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class SI{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new SI(t.clientId,t.onlineState):(Pi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class TI{constructor(){this.activeTargetIds=DE()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MI{constructor(e,t,i,r,l){this.window=e,this.Jn=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Li(Yt),this.started=!1,this.ir=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=JR(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new TI),this.ar=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.Os();for(const r of t){if(r===e.tr)continue;const l=e.getItem(JR(e.persistenceKey,r));if(l){const d=VE.Ji(r,l);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(AI(this.persistenceKey,e));if(i){const r=W_.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(AI(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Be("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Pi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==i.key)if(t.ar.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.cr.test(i.key)){if(null!==i.newValue){const r=t.Vr(i.key,i.newValue);if(r)return t.vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(l){let d=vs.A;if(null!=l)try{const f=JSON.parse(l);Ft("number"==typeof f),d=f}catch(f){Pi("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(i.newValue);r!==vs.A&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new LE(this.currentUser,e,t,i),l=eO(this.persistenceKey,this.currentUser,e);this.setItem(l,r.Yi())}pr(e){const t=eO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=AI(this.persistenceKey,e),l=new W_(e,t,i);this.setItem(r,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return VE.Ji(i,t)}Vr(e,t){const i=this.cr.exec(e),r=Number(i[1]);return LE.Ji(new wi(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return W_.Ji(r,t)}wr(e){return SI.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),l=this.gr(i),d=[],f=[];return l.forEach(_=>{r.has(_)||d.push(_)}),r.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.Or(d,f).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=DE();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class tO{constructor(){this.Fr=new TI,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new TI,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oL{Br(e){}shutdown(){}}class nO{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const aL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class lL{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class uL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,l){const d=this.oo(e,t);Be("RestConnection","Sending: ",d,i);const f={};return this.uo(f,r,l),this.ao(e,d,f,i).then(_=>(Be("RestConnection","Received: ",_),_),_=>{throw zu("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",i),_})}co(e,t,i,r,l){return this.ro(e,t,i,r,l)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+tf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,l)=>e[l]=r),i&&i.headers.forEach((r,l)=>e[l]=r)}oo(e,t){return`${this.so}/v1/${t}:${aL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,i,r){return new Promise((l,d)=>{const f=new HM;f.listenOnce(UM.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Jw.NO_ERROR:const E=f.getResponseJson();Be("Connection","XHR received:",JSON.stringify(E)),l(E);break;case Jw.TIMEOUT:Be("Connection",'RPC "'+e+'" timed out'),d(new ke(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Jw.HTTP_ERROR:const I=f.getStatus();if(Be("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const R=f.getResponseJson().error;if(R&&R.status&&R.message){const G=function(K){const Q=K.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Q)>=0?Q:fe.UNKNOWN}(R.status);d(new ke(G,R.message))}else d(new ke(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ke(fe.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Be("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=BM(),d=Xw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new GM({})),this.uo(f.initMessageHeaders,t,i),(0,Qt.uI)()||(0,Qt.b$)()||(0,Qt.d)()||(0,Qt.w1)()||(0,Qt.Mn)()||(0,Qt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Be("Connection","Creating WebChannel: "+_,f);const E=l.createWebChannel(_,f);let I=!1,R=!1;const G=new lL({jr:Q=>{R?Be("Connection","Not sending because WebChannel is closed:",Q):(I||(Be("Connection","Opening WebChannel transport."),E.open(),I=!0),Be("Connection","WebChannel sending:",Q),E.send(Q))},Wr:()=>E.close()}),K=(Q,ce,Ve)=>{Q.listen(ce,tt=>{try{Ve(tt)}catch(Je){setTimeout(()=>{throw Je},0)}})};return K(E,v_.EventType.OPEN,()=>{R||Be("Connection","WebChannel transport opened.")}),K(E,v_.EventType.CLOSE,()=>{R||(R=!0,Be("Connection","WebChannel transport closed"),G.eo())}),K(E,v_.EventType.ERROR,Q=>{R||(R=!0,zu("Connection","WebChannel transport errored:",Q),G.eo(new ke(fe.UNAVAILABLE,"The operation could not be completed")))}),K(E,v_.EventType.MESSAGE,Q=>{var ce;if(!R){const Ve=Q.data[0];Ft(!!Ve);const tt=Ve,Je=tt.error||(null===(ce=tt[0])||void 0===ce?void 0:ce.error);if(Je){Be("Connection","WebChannel received error:",Je);const $t=Je.status;let ut=function(Pt){const Hn=$i[Pt];if(void 0!==Hn)return XM(Hn)}($t),jt=Je.message;void 0===ut&&(ut=fe.INTERNAL,jt="Unknown error status: "+$t+" with message "+Je.message),R=!0,G.eo(new ke(ut,jt)),E.close()}else Be("Connection","WebChannel received:",Ve),G.no(Ve)}}),K(d,jM.STAT_EVENT,Q=>{Q.stat===Lx.PROXY?Be("Connection","Detected buffering proxy"):Q.stat===Lx.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{G.Zr()},0),G}}function iO(){return"undefined"!=typeof window?window:null}function BE(){return"undefined"!=typeof document?document:null}function q_(n){return new ZN(n,!0)}class RI{constructor(e,t,i=1e3,r=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=i,this.fo=r,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&Be("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class rO{constructor(e,t,i,r,l,d,f,_){this.Jn=e,this.Ao=i,this.Ro=r,this.bo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new RI(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ve.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ve.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var i=this;return(0,ve.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new ke(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,ve.Z)(function*(){e.state=0,e.start()}))}qo(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cL extends rO{constructor(e,t,i,r,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,d),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function JN(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:lt(),r=e.targetChange.targetIds||[],l=function(_,E){return _.N?(Ft(void 0===E||"string"==typeof E),Hi.fromBase64String(E||"")):(Ft(void 0===E||E instanceof Uint8Array),Hi.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const E=void 0===_.code?fe.UNKNOWN:XM(_.code);return new ke(E,_.message||"")}(d);t=new tR(i,r,l,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Bl(n,i.document.name),l=Er(i.document.updateTime),d=new Ni({mapValue:{fields:i.document.fields}}),f=Un.newFoundDocument(r,l,d);t=new xE(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Bl(n,i.document),l=i.readTime?Er(i.readTime):St.min(),d=Un.newNoDocument(r,l);t=new xE([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const i=e.documentRemove,r=Bl(n,i.document);t=new xE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return lt();{const i=e.filter,l=new jN(i.count||0);t=new eR(i.targetId,l)}}var _;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return St.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?St.min():l.readTime?Er(l.readTime):St.min()}(e);return this.listener.Ko(t,i)}Qo(e){const t={};t.database=V_(this.M),t.addTarget=function(r,l){let d;const f=l.target;return d=Pg(f)?{documents:dR(r,f)}:{query:hR(r,f)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=sR(r,l.resumeToken):l.snapshotVersion.compareTo(St.min())>0&&(d.readTime=N_(r,l.snapshotVersion.toTimestamp())),d}(this.M,e);const i=function t1(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Oo(t)}jo(e){const t={};t.database=V_(this.M),t.removeTarget=e,this.Oo(t)}}class dL extends rO{constructor(e,t,i,r,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,d),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function e1(n,e){return n&&n.length>0?(Ft(void 0!==e),n.map(t=>function(i,r){let l=Er(i.updateTime?i.updateTime:r);return l.isEqual(St.min())&&(l=Er(r)),new Xt(l,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Er(e.commitTime);return this.listener.Jo(i,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=V_(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>B_(this.M,i))};this.Oo(t)}}class hL extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.M=r,this.Zo=!1}tu(){if(this.Zo)throw new ke(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.bo.ro(e,t,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(fe.UNKNOWN,r.toString())})}co(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.bo.co(e,t,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(fe.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class fL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Pi(t),this.su=!1):Be("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class pL{constructor(e,t,i,r,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(f=>{i.enqueueAndForget((0,ve.Z)(function*(){var _;xd(d)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(E){const I=Xe(E);I.lu.add(4),yield Jg(I),I._u.set("Unknown"),I.lu.delete(4),yield K_(I)}),function(E){return _.apply(this,arguments)})(d))}))}),this._u=new fL(i,r)}}function K_(n){return OI.apply(this,arguments)}function OI(){return OI=(0,ve.Z)(function*(n){if(xd(n))for(const e of n.fu)yield e(!0)}),OI.apply(this,arguments)}function Jg(n){return kI.apply(this,arguments)}function kI(){return kI=(0,ve.Z)(function*(n){for(const e of n.fu)yield e(!1)}),kI.apply(this,arguments)}function UE(n,e){const t=Xe(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),NI(t)?PI(t):tm(t).Co()&&FI(t,e))}function Y_(n,e){const t=Xe(n),i=tm(t);t.hu.delete(e),i.Co()&&sO(t,e),0===t.hu.size&&(i.Co()?i.ko():xd(t)&&t._u.set("Unknown"))}function FI(n,e){n.wu.Z(e.targetId),tm(n).Qo(e)}function sO(n,e){n.wu.Z(e),tm(n).jo(e)}function PI(n){n.wu=new qN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),tm(n).start(),n._u.iu()}function NI(n){return xd(n)&&!tm(n).Do()&&n.hu.size>0}function xd(n){return 0===Xe(n).lu.size}function oO(n){n.wu=void 0}function gL(n){return LI.apply(this,arguments)}function LI(){return LI=(0,ve.Z)(function*(n){n.hu.forEach((e,t)=>{FI(n,e)})}),LI.apply(this,arguments)}function mL(n,e){return VI.apply(this,arguments)}function VI(){return VI=(0,ve.Z)(function*(n,e){oO(n),NI(n)?(n._u.uu(e),PI(n)):n._u.set("Unknown")}),VI.apply(this,arguments)}function yL(n,e,t){return BI.apply(this,arguments)}function BI(){return BI=(0,ve.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof tR&&2===e.state&&e.cause)try{yield(i=(0,ve.Z)(function*(r,l){const d=l.cause;for(const f of l.targetIds)r.hu.has(f)&&(yield r.remoteSyncer.rejectListen(f,d),r.hu.delete(f),r.wu.removeTarget(f))}),function(r,l){return i.apply(this,arguments)})(n,e)}catch(i){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield jE(n,i)}else if(e instanceof xE?n.wu.ut(e):e instanceof eR?n.wu._t(e):n.wu.ht(e),!t.isEqual(St.min()))try{const i=yield KR(n.localStore);t.compareTo(i)>=0&&(yield function(r,l){const d=r.wu.yt(l);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const E=r.hu.get(_);E&&r.hu.set(_,E.withResumeToken(f.resumeToken,l))}}),d.targetMismatches.forEach(f=>{const _=r.hu.get(f);if(!_)return;r.hu.set(f,_.withResumeToken(Hi.EMPTY_BYTE_STRING,_.snapshotVersion)),sO(r,f);const E=new wd(_.target,f,1,_.sequenceNumber);FI(r,E)}),r.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(i){Be("RemoteStore","Failed to raise snapshot:",i),yield jE(n,i)}var i}),BI.apply(this,arguments)}function jE(n,e,t){return UI.apply(this,arguments)}function UI(){return UI=(0,ve.Z)(function*(n,e,t){if(!hf(e))throw e;n.lu.add(1),yield Jg(n),n._u.set("Offline"),t||(t=()=>KR(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield K_(n)}))}),UI.apply(this,arguments)}function aO(n,e){return e().catch(t=>jE(n,t,e))}function em(n){return jI.apply(this,arguments)}function jI(){return jI=(0,ve.Z)(function*(n){const e=Xe(n),t=Id(e);let i=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;_L(e);)try{const r=yield Y1(e.localStore,i);if(null===r){0===e.cu.length&&t.ko();break}i=r.batchId,vL(e,r)}catch(r){yield jE(e,r)}lO(e)&&uO(e)}),jI.apply(this,arguments)}function _L(n){return xd(n)&&n.cu.length<10}function vL(n,e){n.cu.push(e);const t=Id(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function lO(n){return xd(n)&&!Id(n).Do()&&n.cu.length>0}function uO(n){Id(n).start()}function bL(n){return GI.apply(this,arguments)}function GI(){return GI=(0,ve.Z)(function*(n){Id(n).Xo()}),GI.apply(this,arguments)}function wL(n){return HI.apply(this,arguments)}function HI(){return HI=(0,ve.Z)(function*(n){const e=Id(n);for(const t of n.cu)e.Ho(t.mutations)}),HI.apply(this,arguments)}function EL(n,e,t){return $I.apply(this,arguments)}function $I(){return $I=(0,ve.Z)(function*(n,e,t){const i=n.cu.shift(),r=uI.from(i,e,t);yield aO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield em(n)}),$I.apply(this,arguments)}function CL(n,e){return zI.apply(this,arguments)}function zI(){return zI=(0,ve.Z)(function*(n,e){var t;e&&Id(n).zo&&(yield(t=(0,ve.Z)(function*(i,r){if(QM(l=r.code)&&l!==fe.ABORTED){const d=i.cu.shift();Id(i).No(),yield aO(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield em(i)}var l}),function(i,r){return t.apply(this,arguments)})(n,e)),lO(n)&&uO(n)}),zI.apply(this,arguments)}function cO(n,e){return WI.apply(this,arguments)}function WI(){return WI=(0,ve.Z)(function*(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const i=xd(t);t.lu.add(3),yield Jg(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield K_(t)}),WI.apply(this,arguments)}function qI(n,e){return KI.apply(this,arguments)}function KI(){return KI=(0,ve.Z)(function*(n,e){const t=Xe(n);e?(t.lu.delete(2),yield K_(t)):e||(t.lu.add(2),yield Jg(t),t._u.set("Unknown"))}),KI.apply(this,arguments)}function tm(n){return n.mu||(n.mu=function(e,t,i){const r=Xe(e);return r.tu(),new cL(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:gL.bind(null,n),Jr:mL.bind(null,n),Ko:yL.bind(null,n)}),n.fu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.mu.No(),NI(n)?PI(n):n._u.set("Unknown")):(yield n.mu.stop(),oO(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Id(n){return n.gu||(n.gu=function(e,t,i){const r=Xe(e);return r.tu(),new dL(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:bL.bind(null,n),Jr:CL.bind(null,n),Yo:wL.bind(null,n),Jo:EL.bind(null,n)}),n.fu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.gu.No(),yield em(n)):(yield n.gu.stop(),n.cu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class YI{constructor(e,t,i,r,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=l,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,i,r,l){const d=Date.now()+i,f=new YI(e,t,d,r,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nm(n,e){if(Pi("AsyncQueue",`${e}: ${n}`),hf(n))return new ke(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class im{constructor(e){this.comparator=e?(t,i)=>e(t,i)||$e.comparator(t.key,i.key):(t,i)=>$e.comparator(t.key,i.key),this.keyedMap=iI(),this.sortedSet=new Li(this.comparator)}static emptySet(e){return new im(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof im)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,l=i.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new im;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class dO{constructor(){this.yu=new Li($e.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):lt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class rm{constructor(e,t,i,r,l,d,f,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new rm(e,t,im.emptySet(t),l,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class DL{constructor(){this.Iu=void 0,this.listeners=[]}}class xL{constructor(){this.queries=new bd(e=>tI(e),Bg),this.onlineState="Unknown",this.Tu=new Set}}function ZI(n,e){return QI.apply(this,arguments)}function QI(){return QI=(0,ve.Z)(function*(n,e){const t=Xe(n),i=e.query;let r=!1,l=t.queries.get(i);if(l||(r=!0,l=new DL),r)try{l.Iu=yield t.onListen(i)}catch(d){const f=nm(d,`Initialization of query '${wE(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&eA(t)}),QI.apply(this,arguments)}function XI(n,e){return JI.apply(this,arguments)}function JI(){return JI=(0,ve.Z)(function*(n,e){const t=Xe(n),i=e.query;let r=!1;const l=t.queries.get(i);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),r=0===l.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),JI.apply(this,arguments)}function IL(n,e){const t=Xe(n);let i=!1;for(const r of e){const d=t.queries.get(r.query);if(d){for(const f of d.listeners)f.Au(r)&&(i=!0);d.Iu=r}}i&&eA(t)}function AL(n,e,t){const i=Xe(n),r=i.queries.get(e);if(r)for(const l of r.listeners)l.onError(t);i.queries.delete(e)}function eA(n){n.Tu.forEach(e=>{e.next()})}class tA{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new rm(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=rm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class SL{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class hO{constructor(e){this.M=e}li(e){return Bl(this.M,e)}fi(e){return e.metadata.exists?cR(this.M,e.document,!1):Un.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Er(e)}}class TL{constructor(e,t,i){this.xu=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fO(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=sn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new hO(this.M);for(const r of e)if(r.metadata.queries){const l=i.li(r.metadata.name);for(const d of r.metadata.queries){const f=(t.get(d)||xn()).add(l);t.set(d,f)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function Z1(n,e,t,i){return CI.apply(this,arguments)}(e.localStore,new hO(e.M),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield Q1(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function fO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class pO{constructor(e){this.key=e}}class gO{constructor(e){this.key=e}}class mO{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=xn(),this.mutatedKeys=xn(),this.Lu=o(e),this.Uu=new im(this.Lu)}get qu(){return this.Fu}Gu(e,t){const i=t?t.Ku:new dO,r=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,d=r,f=!1;const _=Lg(this.query)&&r.size===this.query.limit?r.last():null,E=Vg(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,R)=>{const G=r.get(I),K=EE(this.query,R)?R:null,Q=!!G&&this.mutatedKeys.has(G.key),ce=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Ve=!1;G&&K?G.data.isEqual(K.data)?Q!==ce&&(i.track({type:3,doc:K}),Ve=!0):this.Qu(G,K)||(i.track({type:2,doc:K}),Ve=!0,(_&&this.Lu(K,_)>0||E&&this.Lu(K,E)<0)&&(f=!0)):!G&&K?(i.track({type:0,doc:K}),Ve=!0):G&&!K&&(i.track({type:1,doc:G}),Ve=!0,(_||E)&&(f=!0)),Ve&&(K?(d=d.add(K),l=ce?l.add(I):l.delete(I)):(d=d.delete(I),l=l.delete(I)))}),Lg(this.query)||Vg(this.query))for(;d.size>this.query.limit;){const I=Lg(this.query)?d.last():d.first();d=d.delete(I.key),l=l.delete(I.key),i.track({type:1,doc:I})}return{Uu:d,Ku:i,ei:f,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((E,I)=>function(R,G){const K=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return K(R)-K(G)}(E.type,I.type)||this.Lu(E.doc,I.doc)),this.ju(i);const d=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==l.length||_?{snapshot:new rm(this.query,e.Uu,r,l,e.mutatedKeys,0===f,_,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new dO,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=xn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new gO(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new pO(i))}),t}Ju(e){this.Fu=e.hi,this.Bu=xn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return rm.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class ML{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class RL{constructor(e){this.key=e,this.Xu=!1}}class OL{constructor(e,t,i,r,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Zu={},this.ta=new bd(f=>tI(f),Bg),this.ea=new Map,this.na=new Set,this.sa=new Li($e.comparator),this.ia=new Map,this.ra=new xI,this.oa={},this.ua=new Map,this.aa=yf.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function kL(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,ve.Z)(function*(n,e){const t=xA(n);let i,r;const l=t.ta.get(e);if(l)i=l.targetId,t.sharedClientState.addLocalQueryTarget(i),r=l.view.Yu();else{const d=yield Qg(t.localStore,wo(e));t.isPrimaryClient&&UE(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield iA(t,e,i,"current"===f)}return r}),nA.apply(this,arguments)}function iA(n,e,t,i){return rA.apply(this,arguments)}function rA(){return rA=(0,ve.Z)(function*(n,e,t,i){n.ha=(I,R,G)=>{return(K=(0,ve.Z)(function*(Q,ce,Ve,tt){let Je=ce.view.Gu(Ve);Je.ei&&(Je=yield NE(Q.localStore,ce.query,!1).then(({documents:jt})=>ce.view.Gu(jt,Je)));const $t=tt&&tt.targetChanges.get(ce.targetId),ut=ce.view.applyChanges(Je,Q.isPrimaryClient,$t);return pA(Q,ce.targetId,ut.zu),ut.snapshot}),function(Q,ce,Ve,tt){return K.apply(this,arguments)})(n,I,R,G);var K};const r=yield NE(n.localStore,e,!0),l=new mO(e,r.hi),d=l.Gu(r.documents),f=P_.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=l.applyChanges(d,n.isPrimaryClient,f);pA(n,t,_.zu);const E=new ML(e,t,l);return n.ta.set(e,E),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),_.snapshot}),rA.apply(this,arguments)}function FL(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,ve.Z)(function*(n,e){const t=Xe(n),i=t.ta.get(e),r=t.ea.get(i.targetId);if(r.length>1)return t.ea.set(i.targetId,r.filter(l=>!Bg(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Xg(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Y_(t.remoteStore,i.targetId),sm(t,i.targetId)}).catch(_f))):(sm(t,i.targetId),yield Xg(t.localStore,i.targetId,!0))}),sA.apply(this,arguments)}function oA(){return oA=(0,ve.Z)(function*(n,e,t){const i=IA(n);try{const r=yield function(l,d){const f=Xe(l),_=Kn.now(),E=d.reduce((R,G)=>R.add(G.key),xn());let I;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>f.ai.qs(R,E).next(G=>{I=G;const K=[];for(const Q of d){const ce=R_(Q,I.get(Q.key));null!=ce&&K.push(new Ya(Q.key,ce,cE(ce.value.mapValue),kt.exists(!0)))}return f.$s.addMutationBatch(R,_,K,d)})).then(R=>(R.applyToLocalDocumentSet(I),{batchId:R.batchId,changes:I}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,d,f){let _=l.oa[l.currentUser.toKey()];_||(_=new Li(Yt)),_=_.insert(d,f),l.oa[l.currentUser.toKey()]=_}(i,r.batchId,t),yield nc(i,r.changes),yield em(i.remoteStore)}catch(r){const l=nm(r,"Failed to persist write");t.reject(l)}}),oA.apply(this,arguments)}function yO(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,ve.Z)(function*(n,e){const t=Xe(n);try{const i=yield K1(t.localStore,e);e.targetChanges.forEach((r,l)=>{const d=t.ia.get(l);d&&(Ft(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.Xu=!0:r.modifiedDocuments.size>0?Ft(d.Xu):r.removedDocuments.size>0&&(Ft(d.Xu),d.Xu=!1))}),yield nc(t,i,e)}catch(i){yield _f(i)}}),aA.apply(this,arguments)}function _O(n,e,t){const i=Xe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ta.forEach((l,d)=>{const f=d.view.Eu(e);f.snapshot&&r.push(f.snapshot)}),function(l,d){const f=Xe(l);f.onlineState=d;let _=!1;f.queries.forEach((E,I)=>{for(const R of I.listeners)R.Eu(d)&&(_=!0)}),_&&eA(f)}(i.eventManager,e),r.length&&i.Zu.Ko(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function NL(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,ve.Z)(function*(n,e,t){const i=Xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ia.get(e),l=r&&r.key;if(l){let d=new Li($e.comparator);d=d.insert(l,Un.newNoDocument(l,St.min()));const f=xn().add(l),_=new F_(St.min(),new Map,new Yn(Yt),d,f);yield yO(i,_),i.sa=i.sa.remove(l),i.ia.delete(e),gA(i)}else yield Xg(i.localStore,e,!1).then(()=>sm(i,e,t)).catch(_f)}),lA.apply(this,arguments)}function LL(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,ve.Z)(function*(n,e){const t=Xe(n),i=e.batch.batchId;try{const r=yield q1(t.localStore,e);fA(t,i,null),hA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield nc(t,r)}catch(r){yield _f(r)}}),uA.apply(this,arguments)}function VL(n,e,t){return cA.apply(this,arguments)}function cA(){return cA=(0,ve.Z)(function*(n,e,t){const i=Xe(n);try{const r=yield function(l,d){const f=Xe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return f.$s.lookupMutationBatch(_,d).next(I=>(Ft(null!==I),E=I.keys(),f.$s.removeMutationBatch(_,I))).next(()=>f.$s.performConsistencyCheck(_)).next(()=>f.ai.qs(_,E))})}(i.localStore,e);fA(i,e,t),hA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield nc(i,r)}catch(r){yield _f(r)}}),cA.apply(this,arguments)}function dA(){return dA=(0,ve.Z)(function*(n,e){const t=Xe(n);xd(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const d=Xe(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.$s.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ua.get(i)||[];r.push(e),t.ua.set(i,r)}catch(i){const r=nm(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),dA.apply(this,arguments)}function hA(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function fA(n,e,t){const i=Xe(n);let r=i.oa[i.currentUser.toKey()];if(r){const l=r.get(e);l&&(t?l.reject(t):l.resolve(),r=r.remove(e)),i.oa[i.currentUser.toKey()]=r}}function sm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ea.get(e))n.ta.delete(i),t&&n.Zu.la(i,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(i=>{n.ra.containsKey(i)||vO(n,i)})}function vO(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Y_(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),gA(n))}function pA(n,e,t){for(const i of t)i instanceof pO?(n.ra.addReference(i.key,e),UL(n,i)):i instanceof gO?(Be("SyncEngine","Document no longer in limbo: "+i.key),n.ra.removeReference(i.key,e),n.ra.containsKey(i.key)||vO(n,i.key)):lt()}function UL(n,e){const t=e.key,i=t.path.canonicalString();n.sa.get(t)||n.na.has(i)||(Be("SyncEngine","New document in limbo: "+t),n.na.add(i),gA(n))}function gA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new $e(sn.fromString(e)),i=n.aa.next();n.ia.set(i,new RL(t)),n.sa=n.sa.insert(t,i),UE(n.remoteStore,new wd(wo(uf(t.path)),i,2,vs.A))}}function nc(n,e,t){return mA.apply(this,arguments)}function mA(){return mA=(0,ve.Z)(function*(n,e,t){const i=Xe(n),r=[],l=[],d=[];var f;i.ta.isEmpty()||(i.ta.forEach((f,_)=>{d.push(i.ha(_,e,t).then(E=>{if(E){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,E.fromCache?"not-current":"current"),r.push(E);const I=bI.Js(_.targetId,E);l.push(I)}}))}),yield Promise.all(d),i.Zu.Ko(r),yield(f=(0,ve.Z)(function*(_,E){const I=Xe(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>be.forEach(E,G=>be.forEach(G.zs,K=>I.persistence.referenceDelegate.addReference(R,G.targetId,K)).next(()=>be.forEach(G.Hs,K=>I.persistence.referenceDelegate.removeReference(R,G.targetId,K)))))}catch(R){if(!hf(R))throw R;Be("LocalStore","Failed to update sequence numbers: "+R)}for(const R of E){const G=R.targetId;if(!R.fromCache){const K=I.si.get(G),ce=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);I.si=I.si.insert(G,ce)}}}),function(_,E){return f.apply(this,arguments)})(i.localStore,l))}),mA.apply(this,arguments)}function jL(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,ve.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const i=yield qR(t.localStore,e);t.currentUser=e,(r=t).ua.forEach(d=>{d.forEach(f=>{f.reject(new ke(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.ua.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield nc(t,i.ci)}var r}),yA.apply(this,arguments)}function GL(n,e){const t=Xe(n),i=t.ia.get(e);if(i&&i.Xu)return xn().add(i.key);{let r=xn();const l=t.ea.get(e);if(!l)return r;for(const d of l){const f=t.ta.get(d);r=r.unionWith(f.view.qu)}return r}}function HL(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,ve.Z)(function*(n,e){const t=Xe(n),i=yield NE(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&pA(t,e.targetId,r.zu),r}),_A.apply(this,arguments)}function $L(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,ve.Z)(function*(n,e){const t=Xe(n);return QR(t.localStore,e).then(i=>nc(t,i))}),vA.apply(this,arguments)}function zL(n,e,t,i){return bA.apply(this,arguments)}function bA(){return bA=(0,ve.Z)(function*(n,e,t,i){const r=Xe(n),l=yield function(d,f){const _=Xe(d),E=Xe(_.$s);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>E.ln(I,f).next(R=>R?_.ai.qs(I,R):be.resolve(null)))}(r.localStore,e);var f;null!==l?("pending"===t?yield em(r.remoteStore):"acknowledged"===t||"rejected"===t?(fA(r,e,i||null),hA(r,e),f=e,Xe(Xe(r.localStore).$s).dn(f)):lt(),yield nc(r,l)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),bA.apply(this,arguments)}function wA(){return wA=(0,ve.Z)(function*(n,e){const t=Xe(n);if(xA(t),IA(t),!0===e&&!0!==t.ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield bO(t,i.toArray());t.ca=!0,yield qI(t.remoteStore,!0);for(const l of r)UE(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const i=[];let r=Promise.resolve();t.ea.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(sm(t,d),Xg(t.localStore,d,!0))),Y_(t.remoteStore,d)}),yield r,yield bO(t,i),function(l){const d=Xe(l);d.ia.forEach((f,_)=>{Y_(d.remoteStore,_)}),d.ra.bi(),d.ia=new Map,d.sa=new Li($e.comparator)}(t),t.ca=!1,yield qI(t.remoteStore,!1)}}),wA.apply(this,arguments)}function bO(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,ve.Z)(function*(n,e,t){const i=Xe(n),r=[],l=[];for(const d of e){let f;const _=i.ea.get(d);if(_&&0!==_.length){f=yield Qg(i.localStore,wo(_[0]));for(const E of _){const I=i.ta.get(E),R=yield HL(i,I);R.snapshot&&l.push(R.snapshot)}}else{const E=yield ZR(i.localStore,d);f=yield Qg(i.localStore,E),yield iA(i,wO(E),d,!1)}r.push(f)}return i.Zu.Ko(l),r}),EA.apply(this,arguments)}function wO(n){return eI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function qL(n){const e=Xe(n);return Xe(Xe(e.localStore).persistence).Os()}function KL(n,e,t,i){return CA.apply(this,arguments)}function CA(){return CA=(0,ve.Z)(function*(n,e,t,i){const r=Xe(n);if(r.ca)return void Be("SyncEngine","Ignoring unexpected query state notification.");const l=r.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield QR(r.localStore,s(l[0])),f=F_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield nc(r,d,f);break}case"rejected":yield Xg(r.localStore,e,!0),sm(r,e,i);break;default:lt()}}),CA.apply(this,arguments)}function YL(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,ve.Z)(function*(n,e,t){const i=xA(n);if(i.ca){for(const r of e){if(i.ea.has(r)){Be("SyncEngine","Adding an already active target "+r);continue}const l=yield ZR(i.localStore,r),d=yield Qg(i.localStore,l);yield iA(i,wO(l),d.targetId,!1),UE(i.remoteStore,d)}for(const r of t)i.ea.has(r)&&(yield Xg(i.localStore,r,!1).then(()=>{Y_(i.remoteStore,r),sm(i,r)}).catch(_f))}}),DA.apply(this,arguments)}function xA(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NL.bind(null,e),e.Zu.Ko=IL.bind(null,e.eventManager),e.Zu.la=AL.bind(null,e.eventManager),e}function IA(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VL.bind(null,e),e}class EO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.M=q_(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return WR(this.persistence,new zR,e.initialUser,this.M)}_a(e){return new rL(II.Wi,this.M)}da(e){return new tO}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class CO extends EO{constructor(e,t,i){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield t().call(i,e),yield i.ga.initialize(i,e),yield IA(i.ga.syncEngine),yield em(i.ga.remoteStore),yield i.persistence.Is(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ma(e){return WR(this.persistence,new zR,e.initialUser,this.M)}wa(e){return new B1(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=vI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?qs.withCacheSize(this.cacheSizeBytes):qs.DEFAULT;return new _I(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,iO(),BE(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new tO}}class QL extends CO{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield t().call(i,e);const r=i.ga.syncEngine;i.sharedClientState instanceof MI&&(i.sharedClientState.syncEngine={kr:zL.bind(null,r),Mr:KL.bind(null,r),Or:YL.bind(null,r),Os:qL.bind(null,r),Nr:$L.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Is(function(){var l=(0,ve.Z)(function*(d){yield function WL(n,e){return wA.apply(this,arguments)}(i.ga.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):d||i.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}da(e){const t=iO();if(!MI.vt(t))throw new ke(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=vI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new MI(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class AA{initialize(e,t){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>_O(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=jL.bind(null,i.syncEngine),yield qI(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xL}createDatastore(e){const t=q_(e.databaseInfo.databaseId),i=new uL(e.databaseInfo);return new hL(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,l=f=>_O(this.syncEngine,f,0),d=nO.vt()?new nO:new oL,new pL(t,i,r,l,d);var t,i,r,l,d}createSyncEngine(e,t){return function(i,r,l,d,f,_,E){const I=new OL(i,r,l,d,f,_);return E&&(I.ca=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const i=Xe(t);Be("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield Jg(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function DO(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class GE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class XL{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Gi,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const i=e.Ta.decode(t),r=Number(i);isNaN(r)&&e.Ra(`length string (${i}) is not valid number`);const l=yield e.ba(r);return new SL(JSON.parse(l),t.length+r)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,ve.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ba(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const i=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class JL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(l,d){const f=Xe(l),_=V_(f.M)+"/documents",E={documents:d.map(K=>L_(f.M,K))},I=yield f.co("BatchGetDocuments",_,E),R=new Map;I.forEach(K=>{const Q=function XN(n,e){return"found"in e?function(t,i){Ft(!!i.found);const r=Bl(t,i.found.name),l=Er(i.found.updateTime),d=new Ni({mapValue:{fields:i.found.fields}});return Un.newFoundDocument(r,l,d)}(n,e):"missing"in e?function(t,i){Ft(!!i.missing),Ft(!!i.readTime);const r=Bl(t,i.missing),l=Er(i.readTime);return Un.newNoDocument(r,l)}(n,e):lt()}(f.M,K);R.set(Q.key.toString(),Q)});const G=[];return d.forEach(K=>{const Q=R.get(K.toString());Ft(!!Q),G.push(Q)}),G}),function(l,d){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new O_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const l=$e.fromPath(r);e.mutations.push(new nI(l,e.precondition(l)))}),yield(i=(0,ve.Z)(function*(r,l){const d=Xe(r),f=V_(d.M)+"/documents",_={writes:l.map(E=>B_(d.M,E))};yield d.ro("Commit",f,_)}),function(r,l){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lt();t=St.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ke(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?kt.updateTime(t):kt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new ke(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kt.updateTime(t)}return kt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class eV{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.va=5,this.So=new RI(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,ve.Z)(function*(){const t=new JL(e.datastore),i=e.Da(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(l=>{e.Ca(l)}))}).catch(r=>{e.Ca(r)})}))}Da(e){try{const t=this.updateFunction(e);return!Ku(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!QM(t)}return!1}}class tV{constructor(e,t,i,r){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=wi.UNAUTHENTICATED,this.clientId=nE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,ve.Z)(function*(f){Be("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(Be("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=nm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function xO(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(l){i.isEqual(l)||(yield qR(e.localStore,l),i=l)});return function(l){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),SA.apply(this,arguments)}function IO(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield MA(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>cO(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,l)=>cO(e.remoteStore,l)),n.onlineComponents=e}),TA.apply(this,arguments)}function MA(n){return RA.apply(this,arguments)}function RA(){return RA=(0,ve.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield xO(n,new EO)),n.offlineComponents}),RA.apply(this,arguments)}function HE(n){return OA.apply(this,arguments)}function OA(){return OA=(0,ve.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield IO(n,new AA)),n.onlineComponents}),OA.apply(this,arguments)}function AO(n){return MA(n).then(e=>e.persistence)}function kA(n){return MA(n).then(e=>e.localStore)}function SO(n){return HE(n).then(e=>e.remoteStore)}function FA(n){return HE(n).then(e=>e.syncEngine)}function om(n){return PA.apply(this,arguments)}function PA(){return PA=(0,ve.Z)(function*(n){const e=yield HE(n),t=e.eventManager;return t.onListen=kL.bind(null,e.syncEngine),t.onUnlisten=FL.bind(null,e.syncEngine),t}),PA.apply(this,arguments)}function TO(n,e,t={}){const i=new Gi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,l,d,f,_){const E=new GE({next:R=>{l.enqueueAndForget(()=>XI(r,I));const G=R.docs.has(d);!G&&R.fromCache?_.reject(new ke(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&R.fromCache&&f&&"server"===f.source?_.reject(new ke(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),I=new tA(uf(d.path),E,{includeMetadataChanges:!0,Du:!0});return ZI(r,I)}(yield om(n),n.asyncQueue,e,t,i)})),i.promise}function MO(n,e,t={}){const i=new Gi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,l,d,f,_){const E=new GE({next:R=>{l.enqueueAndForget(()=>XI(r,I)),R.fromCache&&"server"===f.source?_.reject(new ke(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),I=new tA(d,E,{includeMetadataChanges:!0,Du:!0});return ZI(r,I)}(yield om(n),n.asyncQueue,e,t,i)})),i.promise}const RO=new Map;function NA(n,e,t){if(!t)throw new ke(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OO(n,e,t,i){if(!0===e&&!0===i)throw new ke(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kO(n){if(!$e.isDocumentKey(n))throw new ke(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FO(n){if($e.isDocumentKey(n))throw new ke(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $E(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$E(n);throw new ke(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function PO(n,e){if(e<=0)throw new ke(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class NO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,OO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Z_{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NO({}),this._settingsFrozen=!1,e instanceof na?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ke(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new na(r.options.projectId)}(e))}get app(){if(!this._app)throw new ke(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new zM;switch(t.type){case"gapi":const i=t.client;return Ft(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new jx(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ke(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=RO.get(e);t&&(Be("ComponentProvider","Removing Datastore"),RO.delete(e),t.terminate())}(this),Promise.resolve()}}class Zn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class ss{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class Ul extends ss{constructor(e,t,i){super(e,t,uf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new $e(e))}withConverter(e){return new Ul(this.firestore,e,this._path)}}function LO(n,e,...t){if(n=(0,Qt.m9)(n),NA("collection","path",e),n instanceof Z_){const i=sn.fromString(e,...t);return FO(i),new Ul(n,null,i)}{if(!(n instanceof Zn||n instanceof Ul))throw new ke(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(e,...t));return FO(i),new Ul(n.firestore,null,i)}}function zE(n,e,...t){if(n=(0,Qt.m9)(n),1===arguments.length&&(e=nE.R()),NA("doc","path",e),n instanceof Z_){const i=sn.fromString(e,...t);return kO(i),new Zn(n,null,new $e(i))}{if(!(n instanceof Zn||n instanceof Ul))throw new ke(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(e,...t));return kO(i),new Zn(n.firestore,n instanceof Ul?n.converter:null,new $e(i))}}function VO(n,e){return n=(0,Qt.m9)(n),e=(0,Qt.m9)(e),(n instanceof Zn||n instanceof Ul)&&(e instanceof Zn||e instanceof Ul)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function BO(n,e){return n=(0,Qt.m9)(n),e=(0,Qt.m9)(e),n instanceof ss&&e instanceof ss&&n.firestore===e.firestore&&Bg(n._query,e._query)&&n.converter===e.converter}class hV{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new RI(this,"async_queue_retry"),this.Ua=()=>{const t=BE();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=BE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=BE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Gi;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,ve.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!hf(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(i=>{throw this.Fa=i,this.$a=!1,Pi("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(i)),i}).then(i=>(this.$a=!1,i))));return this.Na=t,t}enqueueAfterDelay(e,t,i){this.qa(),this.La.indexOf(e)>-1&&(t=0);const r=YI.createAndSchedule(this,e,t,i,l=>this.Qa(l));return this.Oa.push(r),r}qa(){this.Fa&&lt()}verifyOperationInProgress(){}ja(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function LA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class fV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ri extends Z_{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new hV,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||UO(this),this._firestoreClient.terminate()}}function gV(n=(0,fo.getApp)()){return(0,fo._getProvider)(n,"firestore").getImmediate()}function zi(n){return n._firestoreClient||UO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function UO(n){var e;const t=n._freezeSettings(),i=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new sE(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new tV(n._authCredentials,n._appCheckCredentials,n._queue,i)}function jO(n,e,t){const i=new Gi;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield xO(n,t),yield IO(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(l=r).name?l.code===fe.FAILED_PRECONDITION||l.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var l})).then(()=>i.promise)}function GO(n){if(n._initialized||n._terminated)throw new ke(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ic{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(Hi.fromBase64String(e))}catch(t){throw new ke(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(Hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bf{constructor(e){this._methodName=e}}class WE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const DV=/^__.*__$/;class xV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new tc(e,this.data,t,this.fieldTransforms)}}class HO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $O(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class qE{constructor(e,t,i,r,l,d){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new qE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:i,tc:!1});return r.ec(e),r}nc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:i,tc:!1});return r.Ja(),r}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return ZE(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if($O(this.Ya)&&DV.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class IV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||q_(e)}uc(e,t,i,r=!1){return new qE({Ya:e,methodName:t,oc:i,path:Ei.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function wf(n){const e=n._freezeSettings(),t=q_(n._databaseId);return new IV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KE(n,e,t,i,r,l={}){const d=n.uc(l.merge||l.mergeFields?2:0,e,t,r);jA("Data must be an object, but it was:",d,i);const f=qO(i,d);let _,E;if(l.merge)_=new br(d.fieldMask),E=d.fieldTransforms;else if(l.mergeFields){const I=[];for(const R of l.mergeFields){const G=GA(e,R,t);if(!d.contains(G))throw new ke(fe.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);YO(I,G)||I.push(G)}_=new br(I),E=d.fieldTransforms.filter(R=>_.covers(R.field))}else _=null,E=d.fieldTransforms;return new xV(new Ni(f),_,E)}class Q_ extends bf{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Q_}}function zO(n,e,t){return new qE({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class VA extends bf{_toFieldTransform(e){return new Ie(e.path,new M)}isEqual(e){return e instanceof VA}}class AV extends bf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=zO(this,e,!0),i=this.ac.map(l=>Ef(l,t)),r=new N(i);return new Ie(e.path,r)}isEqual(e){return this===e}}class SV extends bf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=zO(this,e,!0),i=this.ac.map(l=>Ef(l,t)),r=new J(i);return new Ie(e.path,r)}isEqual(e){return this===e}}class TV extends bf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Le(e.M,p(e.M,this.cc));return new Ie(e.path,t)}isEqual(e){return this===e}}function BA(n,e,t,i){const r=n.uc(1,e,t);jA("Data must be an object, but it was:",r,i);const l=[],d=Ni.empty();Wu(i,(_,E)=>{const I=YE(e,_,t);E=(0,Qt.m9)(E);const R=r.nc(I);if(E instanceof Q_)l.push(I);else{const G=Ef(E,R);null!=G&&(l.push(I),d.set(I,G))}});const f=new br(l);return new HO(d,f,r.fieldTransforms)}function UA(n,e,t,i,r,l){const d=n.uc(1,e,t),f=[GA(e,i,t)],_=[r];if(l.length%2!=0)throw new ke(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let G=0;G<l.length;G+=2)f.push(GA(e,l[G])),_.push(l[G+1]);const E=[],I=Ni.empty();for(let G=f.length-1;G>=0;--G)if(!YO(E,f[G])){const K=f[G];let Q=_[G];Q=(0,Qt.m9)(Q);const ce=d.nc(K);if(Q instanceof Q_)E.push(K);else{const Ve=Ef(Q,ce);null!=Ve&&(E.push(K),I.set(K,Ve))}}const R=new br(E);return new HO(I,R,d.fieldTransforms)}function WO(n,e,t,i=!1){return Ef(t,n.uc(i?4:3,e))}function Ef(n,e){if(KO(n=(0,Qt.m9)(n)))return jA("Unsupported field value:",e,n),qO(n,e);if(n instanceof bf)return function(t,i){if(!$O(i.Ya))throw i.ic(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ic(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,i){const r=[];let l=0;for(const d of t){let f=Ef(d,i.sc(l));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),l++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return p(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Kn.fromDate(t);return{timestampValue:N_(i.M,r)}}if(t instanceof Kn){const r=new Kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:N_(i.M,r)}}if(t instanceof WE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jl)return{bytesValue:sR(i.M,t._byteString)};if(t instanceof Zn){const r=i.databaseId,l=t.firestore._databaseId;if(!l.isEqual(r))throw i.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:rI(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ic(`Unsupported field value: ${$E(t)}`)}(n,e)}function qO(n,e){const t={};return w_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wu(n,(i,r)=>{const l=Ef(r,e.Za(i));null!=l&&(t[i]=l)}),{mapValue:{fields:t}}}function KO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kn||n instanceof WE||n instanceof jl||n instanceof Zn||n instanceof bf)}function jA(n,e,t){if(!KO(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=$E(t);throw e.ic("an object"===i?n+" a custom object":n+" "+i)}var i}function GA(n,e,t){if((e=(0,Qt.m9)(e))instanceof ic)return e._internalPath;if("string"==typeof e)return YE(n,e);throw ZE("Field path arguments must be of type string or ",n,!1,void 0,t)}const MV=new RegExp("[~\\*/\\[\\]]");function YE(n,e,t){if(e.search(MV)>=0)throw ZE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ic(...e.split("."))._internalPath}catch(i){throw ZE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ZE(n,e,t,i,r){const l=i&&!i.isEmpty(),d=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||d)&&(_+=" (found",l&&(_+=` in field ${i}`),d&&(_+=` in document ${r}`),_+=")"),new ke(fe.INVALID_ARGUMENT,f+n+_)}function YO(n,e){return n.some(t=>t.isEqual(e))}class X_{constructor(e,t,i,r,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(QE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RV extends X_{data(){return super.data()}}function QE(n,e){return"string"==typeof e?YE(n,e):e instanceof ic?e._internalPath:e._delegate._internalPath}class Cf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rc extends X_{constructor(e,t,i,r,l,d){super(e,t,i,r,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new J_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(QE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class J_ extends rc{data(e={}){return super.data(e)}}class Ad{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Cf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new J_(this._firestore,this._userDataWriter,i.key,i,new Cf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new J_(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Cf(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const f=new J_(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Cf(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,E=-1;return 0!==d.type&&(_=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),E=l.indexOf(d.doc.key)),{type:OV(d.type),doc:f,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function OV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function ZO(n,e){return n instanceof rc&&e instanceof rc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ad&&e instanceof Ad&&n._firestore===e._firestore&&BO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function QO(n){if(Vg(n)&&0===n.explicitOrderBy.length)throw new ke(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}function Sd(n,...e){for(const t of e)n=t._apply(n);return n}class kV extends ev{constructor(e,t,i){super(),this.hc=e,this.lc=t,this.fc=i,this.type="where"}_apply(e){const t=wf(e.firestore),i=function(r,l,d,f,_,E,I){let R;if(_.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new ke(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){ik(I,E);const K=[];for(const Q of I)K.push(nk(f,r,Q));R={arrayValue:{values:K}}}else R=nk(f,r,I)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||ik(I,E),R=WO(d,"where",I,"in"===E||"not-in"===E);const G=nr.create(_,E,R);return function(K,Q){if(Q.S()){const Ve=_E(K);if(null!==Ve&&!Ve.isEqual(Q.field))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ve.toString()}' and '${Q.field.toString()}'`);const tt=yE(K);null!==tt&&rk(0,Q.field,tt)}const ce=function(Ve,tt){for(const Je of Ve.filters)if(tt.indexOf(Je.op)>=0)return Je.op;return null}(K,function(Ve){switch(Ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Q.op));if(null!==ce)throw new ke(fe.INVALID_ARGUMENT,ce===Q.op?`Invalid query. You cannot use more than one '${Q.op.toString()}' filter.`:`Invalid query. You cannot use '${Q.op.toString()}' filters with '${ce.toString()}' filters.`)}(r,G),G}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new ss(e.firestore,e.converter,function(r,l){const d=r.filters.concat([l]);return new Vl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),d,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class PV extends ev{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(i,r,l){if(null!==i.startAt)throw new ke(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new ec(r,l);return function(f,_){if(null===yE(f)){const E=_E(f);null!==E&&rk(0,E,_.field)}}(i,d),d}(e._query,this.hc,this.dc);return new ss(e.firestore,e.converter,function(i,r){const l=i.explicitOrderBy.concat([r]);return new Vl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class XO extends ev{constructor(e,t,i){super(),this.type=e,this._c=t,this.wc=i}_apply(e){return new ss(e.firestore,e.converter,bE(e._query,this._c,this.wc))}}class JO extends ev{constructor(e,t,i){super(),this.type=e,this.mc=t,this.gc=i}_apply(e){const t=tk(e,this.type,this.mc,this.gc);return new ss(e.firestore,e.converter,(r=t,new Vl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class ek extends ev{constructor(e,t,i){super(),this.type=e,this.mc=t,this.gc=i}_apply(e){const t=tk(e,this.type,this.mc,this.gc);return new ss(e.firestore,e.converter,(r=t,new Vl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function tk(n,e,t,i){if(t[0]=(0,Qt.m9)(t[0]),t[0]instanceof X_)return function(r,l,d,f,_){if(!f)throw new ke(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const I of cf(r))if(I.field.isKeyField())E.push(Zu(l,f.key));else{const R=f.data.field(I.field);if(Mg(R))throw new ke(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const G=I.field.canonicalString();throw new ke(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${G}' (used as the orderBy) does not exist.`)}E.push(R)}return new Ju(E,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=wf(n.firestore);return function(l,d,f,_,E,I){const R=l.explicitOrderBy;if(E.length>R.length)throw new ke(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const G=[];for(let K=0;K<E.length;K++){const Q=E[K];if(R[K].field.isKeyField()){if("string"!=typeof Q)throw new ke(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Q}`);if(!vE(l)&&-1!==Q.indexOf("/"))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Q}' contains a slash.`);const ce=l.path.child(sn.fromString(Q));if(!$e.isDocumentKey(ce))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ce}' is not because it contains an odd number of segments.`);const Ve=new $e(ce);G.push(Zu(d,Ve))}else{const ce=WO(f,_,Q);G.push(ce)}}return new Ju(G,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function nk(n,e,t){if("string"==typeof(t=(0,Qt.m9)(t))){if(""===t)throw new ke(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vE(e)&&-1!==t.indexOf("/"))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(sn.fromString(t));if(!$e.isDocumentKey(i))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Zu(n,new $e(i))}if(t instanceof Zn)return Zu(n,t._key);throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$E(t)}.`)}function ik(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ke(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function rk(n,e,t){if(!t.isEqual(e))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class HA{convertValue(e,t="none"){switch(Yu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){const i={};return Wu(e.fields,(r,l)=>{i[r]=this.convertValue(l,t)}),i}convertGeoPoint(e){return new WE(fi(e.latitude),fi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=rE(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Rg(e));default:return null}}convertTimestamp(e){const t=qa(e);return new Kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=sn.fromString(e);Ft(gR(i));const r=new na(i.get(1),i.get(3)),l=new $e(i.popFirst(5));return r.isEqual(t)||Pi(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function XE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class HV extends HA{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}class sk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wf(e)}set(e,t,i){this._verifyNotCommitted();const r=Td(e,this._firestore),l=XE(r.converter,t,i),d=KE(this._dataReader,"WriteBatch.set",r._key,l,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,kt.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const l=Td(e,this._firestore);let d;return d="string"==typeof(t=(0,Qt.m9)(t))||t instanceof ic?UA(this._dataReader,"WriteBatch.update",l._key,t,i,r):BA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,kt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Td(e,this._firestore);return this._mutations=this._mutations.concat(new O_(t._key,kt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Td(n,e){if((n=(0,Qt.m9)(n)).firestore!==e)throw new ke(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Df extends HA{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function ok(n,e,t){n=cn(n,Zn);const i=cn(n.firestore,ri),r=XE(n.converter,e,t);return am(i,[KE(wf(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,kt.none())])}function ak(n,e,t,...i){n=cn(n,Zn);const r=cn(n.firestore,ri),l=wf(r);let d;return d="string"==typeof(e=(0,Qt.m9)(e))||e instanceof ic?UA(l,"updateDoc",n._key,e,t,i):BA(l,"updateDoc",n._key,e),am(r,[d.toMutation(n._key,kt.exists(!0))])}function lk(n,...e){var t,i,r;n=(0,Qt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||LA(e[d])||(l=e[d],d++);const f={includeMetadataChanges:l.includeMetadataChanges};if(LA(e[d])){const R=e[d];e[d]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[d+1]=null===(i=R.error)||void 0===i?void 0:i.bind(R),e[d+2]=null===(r=R.complete)||void 0===r?void 0:r.bind(R)}let _,E,I;if(n instanceof Zn)E=cn(n.firestore,ri),I=uf(n._key.path),_={next:R=>{e[d]&&e[d]($A(E,n,R))},error:e[d+1],complete:e[d+2]};else{const R=cn(n,ss);E=cn(R.firestore,ri),I=R._query;const G=new Df(E);_={next:K=>{e[d]&&e[d](new Ad(E,G,R,K))},error:e[d+1],complete:e[d+2]},QO(n._query)}return function(R,G,K,Q){const ce=new GE(Q),Ve=new tA(G,ce,K);return R.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return ZI(yield om(R),Ve)})),()=>{ce.pa(),R.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return XI(yield om(R),Ve)}))}}(zi(E),I,f,_)}function am(n,e){return function(t,i){const r=new Gi;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function PL(n,e,t){return oA.apply(this,arguments)}(yield FA(t),i,r)})),r.promise}(zi(n),e)}function $A(n,e,t){const i=t.docs.get(e._key),r=new Df(n);return new rc(n,r,e._key,i,new Cf(t.hasPendingWrites,t.fromCache),e.converter)}class JV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wf(e)}get(e){const t=Td(e,this._firestore),i=new HV(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return lt();const l=r[0];if(l.isFoundDocument())return new X_(this._firestore,i,l.key,l,t.converter);if(l.isNoDocument())return new X_(this._firestore,i,t._key,null,t.converter);throw lt()})}set(e,t,i){const r=Td(e,this._firestore),l=XE(r.converter,t,i),d=KE(this._dataReader,"Transaction.set",r._key,l,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(e,t,i,...r){const l=Td(e,this._firestore);let d;return d="string"==typeof(t=(0,Qt.m9)(t))||t instanceof ic?UA(this._dataReader,"Transaction.update",l._key,t,i,r):BA(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Td(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Td(e,this._firestore),i=new Df(this._firestore);return super.get(e).then(r=>new rc(this._firestore,i,t._key,r._document,new Cf(!1,!1),t.converter))}}!function(n,e=!0){tf=fo.SDK_VERSION,(0,fo._registerComponent)(new ed.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=new ri(r,new Ux(t.getProvider("auth-internal")),new Hx(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC")),(0,fo.registerVersion)(Vx,"3.4.7",n),(0,fo.registerVersion)(Vx,"3.4.7","esm2017")}();class zA{constructor(e){return e}}const ck="firestore",WA=new c.OlP("angularfire2.firestore-instances");function lB(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new zA(i)}}const uB={provide:class oB{constructor(){return(0,ln.vb)(ck)}},deps:[[new c.FiY,WA]]},cB={provide:zA,useFactory:function aB(n,e){const t=(0,ln.JM)(ck,n,e);return t&&new zA(t)},deps:[[new c.FiY,WA],Ru]};let dB=(()=>{class n{constructor(){(0,ja.KN)("angularfire",ln.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[cB,uB]}),n})();function hB(n,...e){return{ngModule:dB,providers:[{provide:WA,useFactory:lB(n),multi:!0,deps:[c.R0b,c.zs3,ln.HU,bp,[new c.FiY,yy],[new c.FiY,Fu],...e]}]}}const fB=(0,ln.u3)(gV,!0);var lm=F(6451);function dk(n){for(let e in n){let t=n[e]||"";switch(e){case"display":n.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=t;break;case"flex-direction":t=t||"row",n["-webkit-flex-direction"]=t,n["flex-direction"]=t;break;case"order":n.order=n["-webkit-"+e]=isNaN(+t)?"0":t}}return n}const qA="inline",JE=["row","column","row-reverse","column-reverse"];function hk(n){let[e,t,i]=fk(n);return function gB(n,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":e||null}}(e,t,i)}function fk(n){var e;n=null!==(e=null==n?void 0:n.toLowerCase())&&void 0!==e?e:"";let[t,i,r]=n.split(" ");return JE.find(l=>l===t)||(t=JE[0]),i===qA&&(i=r!==qA?r:"",r=qA),[t,pB(i),!!r]}function tv(n){let[e]=fk(n);return e.indexOf("row")>-1}function pB(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function sc(n,...e){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(null!=t)for(let i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}var nv=F(8505);const yB={provide:c.tb,useFactory:function mB(n,e){return()=>{if(an(e)){const t=Array.from(n.querySelectorAll(`[class*=${pk}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(r=>{r.classList.contains(`${pk}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[re,c.Lbi],multi:!0},pk="flex-layout-";let KA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[yB]}),n})();class xf{constructor(e=!1,t="all",i="",r="",l=0){this.matches=e,this.mediaQuery=t,this.mqAlias=i,this.suffix=r,this.priority=l,this.property=""}clone(){return new xf(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let _B=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(t,i,r){const l=this.stylesheet.get(t);l?l.set(i,r):this.stylesheet.set(t,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,i){const r=this.stylesheet.get(t);let l="";if(r){const d=r.get(i);("number"==typeof d||"string"==typeof d)&&(l=d+"")}return l}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YA={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Xa=new c.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>YA}),um=new c.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),ZA=new c.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function gk(n,e){return n=n?n.clone():new xf,e&&(n.mqAlias=e.alias,n.mediaQuery=e.mediaQuery,n.suffix=e.suffix,n.priority=e.priority),n}class Ci{constructor(){this.shouldCache=!0}sideEffect(e,t,i){}}let Qn=(()=>{class n{constructor(t,i,r,l){this._serverStylesheet=t,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=l}applyStyleToElement(t,i,r=null){let l={};"string"==typeof i&&(l[i]=r,i=l),l=this.layoutConfig.disableVendorPrefixes?i:dk(i),this._applyMultiValueStyleToElement(l,t)}applyStyleToElements(t,i=[]){const r=this.layoutConfig.disableVendorPrefixes?t:dk(t);i.forEach(l=>{this._applyMultiValueStyleToElement(r,l)})}getFlowDirection(t){const i="flex-direction";let r=this.lookupStyle(t,i);return[r||"row",this.lookupInlineStyle(t,i)||lr(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,i){var r;return null!==(r=t.getAttribute(i))&&void 0!==r?r:""}lookupInlineStyle(t,i){return an(this._platformId)?t.style.getPropertyValue(i):function vB(n,e){var t;return null!==(t=mk(n)[e])&&void 0!==t?t:""}(t,i)}lookupStyle(t,i,r=!1){let l="";return t&&((l=this.lookupInlineStyle(t,i))||(an(this._platformId)?r||(l=getComputedStyle(t).getPropertyValue(i)):this._serverModuleLoaded&&(l=this._serverStylesheet.getStyleForElement(t,i)))),l?l.trim():""}_applyMultiValueStyleToElement(t,i){Object.keys(t).sort().forEach(r=>{const l=t[r],d=Array.isArray(l)?l:[l];d.sort();for(let f of d)f=f?f+"":"",an(this._platformId)||!this._serverModuleLoaded?an(this._platformId)?i.style.setProperty(r,f):bB(i,r,f):this._serverStylesheet.addStyleToElement(i,r,f)})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_B),c.LFG(um),c.LFG(c.Lbi),c.LFG(Xa))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bB(n,e,t){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=mk(n);i[e]=null!=t?t:"",function wB(n,e){let t="";for(const i in e)e[i]&&(t+=`${i}:${e[i]};`);n.setAttribute("style",t)}(n,i)}function mk(n){const e={},t=n.getAttribute("style");if(t){const i=t.split(/;+/g);for(let r=0;r<i.length;r++){const l=i[r].trim();if(l.length>0){const d=l.indexOf(":");if(-1===d)throw new Error(`Invalid CSS style: ${l}`);e[l.substr(0,d).trim()]=l.substr(d+1).trim()}}}return e}function iv(n,e){return(e&&e.priority||0)-(n&&n.priority||0)}function EB(n,e){return(n.priority||0)-(e.priority||0)}let QA=(()=>{class n{constructor(t,i,r){this._zone=t,this._platformId=i,this._document=r,this.source=new Rv(new xf(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((i,r)=>{i.matches&&t.push(r)}),t}isActive(t){var i;const r=this.registry.get(t);return null!==(i=null==r?void 0:r.matches)&&void 0!==i?i:this.registerQuery(t).some(l=>l.matches)}observe(t,i=!1){if(t&&t.length){const r=this._observable$.pipe(Zo(d=>!i||t.indexOf(d.mediaQuery)>-1)),l=new Va.y(d=>{const f=this.registerQuery(t);if(f.length){const _=f.pop();f.forEach(E=>{d.next(E)}),this.source.next(_)}d.complete()});return(0,lm.T)(l,r)}return this._observable$}registerQuery(t){const i=Array.isArray(t)?t:[t],r=[];return function CB(n,e){const t=n.filter(i=>!yk[i]);if(t.length>0){const i=t.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),e.head.appendChild(r),t.forEach(l=>yk[l]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(l=>{const d=_=>{this._zone.run(()=>this.source.next(new xf(_.matches,l)))};let f=this.registry.get(l);f||(f=this.buildMQL(l),f.addListener(d),this.pendingRemoveListenerFns.push(()=>f.removeListener(d)),this.registry.set(l,f)),f.matches&&r.push(new xf(!0,l))}),r}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function DB(n,e){return e&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,an(this._platformId))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(c.Lbi),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yk={},xB=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],_k="(orientation: portrait) and (max-width: 599.98px)",vk="(orientation: landscape) and (max-width: 959.98px)",bk="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",wk="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Ek="(orientation: portrait) and (min-width: 840px)",Ck="(orientation: landscape) and (min-width: 1280px)",oc={HANDSET:`${_k}, ${vk}`,TABLET:`${bk} , ${wk}`,WEB:`${Ek}, ${Ck} `,HANDSET_PORTRAIT:`${_k}`,TABLET_PORTRAIT:`${bk} `,WEB_PORTRAIT:`${Ek}`,HANDSET_LANDSCAPE:`${vk}`,TABLET_LANDSCAPE:`${wk}`,WEB_LANDSCAPE:`${Ck}`},IB=[{alias:"handset",priority:2e3,mediaQuery:oc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:oc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:oc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:oc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:oc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:oc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:oc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:oc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:oc.WEB_PORTRAIT,overlapping:!0}],AB=/(\.|-|_)/g;function SB(n){let e=n.length>0?n.charAt(0):"",t=n.length>1?n.slice(1):"";return e.toUpperCase()+t}const OB=new c.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,c.f3M)(ZA),e=(0,c.f3M)(Xa),t=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function RB(n,e=[]){const t={};return n.forEach(i=>{t[i.alias]=i}),e.forEach(i=>{t[i.alias]?sc(t[i.alias],i):t[i.alias]=i}),function MB(n){return n.forEach(e=>{e.suffix||(e.suffix=function TB(n){return n.replace(AB,"|").split("|").map(SB).join("")}(e.alias),e.overlapping=!!e.overlapping)}),n}(Object.keys(t).map(i=>t[i]))}((e.disableDefaultBps?[]:xB).concat(e.addOrientationBps?IB:[]),t)}});let XA=(()=>{class n{constructor(t){this.findByMap=new Map,this.items=[...t].sort(EB)}findByAlias(t){return t?this.findWithPredicate(t,i=>i.alias===t):null}findByQuery(t){return this.findWithPredicate(t,i=>i.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>{var i;return null!==(i=null==t?void 0:t.suffix)&&void 0!==i?i:""})}findWithPredicate(t,i){var r;let l=this.findByMap.get(t);return l||(l=null!==(r=this.items.find(i))&&void 0!==r?r:null,this.findByMap.set(t,l)),null!=l?l:null}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(OB))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cm="print",kB={alias:cm,mediaQuery:cm,priority:1e3};let FB=(()=>{class n{constructor(t,i,r){this.breakpoints=t,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new PB,this.deactivations=[]}withPrintQuery(t){return[...t,cm]}isPrintEvent(t){return t.mediaQuery.startsWith(cm)}get printAlias(){var t;return[...null!==(t=this.layoutConfig.printWithBreakpoints)&&void 0!==t?t:[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const i=this.breakpoints.findByQuery(t);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(iv)}updateEvent(t){var i;let r=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(r=this.getEventBreakpoints(t)[0],t.mediaQuery=null!==(i=null==r?void 0:r.mediaQuery)&&void 0!==i?i:""),gk(t,r)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new xf(!0,cm))),t.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(t){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(i)),t.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,i)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,i){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const l=this.formerActivations&&this.formerActivations.includes(r),d=!this.formerActivations&&t.activatedBreakpoints.includes(r);(l||d)&&(this.deactivations.push(r),this.deactivations.sort(iv))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(XA),c.LFG(Xa),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class PB{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(kB),e.sort(iv),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function NB(n){var e;return null!==(e=null==n?void 0:n.mediaQuery.startsWith(cm))&&void 0!==e&&e}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}let si=(()=>{class n{constructor(t,i,r){this.matchMedia=t,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new ci.x,this.observeActivations()}get activatedAlias(){var t,i;return null!==(i=null===(t=this.activatedBreakpoints[0])||void 0===t?void 0:t.alias)&&void 0!==i?i:""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const i=this.findByQuery(t.mediaQuery);if(i){t=gk(t,i);const r=this.activatedBreakpoints.indexOf(i);t.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(iv),this.updateStyles()):!t.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(iv),this.updateStyles())}}init(t,i,r,l,d=[]){Dk(this.updateMap,t,i,r),Dk(this.clearMap,t,i,l),this.buildElementKeyMap(t,i),this.watchExtraTriggers(t,i,d)}getValue(t,i,r){const l=this.elementMap.get(t);if(l){const d=void 0!==r?l.get(r):this.getActivatedValues(l,i);if(d)return d.get(i)}}hasValue(t,i){const r=this.elementMap.get(t);if(r){const l=this.getActivatedValues(r,i);if(l)return void 0!==l.get(i)||!1}return!1}setValue(t,i,r,l){var d;let f=this.elementMap.get(t);if(f){const E=(null!==(d=f.get(l))&&void 0!==d?d:new Map).set(i,r);f.set(l,E),this.elementMap.set(t,f)}else f=(new Map).set(l,(new Map).set(i,r)),this.elementMap.set(t,f);const _=this.getValue(t,i);void 0!==_&&this.updateElement(t,i,_)}trackValue(t,i){return this.subject.asObservable().pipe(Zo(r=>r.element===t&&r.key===i))}updateStyles(){this.elementMap.forEach((t,i)=>{const r=new Set(this.elementKeyMap.get(i));let l=this.getActivatedValues(t);l&&l.forEach((d,f)=>{this.updateElement(i,f,d),r.delete(f)}),r.forEach(d=>{if(l=this.getActivatedValues(t,d),l){const f=l.get(d);this.updateElement(i,d,f)}else this.clearElement(i,d)})})}clearElement(t,i){const r=this.clearMap.get(t);if(r){const l=r.get(i);l&&(l(),this.subject.next({element:t,key:i,value:""}))}}updateElement(t,i,r){const l=this.updateMap.get(t);if(l){const d=l.get(i);d&&(d(r),this.subject.next({element:t,key:i,value:r}))}}releaseElement(t){const i=this.watcherMap.get(t);i&&(i.forEach(l=>l.unsubscribe()),this.watcherMap.delete(t));const r=this.elementMap.get(t);r&&(r.forEach((l,d)=>r.delete(d)),this.elementMap.delete(t))}triggerUpdate(t,i){const r=this.elementMap.get(t);if(r){const l=this.getActivatedValues(r,i);l&&(i?this.updateElement(t,i,l.get(i)):l.forEach((d,f)=>this.updateElement(t,f,d)))}}buildElementKeyMap(t,i){let r=this.elementKeyMap.get(t);r||(r=new Set,this.elementKeyMap.set(t,r)),r.add(i)}watchExtraTriggers(t,i,r){if(r&&r.length){let l=this.watcherMap.get(t);if(l||(l=new Map,this.watcherMap.set(t,l)),!l.get(i)){const f=(0,lm.T)(...r).subscribe(()=>{const _=this.getValue(t,i);this.updateElement(t,i,_)});l.set(i,f)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,i){for(let l=0;l<this.activatedBreakpoints.length;l++){const f=t.get(this.activatedBreakpoints[l].alias);if(f&&(void 0===i||f.has(i)&&null!=f.get(i)))return f}if(!this._useFallbacks)return;const r=t.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const t=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe((0,nv.b)(this.hook.interceptEvents(this)),Zo(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(QA),c.LFG(XA),c.LFG(FB))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dk(n,e,t,i){var r;if(void 0!==i){const l=null!==(r=n.get(e))&&void 0!==r?r:new Map;l.set(t,i),n.set(e,l)}}let pi=(()=>{class n{constructor(t,i,r,l){this.elementRef=t,this.styleBuilder=i,this.styler=r,this.marshal=l,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new ci.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(t[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,i){const r=this.styleBuilder,l=r.shouldCache;let d=this.styleCache.get(t);(!d||!l)&&(d=r.buildStyles(t,i),l&&this.styleCache.set(t,d)),this.mru=Object.assign({},d),this.applyStyleToElement(d),r.sideEffect(t,d,i)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,i=!1){if(t){const[r,l]=this.styler.getFlowDirection(t);if(!l&&i){const d=hk(r);this.styler.applyStyleToElements(d,[t])}return r.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,i,r=this.nativeElement){this.styler.applyStyleToElement(r,t,i)}setValue(t,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,i)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Ci),c.Y36(Qn),c.Y36(si))},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();function e0(n,e){if(void 0===e)return n;const t=i=>{const r=+i.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(r)?`${r*e.value}${e.unit}`:n};return n.includes(" ")?n.split(" ").map(t).join(" "):t(n)}let $B=(()=>{class n extends pi{constructor(t,i,r,l,d,f,_){super(t,null,i,r),this.ngClassInstance=_,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new or(l,d,t,f)),this.init(),this.setValue("","")}set klass(t){this.ngClassInstance.klass=t,this.setValue(t,"")}updateWithValue(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Qn),c.Y36(si),c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.Qsj),c.Y36(or,10))},n.\u0275dir=c.lG2({type:n,inputs:{klass:["class","klass"]},features:[c.qOj]}),n})();const zB=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let Sk=(()=>{class n extends $B{constructor(){super(...arguments),this.inputs=zB}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[c.qOj]}),n})(),Fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[KA]]}),n})(),n2=(()=>{class n extends Ci{buildStyles(t,{display:i}){const r=hk(t);return Object.assign(Object.assign({},r),{display:"none"===i?i:r.display})}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const r2=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let s2=(()=>{class n extends pi{constructor(t,i,r,l,d){super(t,r,i,l),this._config=d,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){var i;const l=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(i=Nk.get(l))&&void 0!==i?i:new Map,Nk.set(l,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:l}),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Qn),c.Y36(n2),c.Y36(si),c.Y36(Xa))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),Pk=(()=>{class n extends s2{constructor(){super(...arguments),this.inputs=r2}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[c.qOj]}),n})();const Nk=new Map,Lk={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let o2=(()=>{class n extends Ci{constructor(t,i){super(),this._styler=t,this._config=i}buildStyles(t,i){return t.endsWith(t0)?function p2(n,e){const[t,i]=n.split(" "),l=E=>`-${E}`;let d="0px",f=l(null!=i?i:t),_="0px";return"rtl"===e?_=l(t):d=l(t),{margin:`0px ${d} ${f} ${_}`}}(t=e0(t=t.slice(0,t.indexOf(t0)),this._config.multiplier),i.directionality):{}}sideEffect(t,i,r){const l=r.items;if(t.endsWith(t0)){const d=function f2(n,e){const[t,i]=n.split(" ");let l="0px",f="0px";return"rtl"===e?f=t:l=t,{padding:`0px ${l} ${null!=i?i:t} ${f}`}}(t=e0(t=t.slice(0,t.indexOf(t0)),this._config.multiplier),r.directionality);this._styler.applyStyleToElements(d,r.items)}else{t=e0(t,this._config.multiplier),t=this.addFallbackUnit(t);const d=l.pop(),f=function g2(n,e){const t=Bk(e.directionality,e.layout),i=Object.assign({},Lk);return i[t]=n,i}(t,r);this._styler.applyStyleToElements(f,l),this._styler.applyStyleToElements(Lk,[d])}}addFallbackUnit(t){return isNaN(+t)?t:`${t}${this._config.defaultUnit}`}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Qn),c.LFG(Xa))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a2=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let l2=(()=>{class n extends pi{constructor(t,i,r,l,d,f){super(t,d,l,f),this.zone=i,this.directionality=r,this.styleUtils=l,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new ci.x;const _=[this.directionality.change,this.observerSubject.asObservable()];this.init(_),this.marshal.trackValue(this.nativeElement,"layout").pipe(co(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,i=[];for(let r=t.length;r--;)i[r]=t[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const r=t.value.split(" ");this.layout=r[0],JE.find(l=>l===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,l)=>{const d=+this.styler.lookupStyle(r,"order"),f=+this.styler.lookupStyle(l,"order");return isNaN(d)||isNaN(f)||d===f?0:d>f?1:-1});if(i.length>0){const r=this.directionality.value,l=this.layout;"row"===l&&"rtl"===r?this.styleCache=u2:"row"===l&&"rtl"!==r?this.styleCache=d2:"column"===l&&"rtl"===r?this.styleCache=c2:"column"===l&&"rtl"!==r&&(this.styleCache=h2),this.addStyles(t,{directionality:r,items:i,layout:l})}}clearStyles(){const t=Object.keys(this.mru).length>0,i=t?"padding":Bk(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(t){const i=this.marshal.getValue(t,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(t=>{t.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Fm),c.Y36(Qn),c.Y36(o2),c.Y36(si))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),Vk=(()=>{class n extends l2{constructor(){super(...arguments),this.inputs=a2}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[c.qOj]}),n})();const u2=new Map,c2=new Map,d2=new Map,h2=new Map,t0=" grid";function Bk(n,e){switch(e){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let W2=(()=>{class n extends Ci{buildStyles(t,i){const r={},[l,d]=t.split(" ");switch(l){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(d){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return sc(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===d?tv(i.layout)?null:"100%":null,"max-height":"stretch"===d&&tv(i.layout)?"100%":null})}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q2=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let K2=(()=>{class n extends pi{constructor(t,i,r,l){super(t,r,i,l),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(co(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=J2:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=tU:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=eU:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=nU:"column-reverse"===i&&!r&&(this.styleCache=X2):this.styleCache=Z2:this.styleCache=Q2:this.styleCache=Y2,this.addStyles(t,{layout:i,inline:r})}onLayoutChange(t){const i=t.value.split(" ");this.layout=i[0],this.inline=t.value.includes("inline"),JE.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Qn),c.Y36(W2),c.Y36(si))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),Uk=(()=>{class n extends K2{constructor(){super(...arguments),this.inputs=q2}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[c.qOj]}),n})();const Y2=new Map,Z2=new Map,Q2=new Map,X2=new Map,J2=new Map,eU=new Map,tU=new Map,nU=new Map;let jk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[KA,Du]]}),n})(),Yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[KA]]}),n})(),Dj=(()=>{class n{constructor(t,i){lr(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,i=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:Xa,useValue:Object.assign(Object.assign({},YA),t)},{provide:ZA,useValue:i,multi:!0},{provide:um,useValue:!0}]:[{provide:Xa,useValue:Object.assign(Object.assign({},YA),t)},{provide:ZA,useValue:i,multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(um),c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jk,Fk,Yk],jk,Fk,Yk]}),n})();var Gl=F(576);const{isArray:Ij}=Array,{getPrototypeOf:Aj,prototype:Sj,keys:Tj}=Object;var Mn=F(4004);const{isArray:Oj}=Array;function Zk(n){return(0,Mn.U)(e=>function kj(n,e){return Oj(e)?n(...e):n(e)}(n,e))}function Fj(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Qk(...n){const e=(0,lp.jO)(n),{args:t,keys:i}=function Mj(n){if(1===n.length){const e=n[0];if(Ij(e))return{args:e,keys:null};if(function Rj(n){return n&&"object"==typeof n&&Aj(n)===Sj}(e)){const t=Tj(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n),r=new Va.y(l=>{const{length:d}=t;if(!d)return void l.complete();const f=new Array(d);let _=d,E=d;for(let I=0;I<d;I++){let R=!1;(0,zc.Xf)(t[I]).subscribe((0,Xi.x)(l,G=>{R||(R=!0,E--),f[I]=G},()=>_--,void 0,()=>{(!_||!R)&&(E||l.next(i?Fj(i,f):f),l.complete())}))}});return e?r.pipe(Zk(e)):r}var n0=F(727);function Xk(n){return(0,ts.e)((e,t)=>{let l,i=null,r=!1;i=e.subscribe((0,Xi.x)(t,void 0,void 0,d=>{l=(0,zc.Xf)(n(d,Xk(n)(e))),i?(i.unsubscribe(),i=null,l.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,l.subscribe(t))})}var Jk=F(3099),r0=F(5698),eS=F(5577);class Lj{}class Md{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),l=r.toLowerCase(),d=t.slice(i+1).trim();this.maybeSetNormalizedName(r,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Md?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Md;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Md?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const l=e.value;if(l){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===l.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Vj{encodeKey(e){return eF(e)}encodeValue(e){return eF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Uj=/%(\d[a-f0-9])/gi,jj={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function eF(n){return encodeURIComponent(n).replace(Uj,(e,t)=>{var i;return null!==(i=jj[t])&&void 0!==i?i:e})}function tF(n){return`${n}`}class Rd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Vj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Bj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const l=r.indexOf("="),[d,f]=-1==l?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,l)),e.decodeValue(r.slice(l+1))],_=t.get(d)||[];_.push(f),t.set(d,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(l=>{t.push({param:i,value:l,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Rd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(tF(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(tF(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Gj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function nF(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function iF(n){return"undefined"!=typeof Blob&&n instanceof Blob}function rF(n){return"undefined"!=typeof FormData&&n instanceof FormData}class rv{constructor(e,t,i,r){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Hj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,l=r):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Md),this.context||(this.context=new Gj),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new Rd,this.urlWithParams=t}serializeBody(){return null===this.body?null:nF(this.body)||iF(this.body)||rF(this.body)||function $j(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rF(this.body)?null:iF(this.body)?this.body.type||null:nF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,l=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,I=e.params||this.params;const R=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((G,K)=>G.set(K,e.setHeaders[K]),E)),e.setParams&&(I=Object.keys(e.setParams).reduce((G,K)=>G.set(K,e.setParams[K]),I)),new rv(i,r,d,{params:I,headers:E,context:R,reportProgress:_,responseType:l,withCredentials:f})}}var Ur=(()=>((Ur=Ur||{})[Ur.Sent=0]="Sent",Ur[Ur.UploadProgress=1]="UploadProgress",Ur[Ur.ResponseHeader=2]="ResponseHeader",Ur[Ur.DownloadProgress=3]="DownloadProgress",Ur[Ur.Response=4]="Response",Ur[Ur.User=5]="User",Ur))();class tS extends class zj{constructor(e,t=200,i="OK"){this.headers=e.headers||new Md,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Ur.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new tS({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function nS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let oF=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let l;if(t instanceof rv)l=t;else{let _,E;_=r.headers instanceof Md?r.headers:new Md(r.headers),r.params&&(E=r.params instanceof Rd?r.params:new Rd({fromObject:r.params})),l=new rv(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:E,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=_r(l).pipe(function Nj(n,e){return(0,Gl.m)(e)?(0,eS.z)(n,e,1):(0,eS.z)(n,1)}(_=>this.handler.handle(_)));if(t instanceof rv||"events"===r.observe)return d;const f=d.pipe(Zo(_=>_ instanceof tS));switch(r.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe((0,Mn.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,Mn.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,Mn.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,Mn.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Rd).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,nS(r,i))}post(t,i,r={}){return this.request("POST",t,nS(r,i))}put(t,i,r={}){return this.request("PUT",t,nS(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Lj))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const qj=["*"];let s0;function sv(n){var e;return(null===(e=function Kj(){if(void 0===s0&&(s0=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(s0=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return s0}())||void 0===e?void 0:e.createHTML(n))||n}function aF(n){return Error(`Unable to find icon with the name "${n}"`)}function lF(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function uF(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class If{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let o0=(()=>{class n{constructor(t,i,r,l){this._httpClient=t,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,l){return this._addSvgIconConfig(t,i,new If(r,null,l))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,l){const d=this._sanitizer.sanitize(c.q3G.HTML,r);if(!d)throw uF(r);const f=sv(d);return this._addSvgIconConfig(t,i,new If("",f,l))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new If(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const l=this._sanitizer.sanitize(c.q3G.HTML,i);if(!l)throw uF(i);const d=sv(l);return this._addSvgIconSetConfig(t,new If("",d,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw lF(t);const r=this._cachedIconsByUrl.get(i);return r?_r(a0(r)):this._loadSvgIconFromConfig(new If(t,null)).pipe((0,nv.b)(l=>this._cachedIconsByUrl.set(i,l)),(0,Mn.U)(l=>a0(l)))}getNamedSvgIcon(t,i=""){const r=cF(i,t);let l=this._svgIconConfigs.get(r);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,t),l)return this._svgIconConfigs.set(r,l),this._getSvgFromConfig(l);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(t,d):function xj(n,e){const t=(0,Gl.m)(n)?n:()=>n,i=r=>r.error(t());return new Va.y(e?r=>e.schedule(i,0,r):i)}(aF(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?_r(a0(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Mn.U)(i=>a0(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?_r(r):Qk(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Xk(f=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(E)),_r(null)})))).pipe((0,Mn.U)(()=>{const d=this._extractIconWithNameFromAnySet(t,i);if(!d)throw aF(t);return d}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const l=i[r];if(l.svgText&&l.svgText.toString().indexOf(t)>-1){const d=this._svgElementFromConfig(l),f=this._extractSvgIconFromSet(d,t,l.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,nv.b)(i=>t.svgText=i),(0,Mn.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?_r(null):this._fetchIcon(t).pipe((0,nv.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const l=t.querySelector(`[id="${i}"]`);if(!l)return null;const d=l.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const f=this._svgElementFromString(sv("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(sv("<svg></svg>")),r=t.attributes;for(let l=0;l<r.length;l++){const{name:d,value:f}=r[l];"id"!==d&&i.setAttribute(d,f)}for(let l=0;l<t.childNodes.length;l++)t.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:l}=t,d=null!==(i=null==l?void 0:l.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Yj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const f=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,r);if(!f)throw lF(r);const _=this._inProgressUrlFetches.get(f);if(_)return _;const E=this._httpClient.get(f,{responseType:"text",withCredentials:d}).pipe((0,Mn.U)(I=>sv(I)),function Pj(n){return(0,ts.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>this._inProgressUrlFetches.delete(f)),(0,Jk.B)());return this._inProgressUrlFetches.set(f,E),E}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(cF(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const l=this._resolvers[r](i,t);if(l)return Qj(l)?new If(l.url,null,l.options):new If(l,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oF,8),c.LFG(Yr),c.LFG(re,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function a0(n){return n.cloneNode(!0)}function cF(n,e){return n+":"+e}function Qj(n){return!(!n.url||!n.options)}const Xj=Zm(class{constructor(n){this._elementRef=n}}),Jj=new c.OlP("mat-icon-location",{providedIn:"root",factory:function eG(){const n=(0,c.f3M)(re),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),dF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tG=dF.map(n=>`[${n}]`).join(", "),nG=/^url\(['"]?#(.*?)['"]?\)$/;let iG=(()=>{class n extends Xj{constructor(t,i,r,l,d){super(t),this._iconRegistry=i,this._location=l,this._errorHandler=d,this._inline=!1,this._currentIconFetch=n0.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=vr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,l)=>{r.forEach(d=>{l.setAttribute(d.name,`url('${t}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(tG),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)dF.forEach(d=>{const f=i[l],_=f.getAttribute(d),E=_?_.match(nG):null;if(E){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:d,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,r0.q)(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${l.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(o0),c.$8M("aria-hidden"),c.Y36(Jj),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:qj,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),rG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[$s],$s]}),n})();var sG=F(1144);const oG=["addListener","removeListener"],aG=["addEventListener","removeEventListener"],lG=["on","off"];function l0(n,e,t,i){if((0,Gl.m)(t)&&(i=t,t=void 0),i)return l0(n,e,t).pipe(Zk(i));const[r,l]=function dG(n){return(0,Gl.m)(n.addEventListener)&&(0,Gl.m)(n.removeEventListener)}(n)?aG.map(d=>f=>n[d](e,f,t)):function uG(n){return(0,Gl.m)(n.addListener)&&(0,Gl.m)(n.removeListener)}(n)?oG.map(hF(n,e)):function cG(n){return(0,Gl.m)(n.on)&&(0,Gl.m)(n.off)}(n)?lG.map(hF(n,e)):[];if(!r&&(0,sG.z)(n))return(0,eS.z)(d=>l0(d,e,t))((0,zc.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Va.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return r(f),()=>l(f)})}function hF(n,e){return t=>i=>n[t](e,i)}var hG=F(8189);function fF(...n){return function fG(){return(0,hG.J)(1)}()((0,qo.D)(n,(0,lp.yG)(n)))}function dm(...n){const e=(0,lp.yG)(n);return(0,ts.e)((t,i)=>{(e?fF(n,t,e):fF(n,t)).subscribe(i)})}const pG=["connectionContainer"],gG=["inputContainer"],mG=["label"];function yG(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function _G(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function vG(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function bG(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function wG(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function EG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.YNc(2,vG,4,1,"ng-container",12),c.YNc(3,bG,1,0,"ng-content",12),c.YNc(4,wG,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function CG(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function DG(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function xG(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function IG(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function AG(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,IG,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const SG=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],TG=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],MG=new c.OlP("MatError"),RG={transitionMessages:fl("transitionMessages",[va("enter",ui({opacity:1,transform:"translateY(0%)"})),Fs("void => enter",[ui({opacity:0,transform:"translateY(-5px)"}),kr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let iS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const OG=new c.OlP("MatHint");let rS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),kG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const FG=new c.OlP("MatPrefix"),pF=new c.OlP("MatSuffix");let PG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSuffix",""]],features:[c._Bn([{provide:pF,useExisting:n}])]}),n})(),gF=0;const LG=Zm(class{constructor(n){this._elementRef=n}},"primary"),VG=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),yF=new c.OlP("MatFormField");let BG=(()=>{class n extends LG{constructor(t,i,r,l,d,f,_){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=l,this._platform=d,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ci.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+gF++,this._labelId="mat-form-field-label-"+gF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=vr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(dm(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(co(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(co(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,lm.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(dm(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(dm(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(co(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,l0(this._label.nativeElement,"transitionend").pipe((0,r0.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,r=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const I=i.querySelectorAll(`${r}, ${l}`);for(let R=0;R<I.length;R++)I[R].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,f=0;const _=i.querySelectorAll(r),E=i.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const I=i.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const R=this._getStartEnd(I),G=t.children,K=this._getStartEnd(G[0].getBoundingClientRect());let Q=0;for(let ce=0;ce<G.length;ce++)Q+=G[ce].offsetWidth;d=Math.abs(K-R)-5,f=Q>0?.75*Q+10:0}for(let I=0;I<_.length;I++)_[I].style.width=`${d}px`;for(let I=0;I<E.length;I++)E[I].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Fm,8),c.Y36(VG,8),c.Y36(es),c.Y36(c.R0b),c.Y36(ch,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,iS,5),c.Suo(r,iS,7),c.Suo(r,rS,5),c.Suo(r,rS,7),c.Suo(r,kG,5),c.Suo(r,MG,5),c.Suo(r,OG,5),c.Suo(r,FG,5),c.Suo(r,pF,5)),2&t){let l;c.iGM(l=c.CRH())&&(i._controlNonStatic=l.first),c.iGM(l=c.CRH())&&(i._controlStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildNonStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildStatic=l.first),c.iGM(l=c.CRH())&&(i._placeholderChild=l.first),c.iGM(l=c.CRH())&&(i._errorChildren=l),c.iGM(l=c.CRH())&&(i._hintChildren=l),c.iGM(l=c.CRH())&&(i._prefixChildren=l),c.iGM(l=c.CRH())&&(i._suffixChildren=l)}},viewQuery:function(t,i){if(1&t&&(c.Gf(pG,7),c.Gf(gG,5),c.Gf(mG,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:yF,useExisting:n}]),c.qOj],ngContentSelectors:TG,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(c.F$t(SG),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(l){return i._control.onContainerClick&&i._control.onContainerClick(l)}),c.YNc(3,yG,9,0,"ng-container",3),c.YNc(4,_G,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,EG,5,16,"label",8),c.qZA()(),c.YNc(10,CG,2,0,"div",9),c.qZA(),c.YNc(11,DG,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,xG,2,1,"div",12),c.YNc(14,AG,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[Ti,MC,Bi,Sr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[RG.transitionMessages]},changeDetection:0}),n})(),sS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wl,$s,ib],$s]}),n})(),_F=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Af=(()=>{class n extends _F{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Hl=new c.OlP("NgValueAccessor"),jG={provide:Hl,useExisting:(0,c.Gpc)(()=>u0),multi:!0},HG=new c.OlP("CompositionEventMode");let u0=(()=>{class n extends _F{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function GG(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(HG,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[c._Bn([jG]),c.qOj]}),n})();function Od(n){return null==n||0===n.length}function bF(n){return null!=n&&"number"==typeof n.length}const os=new c.OlP("NgValidators"),kd=new c.OlP("NgAsyncValidators"),$G=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zG{static min(e){return function wF(n){return e=>{if(Od(e.value)||Od(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function EF(n){return e=>{if(Od(e.value)||Od(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function CF(n){return Od(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function DF(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function xF(n){return Od(n.value)||$G.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function IF(n){return e=>Od(e.value)||!bF(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function AF(n){return e=>bF(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function SF(n){if(!n)return c0;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Od(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return FF(e)}static composeAsync(e){return PF(e)}}function c0(n){return null}function TF(n){return null!=n}function MF(n){const e=(0,c.QGY)(n)?(0,qo.D)(n):n;return(0,c.CqO)(e),e}function RF(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function OF(n,e){return e.map(t=>t(n))}function kF(n){return n.map(e=>function WG(n){return!n.validate}(e)?e:t=>e.validate(t))}function FF(n){if(!n)return null;const e=n.filter(TF);return 0==e.length?null:function(t){return RF(OF(t,e))}}function oS(n){return null!=n?FF(kF(n)):null}function PF(n){if(!n)return null;const e=n.filter(TF);return 0==e.length?null:function(t){return Qk(OF(t,e).map(MF)).pipe((0,Mn.U)(RF))}}function aS(n){return null!=n?PF(kF(n)):null}function NF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function LF(n){return n._rawValidators}function VF(n){return n._rawAsyncValidators}function lS(n){return n?Array.isArray(n)?n:[n]:[]}function d0(n,e){return Array.isArray(n)?n.includes(e):n===e}function BF(n,e){const t=lS(e);return lS(n).forEach(r=>{d0(t,r)||t.push(r)}),t}function UF(n,e){return lS(e).filter(t=>!d0(n,t))}class jF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ac extends jF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bs extends jF{get formDirective(){return null}get path(){return null}}let HF=(()=>{class n extends class GF{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ac,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})();function ov(n,e){dS(n,e),e.valueAccessor.writeValue(n.value),function tH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zF(n,e)})}(n,e),function iH(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function nH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function eH(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function p0(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),m0(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function g0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dS(n,e){const t=LF(n);null!==e.validator?n.setValidators(NF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=VF(n);null!==e.asyncValidator?n.setAsyncValidators(NF(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();g0(e._rawValidators,r),g0(e._rawAsyncValidators,r)}function m0(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=LF(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==e.validator);l.length!==r.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const r=VF(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==e.asyncValidator);l.length!==r.length&&(t=!0,n.setAsyncValidators(l))}}}const i=()=>{};return g0(e._rawValidators,i),g0(e._rawAsyncValidators,i),t}function zF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WF(n,e){dS(n,e)}function KF(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function pS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const av="VALID",y0="INVALID",hm="PENDING",lv="DISABLED";function mS(n){return(_0(n)?n.validators:n)||null}function YF(n){return Array.isArray(n)?oS(n):n||null}function yS(n,e){return(_0(e)?e.asyncValidators:n)||null}function ZF(n){return Array.isArray(n)?aS(n):n||null}function _0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const QF=n=>n instanceof tP,_S=n=>n instanceof bS;function XF(n){return QF(n)?n.value:n.getRawValue()}function JF(n,e){const t=_S(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")}function eP(n,e){_S(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class vS{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=YF(this._rawValidators),this._composedAsyncValidatorFn=ZF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===av}get invalid(){return this.status===y0}get pending(){return this.status==hm}get disabled(){return this.status===lv}get enabled(){return this.status!==lv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=YF(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ZF(e)}addValidators(e){this.setValidators(BF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UF(e,this._rawAsyncValidators))}hasValidator(e){return d0(this._rawValidators,e)}hasAsyncValidator(e){return d0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hm,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lv,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=av,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===av||this.status===hm)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lv:av}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hm,this._hasOwnPendingAsyncValidator=!0;const t=MF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function aH(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=_S(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof uH)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?lv:this.errors?y0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hm)?hm:this._anyControlsHaveStatus(y0)?y0:av}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class tP extends vS{constructor(e=null,t,i){super(mS(t),yS(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_0(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class bS extends vS{constructor(e,t,i){super(mS(t),yS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){eP(this,e),Object.keys(e).forEach(i=>{JF(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=XF(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,l)=>{i=t(i,r,l)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class uH extends vS{constructor(e,t,i){super(mS(t),yS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){eP(this,e),e.forEach((i,r)=>{JF(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>XF(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const cH={provide:bs,useExisting:(0,c.Gpc)(()=>v0)},uv=(()=>Promise.resolve(null))();let v0=(()=>{class n extends bs{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new bS({},oS(t),aS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){uv.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),ov(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){uv.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){uv.then(()=>{const i=this._findContainer(t.path),r=new bS({});WF(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){uv.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){uv.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,KF(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(os,10),c.Y36(kd,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([cH]),c.qOj]}),n})();const hH={provide:ac,useExisting:(0,c.Gpc)(()=>wS)},rP=(()=>Promise.resolve(null))();let wS=(()=>{class n extends ac{constructor(t,i,r,l,d){super(),this._changeDetectorRef=d,this.control=new tP,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function fS(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(l=>{l.constructor===u0?t=l:function oH(n){return Object.getPrototypeOf(n.constructor)===Af}(l)?i=l:r=l}),r||i||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function hS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ov(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){rP.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;rP.then(()=>{var l;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function f0(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bs,9),c.Y36(os,10),c.Y36(kd,10),c.Y36(Hl,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([hH]),c.qOj,c.TTD]}),n})(),oP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const vH={provide:bs,useExisting:(0,c.Gpc)(()=>b0)};let b0=(()=>{class n extends bs{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(m0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return ov(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){p0(t.control||null,t,!1),pS(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,KF(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(p0(i||null,t),QF(r)&&(ov(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);WF(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function rH(n,e){return m0(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dS(this.form,this),this._oldForm&&m0(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(os,10),c.Y36(kd,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([vH]),c.qOj,c.TTD]}),n})(),VH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[oP]]}),n})(),BH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[VH]}),n})();var UH=F(515);const DP=xu({passive:!0});let jH=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return UH.E;const i=Sl(t),r=this._monitoredElements.get(i);if(r)return r.subject;const l=new ci.x,d="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,DP),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",f,DP)}}),l}stopMonitoring(t){const i=Sl(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(es),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const GH=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),HH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let $H=0;const zH=qT(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let WH=(()=>{class n extends zH{constructor(t,i,r,l,d,f,_,E,I,R){super(f,l,d,r),this._elementRef=t,this._platform=i,this._autofillMonitor=E,this._formField=R,this._uid="mat-input-"+$H++,this.focused=!1,this.stateChanges=new ci.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Q=>Gc().has(Q)),this._iOSKeyupListener=Q=>{const ce=Q.target;!ce.value&&0===ce.selectionStart&&0===ce.selectionEnd&&(ce.setSelectionRange(1,1),ce.setSelectionRange(0,0))};const G=this._elementRef.nativeElement,K=G.nodeName.toLowerCase();this._inputValueAccessor=_||G,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===K,this._isTextarea="textarea"===K,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=G.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=vr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,l;return null!==(l=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(zG.required))&&void 0!==l&&l}set required(t){this._required=vr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Gc().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=vr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=r,r?l.setAttribute("placeholder",r):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){HH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(es),c.Y36(ac,10),c.Y36(v0,8),c.Y36(b0,8),c.Y36(rD),c.Y36(GH,10),c.Y36(jH),c.Y36(c.R0b),c.Y36(yF,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:iS,useExisting:n}]),c.qOj,c.TTD]}),n})(),qH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[rD],imports:[[xP,sS,$s],xP,sS]}),n})();var jr=F(2011),fm=F(5363);function Ja(n,e){return(0,ts.e)((t,i)=>{let r=null,l=0,d=!1;const f=()=>d&&!r&&i.complete();t.subscribe((0,Xi.x)(i,_=>{null==r||r.unsubscribe();let E=0;const I=l++;(0,zc.Xf)(n(_,I)).subscribe(r=(0,Xi.x)(i,R=>i.next(e?e(_,R,I,E++):R),()=>{r=null,f()}))},()=>{d=!0,f()}))})}var KH=F(6063);class IP extends ci.x{constructor(e=1/0,t=1/0,i=KH.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:l,_windowTime:d}=this;t||(i.push(e),!r&&i.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,l=r.slice();for(let d=0;d<l.length&&!e.closed;d+=i?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,l=(r?1:2)*e;if(e<1/0&&l<i.length&&i.splice(0,i.length-l),!r){const d=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=d;_+=2)f=_;f&&i.splice(0,f+1)}}}function AS(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,Jk.B)({connector:()=>new IP(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}var w0=F(127);const ZH=new c.OlP("angularfire2.functions.origin"),QH=new c.OlP("angularfire2.functions.region"),XH=new c.OlP("angularfire2.functions.use-emulator");let SS=(()=>{class n{constructor(t,i,r,l,d,f,_,E){const I=_,R=_r(void 0).pipe((0,fm.Q)(l.outsideAngular),Ja(()=>F.e(568).then(F.bind(F,7568))),(0,Mn.U)(()=>(0,jr.on)(t,r,i)),(0,Mn.U)(G=>(0,jr.cc)(`${G.name}.functions.${d||f}`,"AngularFireFunctions",G.name,()=>{let K;if(d&&f)throw new Error("REGION and ORIGIN can't be used at the same time.");return K=G.functions(d||f||void 0),I&&K.useEmulator(...I),K},[d,f,I])),AS({bufferSize:1,refCount:!1}));return this.httpsCallable=(G,K)=>Q=>(0,qo.D)(R).pipe((0,fm.Q)(l.insideAngular),Ja(ce=>ce.httpsCallable(G,K)(Q)),(0,Mn.U)(ce=>ce.data)),(0,jr.pX)(this,R,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jr.Dh),c.LFG(jr.xv,8),c.LFG(c.R0b),c.LFG(ln.HU),c.LFG(QH,8),c.LFG(ZH,8),c.LFG(XH,8),c.LFG(Fu,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),JH=(()=>{class n{constructor(){w0.Z.registerVersion("angularfire",ln.q4.full,"fn-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[SS]}),n})();var AP=F(4408);const cv={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=cv;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(l=>{t=void 0,n(l)});return new n0.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=cv;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=cv;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var SP=F(7565);new class t$ extends SP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class e$ extends AP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=cv.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(cv.cancelAnimationFrame(t),e._scheduled=void 0)}});let TS,i$=1;const E0={};function TP(n){return n in E0&&(delete E0[n],!0)}const r$={setImmediate(n){const e=i$++;return E0[e]=!0,TS||(TS=Promise.resolve()),TS.then(()=>TP(e)&&n()),e},clearImmediate(n){TP(n)}},{setImmediate:s$,clearImmediate:o$}=r$,C0={setImmediate(...n){const{delegate:e}=C0;return((null==e?void 0:e.setImmediate)||s$)(...n)},clearImmediate(n){const{delegate:e}=C0;return((null==e?void 0:e.clearImmediate)||o$)(n)},delegate:void 0};new class l$ extends SP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class a$ extends AP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=C0.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(C0.clearImmediate(t),e._scheduled=void 0)}});var d$=F(3532);function MP(n,e=hp.z){return function c$(n){return(0,ts.e)((e,t)=>{let i=!1,r=null,l=null,d=!1;const f=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const E=r;r=null,t.next(E)}d&&t.complete()},_=()=>{l=null,d&&t.complete()};e.subscribe((0,Xi.x)(t,E=>{i=!0,r=E,l||(0,zc.Xf)(n(E)).subscribe(l=(0,Xi.x)(t,f,_))},()=>{d=!0,(!i||!l||l.closed)&&t.complete()}))})}(()=>function f$(n=0,e,t=hp.P){let i=-1;return null!=e&&((0,d$.K)(e)?t=e:i=e),new Va.y(r=>{let l=function h$(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},l)})}(n,e))}let g$=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new ci.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Va.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(MP(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):_r()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Zo(l=>!l||r.indexOf(l)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,l)=>{this._scrollableContainsElement(l,t)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Sl(i),l=t.getElementRef().nativeElement;do{if(r==l)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>l0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(es),c.LFG(re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RP=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new ci.x,this._changeListener=l=>{this._change.next(l)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,l=r.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-l.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(MP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(es),c.LFG(c.R0b),c.LFG(re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),OP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Du,MS],Du,MS]}),n})();class RS{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class y$ extends RS{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class _$ extends RS{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class v$ extends RS{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class w$ extends class b${constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof y$?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof _$?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof v$?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,l){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const f=d.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=l}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let E$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const kP=ZS();class C${constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ri(-this._previousScrollPosition.left),e.style.top=Ri(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,l=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),kP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),kP&&(i.scrollBehavior=l,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class D${constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class FP{enable(){}disable(){}attach(){}}function OS(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function PP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class x${constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();OS(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let I$=(()=>{class n{constructor(t,i,r,l){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new FP,this.close=d=>new D$(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new C$(this._viewportRuler,this._document),this.reposition=d=>new x$(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=l}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(g$),c.LFG(RP),c.LFG(c.R0b),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class A${constructor(e){if(this.scrollStrategy=new FP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class S${constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class T${constructor(e,t,i,r,l,d,f,_,E){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=l,this._keyboardDispatcher=d,this._document=f,this._location=_,this._outsideClickDispatcher=E,this._backdropElement=null,this._backdropClick=new ci.x,this._attachments=new ci.x,this._detachments=new ci.x,this._locationChanges=n0.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new ci.x,this._outsidePointerEvents=new ci.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,r0.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ri(this._config.width),e.height=Ri(this._config.height),e.minWidth=Ri(this._config.minWidth),e.minHeight=Ri(this._config.minHeight),e.maxWidth=Ri(this._config.maxWidth),e.maxHeight=Ri(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=nb(t||[]).filter(l=>!!l);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(co((0,lm.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let NP=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Nm()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let l=0;l<r.length;l++)r[l].remove()}const i=this._document.createElement("div");i.classList.add(t),Nm()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(es))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LP="cdk-overlay-connected-position-bounding-box",M$=/([A-Za-z%]+)$/;class R${constructor(e,t,i,r,l){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ci.x,this._resizeSubscription=n0.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(LP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,l=[];let d;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),E=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(E,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,E,i)?l.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!d||d.overlayFit.visibleArea<I.visibleArea)&&(d={overlayFit:I,overlayPoint:E,originPoint:_,position:f,overlayRect:t})}if(l.length){let f=null,_=-1;for(const E of l){const I=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);I>_&&(_=I,f=E)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Tf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(LP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,l;if("center"==i.originX)r=e.left+e.width/2;else{const d=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?d:f}return t.left<0&&(r-=t.left),l="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(l-=t.top),{x:r,y:l}}_getOverlayPoint(e,t,i){let r,l;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,l="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+l}}_getOverlayFit(e,t,i,r){const l=BP(t);let{x:d,y:f}=e,_=this._getOffset(r,"x"),E=this._getOffset(r,"y");_&&(d+=_),E&&(f+=E);let G=0-f,K=f+l.height-i.height,Q=this._subtractOverflows(l.width,0-d,d+l.width-i.width),ce=this._subtractOverflows(l.height,G,K),Ve=Q*ce;return{visibleArea:Ve,isCompletelyWithinViewport:l.width*l.height===Ve,fitsInViewportVertically:ce===l.height,fitsInViewportHorizontally:Q==l.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,l=i.right-t.x,d=VP(this._overlayRef.getConfig().minHeight),f=VP(this._overlayRef.getConfig().minWidth),E=e.fitsInViewportHorizontally||null!=f&&f<=l;return(e.fitsInViewportVertically||null!=d&&d<=r)&&E}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=BP(t),l=this._viewportRect,d=Math.max(e.x+r.width-l.width,0),f=Math.max(e.y+r.height-l.height,0),_=Math.max(l.top-i.top-e.y,0),E=Math.max(l.left-i.left-e.x,0);let I=0,R=0;return I=r.width<=l.width?E||-d:e.x<this._viewportMargin?l.left-i.left-e.x:0,R=r.height<=l.height?_||-f:e.y<this._viewportMargin?l.top-i.top-e.y:0,this._previousPushAmount={x:I,y:R},{x:e.x+I,y:e.y+R}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new S$(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let l=0;l<t.length;l++)t[l].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let l,d,f,I,R,G;if("top"===t.overlayY)d=e.y,l=i.height-d+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,l=i.height-f+this._viewportMargin;else{const K=Math.min(i.bottom-e.y+i.top,e.y),Q=this._lastBoundingBoxSize.height;l=2*K,d=e.y-K,l>Q&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.y-Q/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)G=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)R=e.x,I=i.right-e.x;else{const K=Math.min(i.right-e.x+i.left,e.x),Q=this._lastBoundingBoxSize.width;I=2*K,R=e.x-K,I>Q&&!this._isInitialRender&&!this._growAfterOpen&&(R=e.x-Q/2)}return{top:d,left:R,bottom:f,right:G,width:I,height:l}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=Ri(i.height),r.top=Ri(i.top),r.bottom=Ri(i.bottom),r.width=Ri(i.width),r.left=Ri(i.left),r.right=Ri(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(r.maxHeight=Ri(l)),d&&(r.maxWidth=Ri(d))}this._lastBoundingBoxSize=i,Tf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Tf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Tf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),l=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();Tf(i,this._getExactOverlayY(t,e,I)),Tf(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",_=this._getOffset(t,"x"),E=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),E&&(f+=`translateY(${E}px)`),i.transform=f.trim(),d.maxHeight&&(r?i.maxHeight=Ri(d.maxHeight):l&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=Ri(d.maxWidth):l&&(i.maxWidth="")),Tf(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":r.top=Ri(l.y),r}_getExactOverlayX(e,t,i){let d,r={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),d=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":r.left=Ri(l.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:PP(e,i),isOriginOutsideView:OS(e,i),isOverlayClipped:PP(t,i),isOverlayOutsideView:OS(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&nb(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Tf(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function VP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(M$);return t&&"px"!==t?null:parseFloat(e)}return n||null}function BP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const UP="cdk-global-overlay-wrapper";class O${constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(UP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:l,maxWidth:d,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),E=!("100%"!==l&&"100vh"!==l||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=E?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(UP),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let k$=(()=>{class n{constructor(t,i,r,l){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=l}global(){return new O$}flexibleConnectedTo(t){return new R$(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(RP),c.LFG(re),c.LFG(es),c.LFG(NP))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F$=(()=>{class n extends jP{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const l=this._attachedOverlays;for(let d=l.length-1;d>-1;d--)if(l[d]._keydownEvents.observers.length>0){const f=l[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P$=(()=>{class n extends jP{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Iu(l)},this._clickListener=l=>{const d=Iu(l),f="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let E=_.length-1;E>-1;E--){const I=_[E];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(d)||I.overlayElement.contains(f))break;const R=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(l)):R.next(l)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(es),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N$=0,kS=(()=>{class n{constructor(t,i,r,l,d,f,_,E,I,R,G){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=l,this._keyboardDispatcher=d,this._injector=f,this._ngZone=_,this._document=E,this._directionality=I,this._location=R,this._outsideClickDispatcher=G}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),l=this._createPortalOutlet(r),d=new A$(t);return d.direction=d.direction||this._directionality.value,new T$(l,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+N$++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new w$(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(I$),c.LFG(NP),c.LFG(c._Vd),c.LFG(k$),c.LFG(F$),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(re),c.LFG(Fm),c.LFG(Me),c.LFG(P$))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const B$={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[kS],useFactory:function V$(n){return()=>n.scrollStrategies.reposition()}};let U$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[kS,B$],imports:[[Du,E$,OP],OP]}),n})();const $$={provide:new c.OlP("mat-tooltip-scroll-strategy"),deps:[kS],useFactory:function H$(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let W$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[$$],imports:[[yb,Wl,U$,$s],$s,MS]}),n})();const FS=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function PS(n,e){const t="object"==typeof e;return new Promise((i,r)=>{let d,l=!1;n.subscribe({next:f=>{d=f,l=!0},error:r,complete:()=>{l?i(d):t?i(e.defaultValue):r(new FS)}})})}class K${constructor(e,t,i,r,l,d){this.adminId=e,this.clienteId=t,this.activo=i,this.nombreCliente=r,this.fecha=l,this.revisadoAdmin=d}}class Y${constructor(e,t,i,r){this.fecha=e,this.mensaje=t,this.nombre=i,this.uid=r}}function Z$(n){return(0,ts.e)((e,t)=>{let i=!1;e.subscribe((0,Xi.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Q$(n=X$){return(0,ts.e)((e,t)=>{let i=!1;e.subscribe((0,Xi.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function X$(){return new FS}function GP(n,e){return(0,Gl.m)(e)?Ja(()=>n,e):Ja(()=>n)}var NS=F(9468);const HP=new c.OlP("angularfire2.auth.use-emulator"),$P=new c.OlP("angularfire2.auth.settings"),zP=new c.OlP("angularfire2.auth.tenant-id"),WP=new c.OlP("angularfire2.auth.langugage-code"),qP=new c.OlP("angularfire2.auth.use-device-language"),KP=new c.OlP("angularfire.auth.persistence"),YP=(n,e,t,i,r,l,d,f)=>(0,jr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,l&&_.useDeviceLanguage(),d)for(const[E,I]of Object.entries(d))_.settings[E]=I;return f&&_.setPersistence(f),_},[t,i,r,l,d,f]);let LS=(()=>{class n{constructor(t,i,r,l,d,f,_,E,I,R,G,K){const Q=new ci.x,ce=_r(void 0).pipe((0,fm.Q)(d.outsideAngular),Ja(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,Mn.U)(()=>(0,jr.on)(t,l,i)),(0,Mn.U)(Ve=>YP(Ve,l,f,E,I,R,_,G)),AS({bufferSize:1,refCount:!1}));if(lr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=_r(null);else{ce.pipe(function J$(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Zo((r,l)=>n(r,l,i)):IC.y,(0,r0.q)(1),t?Z$(e):Q$(()=>new FS))}()).subscribe();const tt=ce.pipe(Ja(ut=>ut.getRedirectResult().then(jt=>jt,()=>null)),ln.iC,AS({bufferSize:1,refCount:!1})),Je=ce.pipe(Ja(ut=>new Va.y(jt=>({unsubscribe:l.runOutsideAngular(()=>ut.onAuthStateChanged(Pt=>jt.next(Pt),Pt=>jt.error(Pt),()=>jt.complete()))})))),$t=ce.pipe(Ja(ut=>new Va.y(jt=>({unsubscribe:l.runOutsideAngular(()=>ut.onIdTokenChanged(Pt=>jt.next(Pt),Pt=>jt.error(Pt),()=>jt.complete()))}))));this.authState=tt.pipe(GP(Je),(0,NS.R)(d.outsideAngular),(0,fm.Q)(d.insideAngular)),this.user=tt.pipe(GP($t),(0,NS.R)(d.outsideAngular),(0,fm.Q)(d.insideAngular)),this.idToken=this.user.pipe(Ja(ut=>ut?(0,qo.D)(ut.getIdToken()):_r(null))),this.idTokenResult=this.user.pipe(Ja(ut=>ut?(0,qo.D)(ut.getIdTokenResult()):_r(null))),this.credential=(0,lm.T)(tt,Q,this.authState.pipe(Zo(ut=>!ut))).pipe((0,Mn.U)(ut=>(null==ut?void 0:ut.user)?ut:null),(0,NS.R)(d.outsideAngular),(0,fm.Q)(d.insideAngular))}return(0,jr.pX)(this,ce,l,{spy:{apply:(Ve,tt,Je)=>{(Ve.startsWith("signIn")||Ve.startsWith("createUser"))&&Je.then($t=>Q.next($t))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jr.Dh),c.LFG(jr.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ln.HU),c.LFG(HP,8),c.LFG($P,8),c.LFG(zP,8),c.LFG(WP,8),c.LFG(qP,8),c.LFG(KP,8),c.LFG(Fu,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function VS(){return(0,ts.e)((n,e)=>{let t,i=!1;n.subscribe((0,Xi.x)(e,r=>{const l=t;t=r,i&&e.next([l,r]),i=!0}))})}function tz(n,e,t,i,r){return(l,d)=>{let f=t,_=e,E=0;l.subscribe((0,Xi.x)(d,I=>{const R=E++;_=f?n(_,I,R):(f=!0,I),i&&d.next(_)},r&&(()=>{f&&d.next(_),d.complete()})))}}function BS(n,e){return(0,ts.e)(tz(n,e,arguments.length>=2,!0))}F(5881);var nz=F(3942);function US(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function ZP(){if("undefined"==typeof Uint8Array)throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function QP(){if(!function zx(){return"undefined"!=typeof atob}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}class dv{constructor(e){this._delegate=e}static fromBase64String(e){return QP(),new dv(jl.fromBase64String(e))}static fromUint8Array(e){return ZP(),new dv(jl.fromUint8Array(e))}toBase64(){return QP(),this._delegate.toBase64()}toUint8Array(){return ZP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jS(n){return function sz(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class oz{enableIndexedDbPersistence(e,t){return function mV(n,e){GO(n=cn(n,ri));const t=zi(n),i=n._freezeSettings(),r=new AA;return jO(t,r,new CO(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function yV(n){GO(n=cn(n,ri));const e=zi(n),t=n._freezeSettings(),i=new AA;return jO(e,i,new QL(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _V(n){if(n._initialized&&!n._terminated)throw new ke(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(i){if(!Qa.vt())return Promise.resolve();const r=i+"main";yield Qa.delete(r)}),function(i){return t.apply(this,arguments)})(vI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class XP{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof na||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function cV(n,e,t,i={}){var r;const l=(n=cn(n,Z_))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&zu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let d,f;if("string"==typeof i.mockUserToken)d=i.mockUserToken,f=wi.MOCK_USER;else{d=(0,Qt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ke(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new wi(_)}n._authCredentials=new WM(new Bx(d,f))}}(this._delegate,e,t,i)}enableNetwork(){return function bV(n){return function nV(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield AO(n),t=yield SO(n);return e.setNetworkEnabled(!0),function(i){const r=Xe(i);return r.lu.delete(0),K_(r)}(t)}))}(zi(n=cn(n,ri)))}(this._delegate)}disableNetwork(){return function wV(n){return function iV(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield AO(n),t=yield SO(n);return e.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const l=Xe(r);l.lu.add(0),yield Jg(l),l._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(zi(n=cn(n,ri)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,OO("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vV(n){return function(e){const t=new Gi;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function BL(n,e){return dA.apply(this,arguments)}(yield FA(e),t)})),t.promise}(zi(n=cn(n,ri)))}(this._delegate)}onSnapshotsInSync(e){return function XV(n,e){return function oV(n,e){const t=new GE(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield om(n),r=t,Xe(i).Tu.add(r),void r.next();var i,r})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield om(n),r=t,void Xe(i).Tu.delete(r);var i,r}))}}(zi(n=cn(n,ri)),LA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pm(this,LO(this._delegate,e))}catch(t){throw ws(t,"collection()","Firestore.collection()")}}doc(e){try{return new sa(this,zE(this._delegate,e))}catch(t){throw ws(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Es(this,function dV(n,e){if(n=cn(n,Z_),NA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(n,null,(t=e,new Vl(sn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ws(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function eB(n,e){return function aV(n,e){const t=new Gi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const i=yield(r=n,HE(r).then(l=>l.datastore));var r;new eV(n.asyncQueue,i,e,t).run()})),t.promise}(zi(n=cn(n,ri)),t=>e(new JV(n,t)))}(this._delegate,t=>e(new JP(this,t)))}batch(){return zi(this._delegate),new eN(new sk(this._delegate,e=>am(this._delegate,e)))}loadBundle(e){return function EV(n,e){const t=zi(n=cn(n,ri)),i=new fV;return function lV(n,e,t,i){const r=function(l,d){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,E){if(_ instanceof Uint8Array)return DO(_,E);if(_ instanceof ArrayBuffer)return DO(new Uint8Array(_),E);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new XL(_,d);var _}(t,q_(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function ZL(n,e,t){const i=Xe(n);var r;(r=(0,ve.Z)(function*(l,d,f){try{const _=yield d.getMetadata();if(yield function(G,K){const Q=Xe(G),ce=Er(K.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",Ve=>Q.ds.getBundleMetadata(Ve,K.id)).then(Ve=>!!Ve&&Ve.createTime.compareTo(ce)>=0)}(l.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(G=_).totalDocuments,bytesLoaded:G.totalBytes,totalDocuments:G.totalDocuments,totalBytes:G.totalBytes}),Promise.resolve(new Set);f._updateProgress(fO(_));const E=new TL(_,l.localStore,d.M);let I=yield d.fa();for(;I;){const G=yield E.Nu(I);G&&f._updateProgress(G),I=yield d.fa()}const R=yield E.complete();return yield nc(l,R.Ou,void 0),yield function(G,K){const Q=Xe(G);return Q.persistence.runTransaction("Save bundle","readwrite",ce=>Q.ds.saveBundleMetadata(ce,K))}(l.localStore,_),f._completeWith(R.progress),Promise.resolve(R.Mu)}catch(_){return zu("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var G}),function(l,d,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield FA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function CV(n,e){return function uV(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,i){const r=Xe(t);return r.persistence.runTransaction("Get named query","readonly",l=>r.ds.getNamedQuery(l,i))}(yield kA(n),e)}))}(zi(n=cn(n,ri)),e).then(t=>t?new ss(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Es(this,t):null)}}class D0 extends HA{constructor(e){super(),this.firestore=e}convertBytes(e){return new dv(new jl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return sa.forKey(t,this.firestore,null)}}class JP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new D0(e)}get(e){const t=Rf(e);return this._delegate.get(t).then(i=>new hv(this._firestore,new rc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Rf(e);return i?(US("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const l=Rf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,i,...r),this}delete(e){const t=Rf(e);return this._delegate.delete(t),this}}class eN{constructor(e){this._delegate=e}set(e,t,i){const r=Rf(e);return i?(US("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const l=Rf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,i,...r),this}delete(e){const t=Rf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Mf{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new J_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fv(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Mf.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let l=r.get(t);return l||(l=new Mf(e,new D0(e),t),r.set(t,l)),l}}Mf.INSTANCES=new WeakMap;class sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new D0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new sa(t,new Zn(t._delegate,i,new $e(e)))}static forKey(e,t,i){return new sa(t,new Zn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new pm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pm(this.firestore,LO(this._delegate,e))}catch(t){throw ws(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qt.m9)(e))instanceof Zn&&VO(this._delegate,e)}set(e,t){t=US("DocumentReference.set",t);try{return t?ok(this._delegate,e,t):ok(this._delegate,e)}catch(i){throw ws(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?ak(this._delegate,e):ak(this._delegate,e,t,...i)}catch(r){throw ws(r,"updateDoc()","DocumentReference.update()")}}delete(){return function ZV(n){return am(cn(n.firestore,ri),[new O_(n._key,kt.none())])}(this._delegate)}onSnapshot(...e){const t=tN(e),i=nN(e,r=>new hv(this.firestore,new rc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return lk(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function zV(n){n=cn(n,Zn);const e=cn(n.firestore,ri),t=zi(e),i=new Df(e);return function rV(n,e){const t=new Gi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,l,d){try{const f=yield function(_,E){const I=Xe(_);return I.persistence.runTransaction("read document","readonly",R=>I.ai.Bs(R,E))}(r,l);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new ke(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=nm(f,`Failed to get document '${l} from cache`);d.reject(_)}}),function(r,l,d){return i.apply(this,arguments)})(yield kA(n),e,t);var i})),t.promise}(t,n._key).then(r=>new rc(e,i,n._key,r,new Cf(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function WV(n){n=cn(n,Zn);const e=cn(n.firestore,ri);return TO(zi(e),n._key,{source:"server"}).then(t=>$A(e,n,t))}(this._delegate):function $V(n){n=cn(n,Zn);const e=cn(n.firestore,ri);return TO(zi(e),n._key).then(t=>$A(e,n,t))}(this._delegate),t.then(i=>new hv(this.firestore,new rc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new sa(this.firestore,this._delegate.withConverter(e?Mf.getInstance(this.firestore,e):null))}}function ws(n,e,t){return n.message=n.message.replace(e,t),n}function tN(n){for(const e of n)if("object"==typeof e&&!jS(e))return e;return{}}function nN(n,e){var t,i;let r;return r=jS(n[0])?n[0]:jS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{r.next&&r.next(e(l))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class hv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ZO(this._delegate,e._delegate)}}class fv extends hv{data(e){const t=this._delegate.data(e);return function $M(n,e){n||lt()}(void 0!==t),t}}class Es{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new D0(e)}where(e,t,i){try{return new Es(this.firestore,Sd(this._delegate,function FV(n,e,t){const i=e,r=QE("where",n);return new kV(r,i,t)}(e,t,i)))}catch(r){throw ws(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Es(this.firestore,Sd(this._delegate,function NV(n,e="asc"){const t=e,i=QE("orderBy",n);return new PV(i,t)}(e,t)))}catch(i){throw ws(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Es(this.firestore,Sd(this._delegate,function LV(n){return PO("limit",n),new XO("limit",n,"F")}(e)))}catch(t){throw ws(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Es(this.firestore,Sd(this._delegate,function VV(n){return PO("limitToLast",n),new XO("limitToLast",n,"L")}(e)))}catch(t){throw ws(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Es(this.firestore,Sd(this._delegate,function BV(...n){return new JO("startAt",n,!0)}(...e)))}catch(t){throw ws(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Es(this.firestore,Sd(this._delegate,function UV(...n){return new JO("startAfter",n,!1)}(...e)))}catch(t){throw ws(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Es(this.firestore,Sd(this._delegate,function jV(...n){return new ek("endBefore",n,!1)}(...e)))}catch(t){throw ws(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Es(this.firestore,Sd(this._delegate,function GV(...n){return new ek("endAt",n,!0)}(...e)))}catch(t){throw ws(t,"endAt()","Query.endAt()")}}isEqual(e){return BO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function KV(n){n=cn(n,ss);const e=cn(n.firestore,ri),t=zi(e),i=new Df(e);return function sV(n,e){const t=new Gi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,l,d){try{const f=yield NE(r,l,!0),_=new mO(l,f.hi),E=_.Gu(f.documents),I=_.applyChanges(E,!1);d.resolve(I.snapshot)}catch(f){const _=nm(f,`Failed to execute query '${l} against cache`);d.reject(_)}}),function(r,l,d){return i.apply(this,arguments)})(yield kA(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Ad(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function YV(n){n=cn(n,ss);const e=cn(n.firestore,ri),t=zi(e),i=new Df(e);return MO(t,n._query,{source:"server"}).then(r=>new Ad(e,i,n,r))}(this._delegate):function qV(n){n=cn(n,ss);const e=cn(n.firestore,ri),t=zi(e),i=new Df(e);return QO(n._query),MO(t,n._query).then(r=>new Ad(e,i,n,r))}(this._delegate),t.then(i=>new GS(this.firestore,new Ad(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=tN(e),i=nN(e,r=>new GS(this.firestore,new Ad(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return lk(this._delegate,t,i)}withConverter(e){return new Es(this.firestore,this._delegate.withConverter(e?Mf.getInstance(this.firestore,e):null))}}class lz{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new fv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class GS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Es(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new fv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new lz(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new fv(this._firestore,i))})}isEqual(e){return ZO(this._delegate,e._delegate)}}class pm extends Es{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new sa(this.firestore,e):null}doc(e){try{return new sa(this.firestore,void 0===e?zE(this._delegate):zE(this._delegate,e))}catch(t){throw ws(t,"doc()","CollectionReference.doc()")}}add(e){return function QV(n,e){const t=cn(n.firestore,ri),i=zE(n),r=XE(n.converter,e);return am(t,[KE(wf(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,kt.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new sa(this.firestore,t))}isEqual(e){return VO(this._delegate,e._delegate)}withConverter(e){return new pm(this.firestore,this._delegate.withConverter(e?Mf.getInstance(this.firestore,e):null))}}function Rf(n){return cn(n,Zn)}class HS{constructor(...e){this._delegate=new ic(...e)}static documentId(){return new HS(Ei.keyField().canonicalString())}isEqual(e){return(e=(0,Qt.m9)(e))instanceof ic&&this._delegate._internalPath.isEqual(e._internalPath)}}class Of{constructor(e){this._delegate=e}static serverTimestamp(){const e=function nB(){return new VA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Of(e)}static delete(){const e=function tB(){return new Q_("deleteField")}();return e._methodName="FieldValue.delete",new Of(e)}static arrayUnion(...e){const t=function iB(...n){return new AV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Of(t)}static arrayRemove(...e){const t=function rB(...n){return new SV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Of(t)}static increment(e){const t=function sB(n){return new TV("increment",n)}(e);return t._methodName="FieldValue.increment",new Of(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uz={Firestore:XP,GeoPoint:WE,Timestamp:Kn,Blob:dv,Transaction:JP,WriteBatch:eN,DocumentReference:sa,DocumentSnapshot:hv,Query:Es,QueryDocumentSnapshot:fv,QuerySnapshot:GS,CollectionReference:pm,FieldPath:HS,FieldValue:Of,setLogLevel:function az(n){!function eE(n){Wa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function iN(n,e){return function hz(n,e=hp.z){return new Va.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function $S(n,e){return iN(n,e).pipe((0,Mn.U)(t=>({payload:t,type:"query"})))}function x0(n,e){return $S(n,e).pipe(dm(void 0),VS(),(0,Mn.U)(([t,i])=>{const r=i.payload.docChanges(),l=r.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,f)=>{const _=r.find(I=>I.doc.ref.isEqual(d.ref)),E=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),l}))}function rN(n,e,t){return x0(n,t).pipe(BS((i,r)=>function pz(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function gz(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return zS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zS(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(l=>l.payload),e),[]),$m(),(0,Mn.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function zS(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function sN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function dz(n){(function cz(n,e){n.INTERNAL.registerComponent(new ed.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},uz)))})(n,(e,t)=>new XP(e,t,new oz)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(nz.Z);class oN{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=x0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Mn.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(dm(void 0),VS(),Zo(([i,r])=>r.length>0||!i),(0,Mn.U)(([i,r])=>r),ln.iC)}auditTrail(e){return this.stateChanges(e).pipe(BS((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=sN(e);return rN(this.query,t,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return $S(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mn.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),ln.iC)}get(e){return(0,qo.D)(this.query.get(e)).pipe(ln.iC)}add(e){return this.ref.add(e)}doc(e){return new aN(this.ref.doc(e),this.afs)}}class aN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:l}=lN(i,t);return new oN(r,l,this.afs)}snapshotChanges(){return function fz(n,e){return iN(n,e).pipe(dm(void 0),VS(),(0,Mn.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Mn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,qo.D)(this.ref.get(e)).pipe(ln.iC)}}class mz{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?x0(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mn.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Zo(t=>t.length>0),ln.iC):x0(this.query,this.afs.schedulers.outsideAngular).pipe(ln.iC)}auditTrail(e){return this.stateChanges(e).pipe(BS((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=sN(e);return rN(this.query,t,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return $S(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mn.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),ln.iC)}get(e){return(0,qo.D)(this.query.get(e)).pipe(ln.iC)}}const yz=new c.OlP("angularfire2.enableFirestorePersistence"),_z=new c.OlP("angularfire2.firestore.persistenceSettings"),vz=new c.OlP("angularfire2.firestore.settings"),bz=new c.OlP("angularfire2.firestore.use-emulator");function lN(n,e=(t=>t)){return{query:e(n),ref:n}}let uN=(()=>{class n{constructor(t,i,r,l,d,f,_,E,I,R,G,K,Q,ce,Ve,tt,Je){this.schedulers=_;const $t=(0,jr.on)(t,f,i),ut=I;R&&YP($t,f,G,Q,ce,Ve,K,tt),[this.firestore,this.persistenceEnabled$]=(0,jr.cc)(`${$t.name}.firestore`,"AngularFirestore",$t.name,()=>{const jt=f.runOutsideAngular(()=>$t.firestore());if(l&&jt.settings(l),ut&&jt.useEmulator(...ut),r&&!lr(d)){const Pt=()=>{try{return(0,qo.D)(jt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(Hn){return"undefined"!=typeof console&&console.warn(Hn),_r(!1)}};return[jt,f.runOutsideAngular(Pt)]}return[jt,_r(!1)]},[l,ut,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=lN(r,i),f=this.schedulers.ngZone.run(()=>l);return new oN(f,d,this)}collectionGroup(t,i){const r=i||(d=>d),l=this.firestore.collectionGroup(t);return new mz(r(l),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new aN(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jr.Dh),c.LFG(jr.xv,8),c.LFG(yz,8),c.LFG(vz,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ln.HU),c.LFG(_z,8),c.LFG(bz,8),c.LFG(LS,8),c.LFG(HP,8),c.LFG($P,8),c.LFG(zP,8),c.LFG(WP,8),c.LFG(qP,8),c.LFG(KP,8),c.LFG(Fu,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),wz=(()=>{class n{constructor(t,i){this.auth=t,this.afs=i,this.auth.authState.subscribe(r=>{r?(this.userData=r,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):localStorage.removeItem("user")})}GoogleAuth(){return this.AuthLogin(new w0.Z.auth.GoogleAuthProvider).then(t=>t||null)}AuthLogin(t){return this.auth.signInWithPopup(t).then(i=>(this.SetUserData(i.user),i.user.uid)).catch(i=>{window.alert(i)})}SetUserData(t){try{const i=this.afs.doc(`users/${t.uid}`),r={uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL};return localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user")),i.set(r,{merge:!0})}catch(i){return i}}SignOut(){return this.auth.signOut().then(()=>{localStorage.removeItem("user")})}get uid(){try{let t=JSON.parse(localStorage.getItem("user"))||null;return t?t.uid:null}catch(t){return null}}get nombre(){let t=JSON.parse(localStorage.getItem("user"))||null;return t?t.displayName:null}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(LS),c.LFG(uN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ez=(()=>{class n{constructor(t){this.afs=t}listaDeChats(t){return this.afs.doc(`ChatRoom/${t}`).collection("Chats",i=>i.orderBy("fecha","asc")).valueChanges()}existeChatRoom(t){var i=this;return(0,ve.Z)(function*(){return(yield PS(i.afs.collection("ChatRoom").doc(t).get())).exists})()}crearChatRoom(t,i){var r=this;return(0,ve.Z)(function*(){try{return yield r.afs.collection("ChatRoom").doc(t).set({adminId:i.adminId,clienteId:i.clienteId,activo:i.activo,nombreCliente:i.nombreCliente,revisadoAdmin:!1,fecha:w0.Z.firestore.FieldValue.serverTimestamp()}),!0}catch(l){return!1}})()}actualizarRAChatRoom(t){var i=this;return(0,ve.Z)(function*(){try{return yield i.afs.collection("ChatRoom").doc(t).set({revisadoAdmin:!1},{merge:!0}),!0}catch(r){return!1}})()}agregarMensaje(t,i){return this.afs.doc(`ChatRoom/${i}`).collection("Chats").add({fecha:w0.Z.firestore.FieldValue.serverTimestamp(),mensaje:t.mensaje,nombre:t.nombre,uid:t.uid})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(uN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cz=["scrollMe"],Dz=["empty"];function xz(n,e){1&n&&c.GkF(0)}function Iz(n,e){if(1&n&&(c.TgZ(0,"div",24)(1,"p"),c._uU(2),c.qZA()()),2&n){const t=c.oxw(2).$implicit;c.xp6(2),c.Oqu(t.nombre)}}function Az(n,e){if(1&n&&(c.TgZ(0,"div",20),c.YNc(1,Iz,3,1,"div",21),c.TgZ(2,"div",22),c._uU(3),c.TgZ(4,"div",23)(5,"p"),c._uU(6),c.ALo(7,"date"),c.qZA()()()()),2&n){const t=c.oxw(),i=t.$implicit,r=t.index,l=c.oxw().ngIf;c.xp6(1),c.Q6J("ngIf",i.uid!==l[r-1].uid),c.xp6(2),c.hij(" ",i.mensaje," "),c.xp6(3),c.Oqu(c.xi3(7,3,1e3*i.fecha.seconds,"short"))}}function Sz(n,e){if(1&n&&(c.TgZ(0,"div",25)(1,"div",26)(2,"p"),c._uU(3),c.qZA()()()),2&n){const t=c.oxw().$implicit;c.xp6(3),c.Oqu(t.mensaje)}}function Tz(n,e){if(1&n&&(c.TgZ(0,"li",16),c.YNc(1,xz,1,0,"ng-container",17),c.YNc(2,Az,8,6,"ng-template",null,18,c.W1O),c.YNc(4,Sz,4,1,"ng-template",null,19,c.W1O),c.qZA()),2&n){const t=e.$implicit,i=c.MAs(3),r=c.MAs(5),l=c.oxw(3);c.xp6(1),c.Q6J("ngIf",l.uid!==t.uid)("ngIfThen",i)("ngIfElse",r)}}function Mz(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Tz,6,3,"li",15),c.BQk()),2&n){const t=e.ngIf;c.xp6(1),c.Q6J("ngForOf",t)}}function Rz(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",27),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).enviar_mensaje()}),c.TgZ(1,"mat-icon"),c._uU(2,"send"),c.qZA()()}}const Oz=function(){return{standalone:!0}};function kz(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"div",4)(2,"div",5),c.NdJ("click",function(){return c.CHM(t),c.oxw().closeForm()}),c.TgZ(3,"h2"),c._uU(4,"Hola!"),c.qZA(),c.TgZ(5,"mat-icon",6),c.NdJ("click",function(){return c.CHM(t),c.oxw().logout()}),c._uU(6,"logout"),c.qZA()(),c.TgZ(7,"div",7,8),c.YNc(9,Mz,2,1,"ng-container",9),c.ALo(10,"async"),c.TgZ(11,"div",10,11),c._uU(13,"----"),c.qZA()(),c.TgZ(14,"mat-form-field",12)(15,"mat-label"),c._uU(16,"Enviar mensaje"),c.qZA(),c.TgZ(17,"input",13),c.NdJ("ngModelChange",function(r){return c.CHM(t),c.oxw().mensaje=r})("keyup.enter",function(){return c.CHM(t),c.oxw().enviar_mensaje()}),c.qZA(),c.YNc(18,Rz,3,0,"button",14),c.qZA()(),c.BQk()}if(2&n){const t=c.oxw();c.xp6(9),c.Q6J("ngIf",c.lcZ(10,4,t.chats$)),c.xp6(8),c.Q6J("ngModel",t.mensaje)("ngModelOptions",c.DdM(6,Oz)),c.xp6(1),c.Q6J("ngIf",t.mensaje)}}function Fz(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"button",28),c.NdJ("click",function(){return c.CHM(t),c.oxw().login()}),c._uU(2," Log in with Google "),c.qZA(),c.TgZ(3,"button",29),c.NdJ("click",function(){return c.CHM(t),c.oxw().closeForm()}),c._uU(4," Close "),c.qZA()()}}let cN=(()=>{class n{constructor(t,i,r){this.AS=t,this.dbs=i,this.fns=r,this.visible=!1,this.mensaje="",this.comment={},this.empty={},this.scrolltop=0,this.adminId="YMhxHtHXFGcAXmCn7DFbv06a8s83",this.source="https://firebasestorage.googleapis.com/v0/b/paginas-clientes-4fe76.appspot.com/o/Short%20Marimba%20Notification%20Ding.mp3?alt=media&token=4f00f7a9-8d9e-4bea-b944-787d77b24d38",this.sendNotificationCallable=this.fns.httpsCallable("sendChatNotification")}ngAfterViewChecked(){void 0!==this.comment&&0===this.comment.nativeElement.scrollTop&&this.scrollToBottom()}ngOnInit(){var t=this;return(0,ve.Z)(function*(){t.uid=t.AS.uid,t.idChatRoom=t.uid+"-"+t.adminId,t.chats$=t.dbs.listaDeChats(t.idChatRoom).pipe((0,nv.b)(i=>{t.scrollToBottom(),t.empty.nativeElement.scrollIntoView({behavior:"smooth"}),i[i.length-1].uid===t.adminId&&new Audio(t.source).play()})),t.chatRoomExist=yield t.dbs.existeChatRoom(t.idChatRoom),t.scrollToBottom()})()}openForm(){this.visible=!0}closeForm(){this.visible=!1}enviar_mensaje(){var t=this;return(0,ve.Z)(function*(){if(0===t.mensaje.length)return;let i=new Y$;if(i.fecha=new Date,i.mensaje=t.mensaje,i.uid=t.uid,i.nombre=t.AS.nombre,t.chatRoomExist)t.dbs.agregarMensaje(i,t.idChatRoom).then((0,ve.Z)(function*(){t.mensaje="",t.scrollToBottom(),yield t.dbs.actualizarRAChatRoom(t.idChatRoom),yield PS(t.sendNotificationCallable({adminId:t.adminId,messagetitle:"Nuevo chat",messagebody:`${t.AS.nombre} te ha enviado un nuevo mensaje`,idchat:t.idChatRoom}))})).catch(r=>console.error("Error al enviar",r));else{const r=new K$(t.adminId,t.uid,!0,t.AS.nombre,null),l=yield t.dbs.crearChatRoom(t.idChatRoom,r);t.chatRoomExist=l,t.dbs.agregarMensaje(i,t.idChatRoom).then((0,ve.Z)(function*(){t.scrollToBottom(),t.mensaje="",yield PS(t.sendNotificationCallable({adminId:t.adminId,messagetitle:"Nueva solicitud de chat",messagebody:`${t.AS.nombre} ha solicitado informacion`,idchat:t.idChatRoom}))})).catch(d=>console.error("Error al enviar",d))}})()}logout(){var t=this;return(0,ve.Z)(function*(){yield t.AS.SignOut()})()}login(){var t=this;return(0,ve.Z)(function*(){const i=yield t.AS.GoogleAuth();i&&(t.uid=i,t.idChatRoom=t.uid+"-YMhxHtHXFGcAXmCn7DFbv06a8s83",t.chatRoomExist=yield t.dbs.existeChatRoom(t.idChatRoom),t.chats$=t.dbs.listaDeChats(t.idChatRoom))})()}tooltipfecha(t){const i=new rl("en-US").transform(1e3*t.seconds,"MMMM d, y, h:mm a");return null!=i?i:""}scrollToBottom(){try{this.comment.nativeElement.scrollTop=this.comment.nativeElement.scrollHeight}catch(t){}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(wz),c.Y36(Ez),c.Y36(SS))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-chat-pop-up"]],viewQuery:function(t,i){if(1&t&&(c.Gf(Cz,5),c.Gf(Dz,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.comment=r.first),c.iGM(r=c.CRH())&&(i.empty=r.first)}},inputs:{adminId:"adminId"},decls:7,vars:4,consts:[["mat-fab","",3,"ngClass","click"],[3,"ngClass"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["fxLayout","column","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header",3,"click"],[3,"click"],[1,"mesgs"],["scrollMe",""],[4,"ngIf"],[2,"color","transparent"],["empty",""],["color","accent","appearance","fill"],["matInput","","type","text","autocomplete","off",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["class","message",4,"ngFor","ngForOf"],[1,"message"],[4,"ngIf","ngIfThen","ngIfElse"],["incoming_msg",""],["outgoing_msg",""],[1,"message-box-holder"],["class","message-sender",4,"ngIf"],[1,"message-box","message-partner"],[1,"message-sender-date"],[1,"message-sender"],[1,"outgoing_msg"],[1,"sent_msg"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["type","button",1,"btn",3,"click"],["type","button",1,"btn","cancel",3,"click"]],template:function(t,i){if(1&t&&(c.TgZ(0,"button",0),c.NdJ("click",function(){return i.openForm()}),c.TgZ(1,"mat-icon"),c._uU(2,"chat"),c.qZA()(),c.TgZ(3,"div",1),c.YNc(4,kz,19,7,"ng-container",2),c.YNc(5,Fz,5,0,"ng-template",null,3,c.W1O),c.qZA()),2&t){const r=c.MAs(6);c.Q6J("ngClass",!1===i.visible?"open-button visible":"open-button no-visible"),c.xp6(3),c.Q6J("ngClass",!0===i.visible?"chat-popup visible":"chat-popup no-visible"),c.xp6(1),c.Q6J("ngIf",null!==i.AS.uid)("ngIfElse",r)}},directives:[Jc,or,Sk,iG,Ti,Pk,Vk,Uk,li,BG,rS,WH,u0,HF,wS,PG],pipes:[Nd,rl],styles:['@import"https://fonts.googleapis.com/icon?family=Material+Icons+Round";.open-button[_ngcontent-%COMP%]{background-color:#555;color:#fff;opacity:.8;top:auto!important;right:20px!important;bottom:10px!important;left:auto!important;position:fixed!important}.chat-popup[_ngcontent-%COMP%]{position:fixed;bottom:0;right:15px;z-index:9}.btn[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff;padding:16px 20px;border:none;cursor:pointer;width:100%;margin-bottom:10px;opacity:.8}.cancel[_ngcontent-%COMP%]{background-color:red}.visible[_ngcontent-%COMP%]{display:block}.no-visible[_ngcontent-%COMP%]{position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0}.mesgs[_ngcontent-%COMP%]{float:left;background-color:#ffffff46;height:200px;overflow-y:scroll}@media only screen and (max-width: 600px){.mesgs[_ngcontent-%COMP%]{width:80%}}@media only screen and (min-width: 600px){.mesgs[_ngcontent-%COMP%]{width:80%}}@media only screen and (min-width: 768px){.mesgs[_ngcontent-%COMP%]{width:500px}}@media only screen and (min-width: 992px){.mesgs[_ngcontent-%COMP%]{width:300px}}@media only screen and (min-width: 1200px){.mesgs[_ngcontent-%COMP%]{width:450px}}.sent_msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#a364bd none repeat scroll 0 0;border-radius:3px;font-size:14px;margin:0;color:#fff;padding:5px 10px 5px 12px;width:100%}.outgoing_msg[_ngcontent-%COMP%]{overflow:hidden;margin:26px 0}.sent_msg[_ngcontent-%COMP%]{float:right;width:46%;overflow-wrap:anywhere}.header[_ngcontent-%COMP%]{background-color:#b500d5;color:#fff;padding:10px}.message[_ngcontent-%COMP%]{list-style-type:none}.message-box-holder[_ngcontent-%COMP%]{width:100%;margin:0 0 15px;display:flex;flex-flow:column;align-items:flex-start}p[_ngcontent-%COMP%]{color:#30649c;text-decoration:none}.message-partner[_ngcontent-%COMP%]{background:rgba(0,114,135,.1);border:2px solid rgba(0,114,135,.1);align-self:flex-start}.message-box[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px 0;position:relative;background:rgba(100,170,0,.1);border:2px solid rgba(100,170,0,.1);color:#6c6c6c;font-size:12px;overflow-wrap:anywhere}.message-sender[_ngcontent-%COMP%]{font-size:12px;color:#30649c;align-self:flex-start}.message-sender-date[_ngcontent-%COMP%]{font-size:8px;color:#4a79ac28;align-self:flex-start;position:relative}']}),n})();const I0={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if("undefined"==typeof window)return I0.schedule(n,0);if(void 0===window.requestAnimationFrame)return I0.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let WS;function Hz(n,e,t){let i=t;return function Nz(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((r,l)=>!("*"===r||!function Vz(n,e){if(!WS){const t=Element.prototype;WS=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&WS.call(n,e)}(n,r)||(i=l,0))),i}class zz{constructor(e,t){this.componentFactory=t.get(c._Vd).resolveComponentFactory(e)}create(e){return new Wz(this.componentFactory,e)}}class Wz{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new IP(1),this.events=this.eventEmitters.pipe(Ja(i=>(0,lm.T)(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(c.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=I0.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t){this.runInZone(()=>{null!==this.componentRef?function Bz(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=c.zs3.create({providers:[],parent:this.injector}),i=function Gz(n,e){const t=n.childNodes,i=e.map(()=>[]);let r=-1;e.some((l,d)=>"*"===l&&(r=d,!0));for(let l=0,d=t.length;l<d;++l){const f=t[l],_=Hz(f,e,r);-1!==_&&i[_].push(f)}return i}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(c.sBO),this.implementsOnChanges=function Lz(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(c.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe((0,Mn.U)(d=>({name:r,value:d}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=I0.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[e];if(i)return void(i.currentValue=t);const r=this.unchangedInputs.has(e),l=r?void 0:this.getInputValue(e);this.inputChanges[e]=new c.WD2(l,t,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class qz extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function dN(n,e){const t=function jz(n,e){return e.get(c._Vd).resolveComponentFactory(n).inputs}(n,e.injector),i=e.strategyFactory||new zz(n,e.injector),r=function Uz(n){const e={};return n.forEach(({propName:t,templateName:i})=>{e[function Pz(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(i)]=t}),e}(t);class l extends qz{constructor(f){super(),this.injector=f}get ngElementStrategy(){if(!this._ngElementStrategy){const f=this._ngElementStrategy=i.create(this.injector||e.injector);t.forEach(({propName:_})=>{if(!this.hasOwnProperty(_))return;const E=this[_];delete this[_],f.setInputValue(_,E)})}return this._ngElementStrategy}attributeChangedCallback(f,_,E,I){this.ngElementStrategy.setInputValue(r[f],E)}connectedCallback(){let f=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),f=!0),this.ngElementStrategy.connect(this),f||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(f=>{const _=new CustomEvent(f.name,{detail:f.value});this.dispatchEvent(_)})}}return l.observedAttributes=Object.keys(r),t.forEach(({propName:d})=>{Object.defineProperty(l.prototype,d,{get(){return this.ngElementStrategy.getInputValue(d)},set(f){this.ngElementStrategy.setInputValue(d,f)},configurable:!0,enumerable:!0})}),l}let Kz=(()=>{class n{constructor(t){this.injector=t}ngDoBootstrap(){const t=dN(wc,{injector:this.injector});customElements.define("app-comp",t);const i=dN(cN,{injector:this.injector});customElements.define("chat-pop-up",i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[Ms,$0,xb,rG,sS,qH,jr.hO.initializeApp(Mb_firebase),Tb(()=>mD(Mb_firebase)),$D(()=>zD()),hB(()=>fB()),JH,Dj,W$,BH]]}),n})();c.B6R(wc,[cN],[]),(0,c.G48)(),ga().bootstrapModule(Kz).catch(n=>console.error(n))},5867:(ct,Ae,F)=>{F.d(Ae,{Mq:()=>c.getApp,C6:()=>c.getApps,ZF:()=>c.initializeApp,KN:()=>c.registerVersion});var c=F(9681);(0,c.registerVersion)("firebase","9.6.10","app")},127:(ct,Ae,F)=>{F.d(Ae,{Z:()=>c.Z});var c=F(3942);c.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(ct,Ae,F)=>{F.r(Ae);var c=F(5861),H=F(3942),k=F(424),ae=F(2090),re=(F(9681),F(1877),F(4859));function he(){return window}function z(){return(z=(0,c.Z)(function*(P,V,j){var ue;const{BuildInfo:je}=he();(0,k.ap)(V.sessionId,"AuthEvent did not contain a session ID");const Ke=yield De(V.sessionId),Et={};return(0,k.aq)()?Et.ibi=je.packageName:(0,k.ar)()?Et.apn=je.packageName:(0,k.as)(P,"operation-not-supported-in-this-environment"),je.displayName&&(Et.appDisplayName=je.displayName),Et.sessionId=Ke,(0,k.at)(P,j,V.type,void 0,null!==(ue=V.eventId)&&void 0!==ue?ue:void 0,Et)})).apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(P){const{BuildInfo:V}=he(),j={};(0,k.aq)()?j.iosBundleId=V.packageName:(0,k.ar)()?j.androidPackageName=V.packageName:(0,k.as)(P,"operation-not-supported-in-this-environment"),yield(0,k.au)(P,j)})).apply(this,arguments)}function Ge(){return(Ge=(0,c.Z)(function*(P,V,j){const{cordova:ue}=he();let je=()=>{};try{yield new Promise((Ke,Et)=>{let it=null;function Mt(){var Zt;Ke();const Ii=null===(Zt=ue.plugins.browsertab)||void 0===Zt?void 0:Zt.close;"function"==typeof Ii&&Ii(),"function"==typeof(null==j?void 0:j.close)&&j.close()}function Cn(){it||(it=window.setTimeout(()=>{Et((0,k.av)(P,"redirect-cancelled-by-user"))},2e3))}function Xn(){"visible"===(null==document?void 0:document.visibilityState)&&Cn()}V.addPassiveListener(Mt),document.addEventListener("resume",Cn,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",Xn,!1),je=()=>{V.removePassiveListener(Mt),document.removeEventListener("resume",Cn,!1),document.removeEventListener("visibilitychange",Xn,!1),it&&window.clearTimeout(it)}})}finally{je()}})).apply(this,arguments)}function De(P){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(P){const V=He(P),j=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(j)).map(je=>je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function He(P){if((0,k.ap)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(P);const V=new ArrayBuffer(P.length),j=new Uint8Array(V);for(let ue=0;ue<P.length;ue++)j[ue]=P.charCodeAt(ue);return j}class Me extends k.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(j=>j(V)),super.onEvent(V)}initialized(){var V=this;return(0,c.Z)(function*(){yield V.initPromise})()}}function ie(P){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(P){const V=yield de()._get(me(P));return V&&(yield de()._remove(me(P))),V})).apply(this,arguments)}function pe(){const P=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let j=0;j<20;j++){const ue=Math.floor(Math.random()*V.length);P.push(V.charAt(ue))}return P.join("")}function de(){return(0,k.ax)(k.b)}function me(P){return(0,k.ay)("authEvent",P.config.apiKey,P.name)}function Dt(P){if(!(null==P?void 0:P.includes("?")))return{};const[V,...j]=P.split("?");return(0,ae.zd)(j.join("?"))}function pt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.av)("no-auth-event")}}function Jt(){var P;return(null===(P=null==self?void 0:self.location)||void 0===P?void 0:P.protocol)||null}function An(P=(0,ae.z$)()){return!("file:"!==Jt()&&"ionic:"!==Jt()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function rr(){try{const P=self.localStorage,V=k.aG();if(P)return P.setItem(V,"1"),P.removeItem(V),!function Hr(P=(0,ae.z$)()){return function Di(){return(0,ae.w1)()&&11===(null==document?void 0:document.documentMode)}()||function yi(P=(0,ae.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,ae.hl)()}catch(P){return ai()&&(0,ae.hl)()}return!1}function ai(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function _i(){return(function tn(){return"http:"===Jt()||"https:"===Jt()}()||(0,ae.ru)()||An())&&!function oi(){return(0,ae.b$)()||(0,ae.UG)()}()&&rr()&&!ai()}function as(){return An()&&"undefined"!=typeof document}function xi(){return(xi=(0,c.Z)(function*(){return!!as()&&new Promise(P=>{const V=setTimeout(()=>{P(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),P(!0)})})})).apply(this,arguments)}const rn={LOCAL:"local",NONE:"none",SESSION:"session"},jn=k.aw,sr="persistence";function Sn(P){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(P){yield P._initializationPromise;const V=zt(),j=k.ay(sr,P.config.apiKey,P.name);V&&V.setItem(j,P._getPersistence())})).apply(this,arguments)}function zt(){var P;try{return(null===(P=function On(){return"undefined"!=typeof window?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch(V){return null}}const ht=k.aw;class rt{constructor(){this.browserResolver=k.ax(k.k),this.cordovaResolver=k.ax(class Rn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aA}_initialize(V){var j=this;return(0,c.Z)(function*(){const ue=V._key();let je=j.eventManagers.get(ue);return je||(je=new Me(V),j.eventManagers.set(ue,je),j.attachCallbackListeners(V,je)),je})()}_openPopup(V){(0,k.as)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,j,ue,je){var Ke=this;return(0,c.Z)(function*(){!function we(P){var V,j,ue,je,Ke,Et,it,Mt,Cn,Xn;const Zt=he();(0,k.aw)("function"==typeof(null===(V=null==Zt?void 0:Zt.universalLinks)||void 0===V?void 0:V.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aw)(void 0!==(null===(j=null==Zt?void 0:Zt.BuildInfo)||void 0===j?void 0:j.packageName),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aw)("function"==typeof(null===(Ke=null===(je=null===(ue=null==Zt?void 0:Zt.cordova)||void 0===ue?void 0:ue.plugins)||void 0===je?void 0:je.browsertab)||void 0===Ke?void 0:Ke.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(Mt=null===(it=null===(Et=null==Zt?void 0:Zt.cordova)||void 0===Et?void 0:Et.plugins)||void 0===it?void 0:it.browsertab)||void 0===Mt?void 0:Mt.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(Xn=null===(Cn=null==Zt?void 0:Zt.cordova)||void 0===Cn?void 0:Cn.InAppBrowser)||void 0===Xn?void 0:Xn.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Et=yield Ke._initialize(V);yield Et.initialized(),Et.resetRedirect(),(0,k.aB)(),yield Ke._originValidation(V);const it=function Ce(P,V,j=null){return{type:V,eventId:j,urlResponse:null,sessionId:pe(),postBody:null,tenantId:P.tenantId,error:(0,k.av)(P,"no-auth-event")}}(V,ue,je);yield function Ye(P,V){return de()._set(me(P),V)}(V,it);const Mt=yield function q(P,V,j){return z.apply(this,arguments)}(V,it,j),Cn=yield function Oe(P){const{cordova:V}=he();return new Promise(j=>{V.plugins.browsertab.isAvailable(ue=>{let je=null;ue?V.plugins.browsertab.openUrl(P):je=V.InAppBrowser.open(P,(0,k.ao)()?"_blank":"_system","location=yes"),j(je)})})}(Mt);return function Ne(P,V,j){return Ge.apply(this,arguments)}(V,Et,Cn)})()}_isIframeWebStorageSupported(V,j){throw new Error("Method not implemented.")}_originValidation(V){const j=V._key();return this.originValidationPromises[j]||(this.originValidationPromises[j]=function ne(P){return qe.apply(this,arguments)}(V)),this.originValidationPromises[j]}attachCallbackListeners(V,j){const{universalLinks:ue,handleOpenURL:je,BuildInfo:Ke}=he(),Et=setTimeout((0,c.Z)(function*(){yield ie(V),j.onEvent(pt())}),500),it=function(){var Xn=(0,c.Z)(function*(Zt){clearTimeout(Et);const Ii=yield ie(V);let Ar=null;Ii&&(null==Zt?void 0:Zt.url)&&(Ar=function X(P,V){var j,ue;const je=function le(P){const V=Dt(P),j=V.link?decodeURIComponent(V.link):void 0,ue=Dt(j).link,je=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Dt(je).link||je||ue||j||P}(V);if(je.includes("/__/auth/callback")){const Ke=Dt(je),Et=Ke.firebaseError?function Pe(P){try{return JSON.parse(P)}catch(V){return null}}(decodeURIComponent(Ke.firebaseError)):null,it=null===(ue=null===(j=null==Et?void 0:Et.code)||void 0===j?void 0:j.split("auth/"))||void 0===ue?void 0:ue[1],Mt=it?(0,k.av)(it):null;return Mt?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:Mt,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:je,postBody:null}}return null}(Ii,Zt.url)),j.onEvent(Ar||pt())});return function(Ii){return Xn.apply(this,arguments)}}();void 0!==ue&&"function"==typeof ue.subscribe&&ue.subscribe(null,it);const Mt=je,Cn=`${Ke.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var Xn=(0,c.Z)(function*(Zt){if(Zt.toLowerCase().startsWith(Cn)&&it({url:Zt}),"function"==typeof Mt)try{Mt(Zt)}catch(Ii){console.error(Ii)}});return function(Zt){return Xn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aA}_initialize(V){var j=this;return(0,c.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,j,ue,je){var Ke=this;return(0,c.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openPopup(V,j,ue,je)})()}_openRedirect(V,j,ue,je){var Ke=this;return(0,c.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openRedirect(V,j,ue,je)})()}_isIframeWebStorageSupported(V,j){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,j)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return as()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,c.Z)(function*(){if(V.underlyingResolver)return;const j=yield function gt(){return xi.apply(this,arguments)}();V.underlyingResolver=j?V.cordovaResolver:V.browserResolver})()}}function Wi(P){return P.unwrap()}function qt(P){return Fn(P)}function Fn(P){const{_tokenResponse:V}=P instanceof ae.ZR?P.customData:P;if(!V)return null;if(!(P instanceof ae.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return k.P.credentialFromResult(P);const j=V.providerId;if(!j||j===k.o.PASSWORD)return null;let ue;switch(j){case k.o.GOOGLE:ue=k.N;break;case k.o.FACEBOOK:ue=k.M;break;case k.o.GITHUB:ue=k.Q;break;case k.o.TWITTER:ue=k.V;break;default:const{oauthIdToken:je,oauthAccessToken:Ke,oauthTokenSecret:Et,pendingToken:it,nonce:Mt}=V;return Ke||Et||je||it?it?j.startsWith("saml.")?k.aJ._create(j,it):k.I._fromParams({providerId:j,signInMethod:j,pendingToken:it,idToken:je,accessToken:Ke}):new k.T(j).credential({idToken:je,accessToken:Ke,rawNonce:Mt}):null}return P instanceof ae.ZR?ue.credentialFromError(P):ue.credentialFromResult(P)}function on(P,V){return V.catch(j=>{throw j instanceof ae.ZR&&function zr(P,V){var j;const ue=null===(j=V.customData)||void 0===j?void 0:j._tokenResponse;if("auth/multi-factor-auth-required"===V.code)V.resolver=new Kt(P,k.am(P,V));else if(ue){const je=Fn(V),Ke=V;je&&(Ke.credential=je,Ke.tenantId=ue.tenantId||void 0,Ke.email=ue.email||void 0,Ke.phoneNumber=ue.phoneNumber||void 0)}}(P,j),j}).then(j=>{const je=j.user;return{operationType:j.operationType,credential:qt(j),additionalUserInfo:k.ak(j),user:ze.getOrCreate(je)}})}function yt(P,V){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(P,V){const j=yield V;return{verificationId:j.verificationId,confirm:ue=>on(P,j.confirm(ue))}})).apply(this,arguments)}class Kt{constructor(V,j){this.resolver=j,this.auth=function $r(P){return P.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return on(Wi(this.auth),this.resolver.resolveSignIn(V))}}class ze{constructor(V){this._delegate=V,this.multiFactor=k.an(V)}static getOrCreate(V){return ze.USER_MAP.has(V)||ze.USER_MAP.set(V,new ze(V)),ze.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var j=this;return(0,c.Z)(function*(){return on(j.auth,k.Y(j._delegate,V))})()}linkWithPhoneNumber(V,j){var ue=this;return(0,c.Z)(function*(){return yt(ue.auth,k.l(ue._delegate,V,j))})()}linkWithPopup(V){var j=this;return(0,c.Z)(function*(){return on(j.auth,k.d(j._delegate,V,rt))})()}linkWithRedirect(V){var j=this;return(0,c.Z)(function*(){return yield Sn(k.aC(j.auth)),k.g(j._delegate,V,rt)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var j=this;return(0,c.Z)(function*(){return on(j.auth,k.Z(j._delegate,V))})()}reauthenticateWithPhoneNumber(V,j){return yt(this.auth,k.r(this._delegate,V,j))}reauthenticateWithPopup(V){return on(this.auth,k.e(this._delegate,V,rt))}reauthenticateWithRedirect(V){var j=this;return(0,c.Z)(function*(){return yield Sn(k.aC(j.auth)),k.h(j._delegate,V,rt)})()}sendEmailVerification(V){return k.aa(this._delegate,V)}unlink(V){var j=this;return(0,c.Z)(function*(){return yield k.aj(j._delegate,V),j})()}updateEmail(V){return k.af(this._delegate,V)}updatePassword(V){return k.ag(this._delegate,V)}updatePhoneNumber(V){return k.u(this._delegate,V)}updateProfile(V){return k.ae(this._delegate,V)}verifyBeforeUpdateEmail(V,j){return k.ab(this._delegate,V,j)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ze.USER_MAP=new WeakMap;const xe=k.aw;let et=(()=>{class P{constructor(j,ue){if(this.app=j,ue.isInitialized())return this._delegate=ue.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:je}=j.options;xe(je,"invalid-api-key",{appName:j.name}),xe(je,"invalid-api-key",{appName:j.name});const Ke="undefined"!=typeof window?rt:void 0;this._delegate=ue.initialize({options:{persistence:Vt(je,j.name),popupRedirectResolver:Ke}}),this._delegate._updateErrorMap(k.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ze.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(j){this._delegate.languageCode=j}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(j){this._delegate.tenantId=j}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(j,ue){k.E(this._delegate,j,ue)}applyActionCode(j){return k.a1(this._delegate,j)}checkActionCode(j){return k.a2(this._delegate,j)}confirmPasswordReset(j,ue){return k.a0(this._delegate,j,ue)}createUserWithEmailAndPassword(j,ue){var je=this;return(0,c.Z)(function*(){return on(je._delegate,k.a4(je._delegate,j,ue))})()}fetchProvidersForEmail(j){return this.fetchSignInMethodsForEmail(j)}fetchSignInMethodsForEmail(j){return k.a9(this._delegate,j)}isSignInWithEmailLink(j){return k.a7(this._delegate,j)}getRedirectResult(){var j=this;return(0,c.Z)(function*(){xe(_i(),j._delegate,"operation-not-supported-in-this-environment");const ue=yield k.j(j._delegate,rt);return ue?on(j._delegate,Promise.resolve(ue)):{credential:null,user:null}})()}addFrameworkForLogging(j){!function pn(P,V){(0,k.aC)(P)._logFramework(V)}(this._delegate,j)}onAuthStateChanged(j,ue,je){const{next:Ke,error:Et,complete:it}=ft(j,ue,je);return this._delegate.onAuthStateChanged(Ke,Et,it)}onIdTokenChanged(j,ue,je){const{next:Ke,error:Et,complete:it}=ft(j,ue,je);return this._delegate.onIdTokenChanged(Ke,Et,it)}sendSignInLinkToEmail(j,ue){return k.a6(this._delegate,j,ue)}sendPasswordResetEmail(j,ue){return k.$(this._delegate,j,ue||void 0)}setPersistence(j){var ue=this;return(0,c.Z)(function*(){let je;switch(function kn(P,V){jn(Object.values(rn).includes(V),P,"invalid-persistence-type"),(0,ae.b$)()?jn(V!==rn.SESSION,P,"unsupported-persistence-type"):(0,ae.UG)()?jn(V===rn.NONE,P,"unsupported-persistence-type"):ai()?jn(V===rn.NONE||V===rn.LOCAL&&(0,ae.hl)(),P,"unsupported-persistence-type"):jn(V===rn.NONE||rr(),P,"unsupported-persistence-type")}(ue._delegate,j),j){case rn.SESSION:je=k.a;break;case rn.LOCAL:je=(yield k.ax(k.i)._isAvailable())?k.i:k.b;break;case rn.NONE:je=k.K;break;default:return k.as("argument-error",{appName:ue._delegate.name})}return ue._delegate.setPersistence(je)})()}signInAndRetrieveDataWithCredential(j){return this.signInWithCredential(j)}signInAnonymously(){return on(this._delegate,k.W(this._delegate))}signInWithCredential(j){return on(this._delegate,k.X(this._delegate,j))}signInWithCustomToken(j){return on(this._delegate,k._(this._delegate,j))}signInWithEmailAndPassword(j,ue){return on(this._delegate,k.a5(this._delegate,j,ue))}signInWithEmailLink(j,ue){return on(this._delegate,k.a8(this._delegate,j,ue))}signInWithPhoneNumber(j,ue){return yt(this._delegate,k.s(this._delegate,j,ue))}signInWithPopup(j){var ue=this;return(0,c.Z)(function*(){return xe(_i(),ue._delegate,"operation-not-supported-in-this-environment"),on(ue._delegate,k.c(ue._delegate,j,rt))})()}signInWithRedirect(j){var ue=this;return(0,c.Z)(function*(){return xe(_i(),ue._delegate,"operation-not-supported-in-this-environment"),yield Sn(ue._delegate),k.f(ue._delegate,j,rt)})()}updateCurrentUser(j){return this._delegate.updateCurrentUser(j)}verifyPasswordResetCode(j){return k.a3(this._delegate,j)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=rn,P})();function ft(P,V,j){let ue=P;"function"!=typeof P&&({next:ue,error:V,complete:j}=P);const je=ue;return{next:Et=>je(Et&&ze.getOrCreate(Et)),error:V,complete:j}}function Vt(P,V){const j=function Ks(P,V){const j=zt();if(!j)return[];const ue=k.ay(sr,P,V);switch(j.getItem(ue)){case rn.NONE:return[k.K];case rn.LOCAL:return[k.i,k.a];case rn.SESSION:return[k.a];default:return[]}}(P,V);if("undefined"!=typeof self&&!j.includes(k.i)&&j.push(k.i),"undefined"!=typeof window)for(const ue of[k.b,k.a])j.includes(ue)||j.push(ue);return j.includes(k.K)||j.push(k.K),j}class Bt{constructor(){this.providerId="phone",this._delegate=new k.P(Wi(H.Z.auth()))}static credential(V,j){return k.P.credential(V,j)}verifyPhoneNumber(V,j){return this._delegate.verifyPhoneNumber(V,j)}unwrap(){return this._delegate}}Bt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Bt.PROVIDER_ID=k.P.PROVIDER_ID;const W=k.aw;class U{constructor(V,j,ue=H.Z.app()){var je;W(null===(je=ue.options)||void 0===je?void 0:je.apiKey,"invalid-api-key",{appName:ue.name}),this._delegate=new k.R(V,j,ue.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ge(P){P.INTERNAL.registerComponent(new re.wA("auth-compat",V=>{const j=V.getProvider("app-compat").getImmediate(),ue=V.getProvider("auth");return new et(j,ue)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.L,FacebookAuthProvider:k.M,GithubAuthProvider:k.Q,GoogleAuthProvider:k.N,OAuthProvider:k.T,SAMLAuthProvider:k.U,PhoneAuthProvider:Bt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:U,TwitterAuthProvider:k.V,Auth:et,AuthCredential:k.G,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.2.11")}(H.Z)},8306:(ct,Ae,F)=>{F.d(Ae,{y:()=>q});var c=F(930),H=F(727),k=F(8822),ae=F(4671);var re=F(2416),he=F(576),ye=F(2806);let q=(()=>{class Oe{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const we=new Oe;return we.source=this,we.operator=Ge,we}subscribe(Ge,we,De){const nt=function qe(Oe){return Oe&&Oe instanceof c.Lv||function ne(Oe){return Oe&&(0,he.m)(Oe.next)&&(0,he.m)(Oe.error)&&(0,he.m)(Oe.complete)}(Oe)&&(0,H.Nn)(Oe)}(Ge)?Ge:new c.Hp(Ge,we,De);return(0,ye.x)(()=>{const{operator:He,source:Re}=this;nt.add(He?He.call(nt,Re):Re?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(we){Ge.error(we)}}forEach(Ge,we){return new(we=z(we))((De,nt)=>{const He=new c.Hp({next:Re=>{try{Ge(Re)}catch(Me){nt(Me),He.unsubscribe()}},error:nt,complete:De});this.subscribe(He)})}_subscribe(Ge){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(Ge)}[k.L](){return this}pipe(...Ge){return function _e(Oe){return 0===Oe.length?ae.y:1===Oe.length?Oe[0]:function(Ge){return Oe.reduce((we,De)=>De(we),Ge)}}(Ge)(this)}toPromise(Ge){return new(Ge=z(Ge))((we,De)=>{let nt;this.subscribe(He=>nt=He,He=>De(He),()=>we(nt))})}}return Oe.create=Ne=>new Oe(Ne),Oe})();function z(Oe){var Ne;return null!==(Ne=null!=Oe?Oe:re.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(ct,Ae,F)=>{F.d(Ae,{x:()=>re});var c=F(8306),H=F(727);const ae=(0,F(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=F(8737),_e=F(2806);let re=(()=>{class ye extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ne=new he(this,this);return ne.operator=z,ne}_throwIfClosed(){if(this.closed)throw new ae}next(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(z)}})}error(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ne}=this;for(;ne.length;)ne.shift().error(z)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ne,isStopped:qe,observers:Oe}=this;return ne||qe?H.Lc:(this.currentObservers=null,Oe.push(z),new H.w0(()=>{this.currentObservers=null,(0,se.P)(Oe,z)}))}_checkFinalizedStatuses(z){const{hasError:ne,thrownError:qe,isStopped:Oe}=this;ne?z.error(qe):Oe&&z.complete()}asObservable(){const z=new c.y;return z.source=this,z}}return ye.create=(q,z)=>new he(q,z),ye})();class he extends re{constructor(q,z){super(),this.destination=q,this.source=z}next(q){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ne||ne.call(z,q)}error(q){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ne||ne.call(z,q)}complete(){var q,z;null===(z=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===z||z.call(q)}_subscribe(q){var z,ne;return null!==(ne=null===(z=this.source)||void 0===z?void 0:z.subscribe(q))&&void 0!==ne?ne:H.Lc}}},930:(ct,Ae,F)=>{F.d(Ae,{Hp:()=>Ge,Lv:()=>ne});var c=F(576),H=F(727),k=F(2416),ae=F(7849),se=F(5032);const _e=ye("C",void 0,void 0);function ye(Re,Me,Ce){return{kind:Re,value:Me,error:Ce}}var q=F(3410),z=F(2806);class ne extends H.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,H.Nn)(Me)&&Me.add(this)):this.destination=He}static create(Me,Ce,Ye){return new Ge(Me,Ce,Ye)}next(Me){this.isStopped?nt(function he(Re){return ye("N",Re,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?nt(function re(Re){return ye("E",void 0,Re)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?nt(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Oe(Re,Me){return qe.call(Re,Me)}class Ne{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Me)}catch(Ye){we(Ye)}}error(Me){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Me)}catch(Ye){we(Ye)}else we(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(Ce){we(Ce)}}}class Ge extends ne{constructor(Me,Ce,Ye){let ie;if(super(),(0,c.m)(Me)||!Me)ie={next:null!=Me?Me:void 0,error:null!=Ce?Ce:void 0,complete:null!=Ye?Ye:void 0};else{let Qe;this&&k.v.useDeprecatedNextContext?(Qe=Object.create(Me),Qe.unsubscribe=()=>this.unsubscribe(),ie={next:Me.next&&Oe(Me.next,Qe),error:Me.error&&Oe(Me.error,Qe),complete:Me.complete&&Oe(Me.complete,Qe)}):ie=Me}this.destination=new Ne(ie)}}function we(Re){k.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Re):(0,ae.h)(Re)}function nt(Re,Me){const{onStoppedNotification:Ce}=k.v;Ce&&q.z.setTimeout(()=>Ce(Re,Me))}const He={closed:!0,next:se.Z,error:function De(Re){throw Re},complete:se.Z}},727:(ct,Ae,F)=>{F.d(Ae,{Lc:()=>_e,w0:()=>se,Nn:()=>re});var c=F(576);const k=(0,F(3888).d)(ye=>function(z){ye(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ne,qe)=>`${qe+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ae=F(8737);class se{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Oe of z)Oe.remove(this);else z.remove(this);const{initialTeardown:ne}=this;if((0,c.m)(ne))try{ne()}catch(Oe){q=Oe instanceof k?Oe.errors:[Oe]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Oe of qe)try{he(Oe)}catch(Ne){q=null!=q?q:[],Ne instanceof k?q=[...q,...Ne.errors]:q.push(Ne)}}if(q)throw new k(q)}}add(q){var z;if(q&&q!==this)if(this.closed)he(q);else{if(q instanceof se){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(q)}}_hasParent(q){const{_parentage:z}=this;return z===q||Array.isArray(z)&&z.includes(q)}_addParent(q){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(q),z):z?[z,q]:q}_removeParent(q){const{_parentage:z}=this;z===q?this._parentage=null:Array.isArray(z)&&(0,ae.P)(z,q)}remove(q){const{_finalizers:z}=this;z&&(0,ae.P)(z,q),q instanceof se&&q._removeParent(this)}}se.EMPTY=(()=>{const ye=new se;return ye.closed=!0,ye})();const _e=se.EMPTY;function re(ye){return ye instanceof se||ye&&"closed"in ye&&(0,c.m)(ye.remove)&&(0,c.m)(ye.add)&&(0,c.m)(ye.unsubscribe)}function he(ye){(0,c.m)(ye)?ye():ye.unsubscribe()}},2416:(ct,Ae,F)=>{F.d(Ae,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Ae,F)=>{F.d(Ae,{E:()=>H});const H=new(F(8306).y)(se=>se.complete())},8996:(ct,Ae,F)=>{F.d(Ae,{D:()=>Me});var c=F(8421),H=F(5363),k=F(9468),_e=F(8306),he=F(2202),ye=F(576),q=F(9672);function ne(Ce,Ye){if(!Ce)throw new Error("Iterable cannot be null");return new _e.y(ie=>{(0,q.f)(ie,Ye,()=>{const Qe=Ce[Symbol.asyncIterator]();(0,q.f)(ie,Ye,()=>{Qe.next().then(X=>{X.done?ie.complete():ie.next(X.value)})},0,!0)})})}var qe=F(3670),Oe=F(8239),Ne=F(1144),Ge=F(6495),we=F(2206),De=F(4532),nt=F(3260);function Me(Ce,Ye){return Ye?function Re(Ce,Ye){if(null!=Ce){if((0,qe.c)(Ce))return function ae(Ce,Ye){return(0,c.Xf)(Ce).pipe((0,k.R)(Ye),(0,H.Q)(Ye))}(Ce,Ye);if((0,Ne.z)(Ce))return function re(Ce,Ye){return new _e.y(ie=>{let Qe=0;return Ye.schedule(function(){Qe===Ce.length?ie.complete():(ie.next(Ce[Qe++]),ie.closed||this.schedule())})})}(Ce,Ye);if((0,Oe.t)(Ce))return function se(Ce,Ye){return(0,c.Xf)(Ce).pipe((0,k.R)(Ye),(0,H.Q)(Ye))}(Ce,Ye);if((0,we.D)(Ce))return ne(Ce,Ye);if((0,Ge.T)(Ce))return function z(Ce,Ye){return new _e.y(ie=>{let Qe;return(0,q.f)(ie,Ye,()=>{Qe=Ce[he.h](),(0,q.f)(ie,Ye,()=>{let X,pe;try{({value:X,done:pe}=Qe.next())}catch(de){return void ie.error(de)}pe?ie.complete():ie.next(X)},0,!0)}),()=>(0,ye.m)(null==Qe?void 0:Qe.return)&&Qe.return()})}(Ce,Ye);if((0,nt.L)(Ce))return function He(Ce,Ye){return ne((0,nt.Q)(Ce),Ye)}(Ce,Ye)}throw(0,De.z)(Ce)}(Ce,Ye):(0,c.Xf)(Ce)}},8421:(ct,Ae,F)=>{F.d(Ae,{Xf:()=>qe});var c=F(655),H=F(1144),k=F(8239),ae=F(8306),se=F(3670),_e=F(2206),re=F(4532),he=F(6495),ye=F(3260),q=F(576),z=F(7849),ne=F(8822);function qe(Re){if(Re instanceof ae.y)return Re;if(null!=Re){if((0,se.c)(Re))return function Oe(Re){return new ae.y(Me=>{const Ce=Re[ne.L]();if((0,q.m)(Ce.subscribe))return Ce.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,H.z)(Re))return function Ne(Re){return new ae.y(Me=>{for(let Ce=0;Ce<Re.length&&!Me.closed;Ce++)Me.next(Re[Ce]);Me.complete()})}(Re);if((0,k.t)(Re))return function Ge(Re){return new ae.y(Me=>{Re.then(Ce=>{Me.closed||(Me.next(Ce),Me.complete())},Ce=>Me.error(Ce)).then(null,z.h)})}(Re);if((0,_e.D)(Re))return De(Re);if((0,he.T)(Re))return function we(Re){return new ae.y(Me=>{for(const Ce of Re)if(Me.next(Ce),Me.closed)return;Me.complete()})}(Re);if((0,ye.L)(Re))return function nt(Re){return De((0,ye.Q)(Re))}(Re)}throw(0,re.z)(Re)}function De(Re){return new ae.y(Me=>{(function He(Re,Me){var Ce,Ye,ie,Qe;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,c.KL)(Re);!(Ye=yield Ce.next()).done;)if(Me.next(Ye.value),Me.closed)return}catch(X){ie={error:X}}finally{try{Ye&&!Ye.done&&(Qe=Ce.return)&&(yield Qe.call(Ce))}finally{if(ie)throw ie.error}}Me.complete()})})(Re,Me).catch(Ce=>Me.error(Ce))})}},6451:(ct,Ae,F)=>{F.d(Ae,{T:()=>_e});var c=F(8189),H=F(8421),k=F(515),ae=F(3269),se=F(8996);function _e(...re){const he=(0,ae.yG)(re),ye=(0,ae._6)(re,1/0),q=re;return q.length?1===q.length?(0,H.Xf)(q[0]):(0,c.J)(ye)((0,se.D)(q,he)):k.E}},5403:(ct,Ae,F)=>{F.d(Ae,{x:()=>H});var c=F(930);function H(ae,se,_e,re,he){return new k(ae,se,_e,re,he)}class k extends c.Lv{constructor(se,_e,re,he,ye,q){super(se),this.onFinalize=ye,this.shouldUnsubscribe=q,this._next=_e?function(z){try{_e(z)}catch(ne){se.error(ne)}}:super._next,this._error=he?function(z){try{he(z)}catch(ne){se.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(z){se.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(ct,Ae,F)=>{F.d(Ae,{U:()=>k});var c=F(4482),H=F(5403);function k(ae,se){return(0,c.e)((_e,re)=>{let he=0;_e.subscribe((0,H.x)(re,ye=>{re.next(ae.call(se,ye,he++))}))})}},8189:(ct,Ae,F)=>{F.d(Ae,{J:()=>k});var c=F(5577),H=F(4671);function k(ae=1/0){return(0,c.z)(H.y,ae)}},5577:(ct,Ae,F)=>{F.d(Ae,{z:()=>he});var c=F(4004),H=F(8421),k=F(4482),ae=F(9672),se=F(5403),re=F(576);function he(ye,q,z=1/0){return(0,re.m)(q)?he((ne,qe)=>(0,c.U)((Oe,Ne)=>q(ne,Oe,qe,Ne))((0,H.Xf)(ye(ne,qe))),z):("number"==typeof q&&(z=q),(0,k.e)((ne,qe)=>function _e(ye,q,z,ne,qe,Oe,Ne,Ge){const we=[];let De=0,nt=0,He=!1;const Re=()=>{He&&!we.length&&!De&&q.complete()},Me=Ye=>De<ne?Ce(Ye):we.push(Ye),Ce=Ye=>{Oe&&q.next(Ye),De++;let ie=!1;(0,H.Xf)(z(Ye,nt++)).subscribe((0,se.x)(q,Qe=>{null==qe||qe(Qe),Oe?Me(Qe):q.next(Qe)},()=>{ie=!0},void 0,()=>{if(ie)try{for(De--;we.length&&De<ne;){const Qe=we.shift();Ne?(0,ae.f)(q,Ne,()=>Ce(Qe)):Ce(Qe)}Re()}catch(Qe){q.error(Qe)}}))};return ye.subscribe((0,se.x)(q,Me,()=>{He=!0,Re()})),()=>{null==Ge||Ge()}}(ne,qe,ye,z)))}},5363:(ct,Ae,F)=>{F.d(Ae,{Q:()=>ae});var c=F(9672),H=F(4482),k=F(5403);function ae(se,_e=0){return(0,H.e)((re,he)=>{re.subscribe((0,k.x)(he,ye=>(0,c.f)(he,se,()=>he.next(ye),_e),()=>(0,c.f)(he,se,()=>he.complete(),_e),ye=>(0,c.f)(he,se,()=>he.error(ye),_e)))})}},3099:(ct,Ae,F)=>{F.d(Ae,{B:()=>_e});var c=F(8996),H=F(5698),k=F(7579),ae=F(930),se=F(4482);function _e(he={}){const{connector:ye=(()=>new k.x),resetOnError:q=!0,resetOnComplete:z=!0,resetOnRefCountZero:ne=!0}=he;return qe=>{let Oe=null,Ne=null,Ge=null,we=0,De=!1,nt=!1;const He=()=>{null==Ne||Ne.unsubscribe(),Ne=null},Re=()=>{He(),Oe=Ge=null,De=nt=!1},Me=()=>{const Ce=Oe;Re(),null==Ce||Ce.unsubscribe()};return(0,se.e)((Ce,Ye)=>{we++,!nt&&!De&&He();const ie=Ge=null!=Ge?Ge:ye();Ye.add(()=>{we--,0===we&&!nt&&!De&&(Ne=re(Me,ne))}),ie.subscribe(Ye),Oe||(Oe=new ae.Hp({next:Qe=>ie.next(Qe),error:Qe=>{nt=!0,He(),Ne=re(Re,q,Qe),ie.error(Qe)},complete:()=>{De=!0,He(),Ne=re(Re,z),ie.complete()}}),(0,c.D)(Ce).subscribe(Oe))})(qe)}}function re(he,ye,...q){return!0===ye?(he(),null):!1===ye?null:ye(...q).pipe((0,H.q)(1)).subscribe(()=>he())}},9468:(ct,Ae,F)=>{F.d(Ae,{R:()=>H});var c=F(4482);function H(k,ae=0){return(0,c.e)((se,_e)=>{_e.add(k.schedule(()=>se.subscribe(_e),ae))})}},5698:(ct,Ae,F)=>{F.d(Ae,{q:()=>ae});var c=F(515),H=F(4482),k=F(5403);function ae(se){return se<=0?()=>c.E:(0,H.e)((_e,re)=>{let he=0;_e.subscribe((0,k.x)(re,ye=>{++he<=se&&(re.next(ye),se<=he&&re.complete())}))})}},8505:(ct,Ae,F)=>{F.d(Ae,{b:()=>se});var c=F(576),H=F(4482),k=F(5403),ae=F(4671);function se(_e,re,he){const ye=(0,c.m)(_e)||re||he?{next:_e,error:re,complete:he}:_e;return ye?(0,H.e)((q,z)=>{var ne;null===(ne=ye.subscribe)||void 0===ne||ne.call(ye);let qe=!0;q.subscribe((0,k.x)(z,Oe=>{var Ne;null===(Ne=ye.next)||void 0===Ne||Ne.call(ye,Oe),z.next(Oe)},()=>{var Oe;qe=!1,null===(Oe=ye.complete)||void 0===Oe||Oe.call(ye),z.complete()},Oe=>{var Ne;qe=!1,null===(Ne=ye.error)||void 0===Ne||Ne.call(ye,Oe),z.error(Oe)},()=>{var Oe,Ne;qe&&(null===(Oe=ye.unsubscribe)||void 0===Oe||Oe.call(ye)),null===(Ne=ye.finalize)||void 0===Ne||Ne.call(ye)}))}):ae.y}},4408:(ct,Ae,F)=>{F.d(Ae,{o:()=>se});var c=F(727);class H extends c.w0{constructor(re,he){super()}schedule(re,he=0){return this}}const k={setInterval(_e,re,...he){const{delegate:ye}=k;return(null==ye?void 0:ye.setInterval)?ye.setInterval(_e,re,...he):setInterval(_e,re,...he)},clearInterval(_e){const{delegate:re}=k;return((null==re?void 0:re.clearInterval)||clearInterval)(_e)},delegate:void 0};var ae=F(8737);class se extends H{constructor(re,he){super(re,he),this.scheduler=re,this.work=he,this.pending=!1}schedule(re,he=0){if(this.closed)return this;this.state=re;const ye=this.id,q=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(q,ye,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(q,this.id,he),this}requestAsyncId(re,he,ye=0){return k.setInterval(re.flush.bind(re,this),ye)}recycleAsyncId(re,he,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return he;k.clearInterval(he)}execute(re,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(re,he);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,he){let q,ye=!1;try{this.work(re)}catch(z){ye=!0,q=z||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:re,scheduler:he}=this,{actions:ye}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ye,this),null!=re&&(this.id=this.recycleAsyncId(he,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Ae,F)=>{F.d(Ae,{v:()=>k});var c=F(6063);class H{constructor(se,_e=H.now){this.schedulerActionCtor=se,this.now=_e}schedule(se,_e=0,re){return new this.schedulerActionCtor(this,se).schedule(re,_e)}}H.now=c.l.now;class k extends H{constructor(se,_e=H.now){super(se,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:_e}=this;if(this._active)return void _e.push(se);let re;this._active=!0;do{if(re=se.execute(se.state,se.delay))break}while(se=_e.shift());if(this._active=!1,re){for(;se=_e.shift();)se.unsubscribe();throw re}}}},4986:(ct,Ae,F)=>{F.d(Ae,{z:()=>k,P:()=>ae});var c=F(4408);const k=new(F(7565).v)(c.o),ae=k},6063:(ct,Ae,F)=>{F.d(Ae,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ct,Ae,F)=>{F.d(Ae,{z:()=>c});const c={setTimeout(H,k,...ae){const{delegate:se}=c;return(null==se?void 0:se.setTimeout)?se.setTimeout(H,k,...ae):setTimeout(H,k,...ae)},clearTimeout(H){const{delegate:k}=c;return((null==k?void 0:k.clearTimeout)||clearTimeout)(H)},delegate:void 0}},2202:(ct,Ae,F)=>{F.d(Ae,{h:()=>H});const H=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Ae,F)=>{F.d(Ae,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ct,Ae,F)=>{F.d(Ae,{jO:()=>ae,yG:()=>se,_6:()=>_e});var c=F(576),H=F(3532);function k(re){return re[re.length-1]}function ae(re){return(0,c.m)(k(re))?re.pop():void 0}function se(re){return(0,H.K)(k(re))?re.pop():void 0}function _e(re,he){return"number"==typeof k(re)?re.pop():he}},8737:(ct,Ae,F)=>{function c(H,k){if(H){const ae=H.indexOf(k);0<=ae&&H.splice(ae,1)}}F.d(Ae,{P:()=>c})},3888:(ct,Ae,F)=>{function c(H){const ae=H(se=>{Error.call(se),se.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}F.d(Ae,{d:()=>c})},2806:(ct,Ae,F)=>{F.d(Ae,{x:()=>k,O:()=>ae});var c=F(2416);let H=null;function k(se){if(c.v.useDeprecatedSynchronousErrorHandling){const _e=!H;if(_e&&(H={errorThrown:!1,error:null}),se(),_e){const{errorThrown:re,error:he}=H;if(H=null,re)throw he}}else se()}function ae(se){c.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=se)}},9672:(ct,Ae,F)=>{function c(H,k,ae,se=0,_e=!1){const re=k.schedule(function(){ae(),_e?H.add(this.schedule(null,se)):this.unsubscribe()},se);if(H.add(re),!_e)return re}F.d(Ae,{f:()=>c})},4671:(ct,Ae,F)=>{function c(H){return H}F.d(Ae,{y:()=>c})},1144:(ct,Ae,F)=>{F.d(Ae,{z:()=>c});const c=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(ct,Ae,F)=>{F.d(Ae,{D:()=>H});var c=F(576);function H(k){return Symbol.asyncIterator&&(0,c.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(ct,Ae,F)=>{function c(H){return"function"==typeof H}F.d(Ae,{m:()=>c})},3670:(ct,Ae,F)=>{F.d(Ae,{c:()=>k});var c=F(8822),H=F(576);function k(ae){return(0,H.m)(ae[c.L])}},6495:(ct,Ae,F)=>{F.d(Ae,{T:()=>k});var c=F(2202),H=F(576);function k(ae){return(0,H.m)(null==ae?void 0:ae[c.h])}},8239:(ct,Ae,F)=>{F.d(Ae,{t:()=>H});var c=F(576);function H(k){return(0,c.m)(null==k?void 0:k.then)}},3260:(ct,Ae,F)=>{F.d(Ae,{Q:()=>k,L:()=>ae});var c=F(655),H=F(576);function k(se){return(0,c.FC)(this,arguments,function*(){const re=se.getReader();try{for(;;){const{value:he,done:ye}=yield(0,c.qq)(re.read());if(ye)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(he)}}finally{re.releaseLock()}})}function ae(se){return(0,H.m)(null==se?void 0:se.getReader)}},3532:(ct,Ae,F)=>{F.d(Ae,{K:()=>H});var c=F(576);function H(k){return k&&(0,c.m)(k.schedule)}},4482:(ct,Ae,F)=>{F.d(Ae,{e:()=>k});var c=F(576);function k(ae){return se=>{if(function H(ae){return(0,c.m)(null==ae?void 0:ae.lift)}(se))return se.lift(function(_e){try{return ae(_e,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ct,Ae,F)=>{function c(){}F.d(Ae,{Z:()=>c})},7849:(ct,Ae,F)=>{F.d(Ae,{h:()=>k});var c=F(2416),H=F(3410);function k(ae){H.z.setTimeout(()=>{const{onUnhandledError:se}=c.v;if(!se)throw ae;se(ae)})}},4532:(ct,Ae,F)=>{function c(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ae,{z:()=>c})},655:(ct,Ae,F)=>{function ae(X,pe){var de={};for(var me in X)Object.prototype.hasOwnProperty.call(X,me)&&pe.indexOf(me)<0&&(de[me]=X[me]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(me=Object.getOwnPropertySymbols(X);Pe<me.length;Pe++)pe.indexOf(me[Pe])<0&&Object.prototype.propertyIsEnumerable.call(X,me[Pe])&&(de[me[Pe]]=X[me[Pe]])}return de}function he(X,pe,de,me){return new(de||(de=Promise))(function(le,Dt){function en(pt){try{dt(me.next(pt))}catch(pn){Dt(pn)}}function Rn(pt){try{dt(me.throw(pt))}catch(pn){Dt(pn)}}function dt(pt){pt.done?le(pt.value):function Pe(le){return le instanceof de?le:new de(function(Dt){Dt(le)})}(pt.value).then(en,Rn)}dt((me=me.apply(X,pe||[])).next())})}function we(X){return this instanceof we?(this.v=X,this):new we(X)}function De(X,pe,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,me=de.apply(X,pe||[]),le=[];return Pe={},Dt("next"),Dt("throw"),Dt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function Dt(dn){me[dn]&&(Pe[dn]=function(ir){return new Promise(function(nn,Jt){le.push([dn,ir,nn,Jt])>1||en(dn,ir)})})}function en(dn,ir){try{!function Rn(dn){dn.value instanceof we?Promise.resolve(dn.value.v).then(dt,pt):pn(le[0][2],dn)}(me[dn](ir))}catch(nn){pn(le[0][3],nn)}}function dt(dn){en("next",dn)}function pt(dn){en("throw",dn)}function pn(dn,ir){dn(ir),le.shift(),le.length&&en(le[0][0],le[0][1])}}function He(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,pe=X[Symbol.asyncIterator];return pe?pe.call(X):(X=function ne(X){var pe="function"==typeof Symbol&&Symbol.iterator,de=pe&&X[pe],me=0;if(de)return de.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&me>=X.length&&(X=void 0),{value:X&&X[me++],done:!X}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),de={},me("next"),me("throw"),me("return"),de[Symbol.asyncIterator]=function(){return this},de);function me(le){de[le]=X[le]&&function(Dt){return new Promise(function(en,Rn){!function Pe(le,Dt,en,Rn){Promise.resolve(Rn).then(function(dt){le({value:dt,done:en})},Dt)}(en,Rn,(Dt=X[le](Dt)).done,Dt.value)})}}}F.d(Ae,{_T:()=>ae,mG:()=>he,qq:()=>we,FC:()=>De,KL:()=>He})},5e3:(ct,Ae,F)=>{F.d(Ae,{tb:()=>Ft,AFp:()=>eE,ip1:()=>Wa,CZH:()=>nf,hGG:()=>Vg,z2F:()=>$e,sBO:()=>D_,_Vd:()=>Nu,EJc:()=>Gi,SBq:()=>ad,qLn:()=>uh,vpe:()=>un,OlP:()=>Gn,zs3:()=>Xo,ZZ4:()=>S_,aQg:()=>T_,soG:()=>ke,h0i:()=>Fl,R0b:()=>_o,FiY:()=>Qi,Lbi:()=>lt,g9A:()=>Tg,Qsj:()=>bw,FYo:()=>Wy,JOm:()=>Hs,q3G:()=>hn,WD2:()=>hc,tp0:()=>Pr,Rgc:()=>Hh,dDg:()=>w_,q4F:()=>Lu,GfV:()=>Ew,s_b:()=>vg,ifc:()=>zt,eFA:()=>Mg,G48:()=>oE,Gpc:()=>z,f3M:()=>It,X6Q:()=>Ll,_c5:()=>Lg,VLi:()=>$x,zSh:()=>db,wAp:()=>At,vHH:()=>Ne,EiD:()=>np,mCW:()=>T,qzn:()=>Na,JVY:()=>sh,pB0:()=>Am,eBb:()=>Qf,L6k:()=>Im,LAX:()=>kc,cg1:()=>rw,kL8:()=>nx,yhl:()=>Zf,dqk:()=>qt,sIi:()=>_p,CqO:()=>ay,QGY:()=>oy,F4k:()=>kp,RDi:()=>As,AaK:()=>he,z3N:()=>Xr,qOj:()=>Xm,TTD:()=>So,_Bn:()=>vw,xp6:()=>dC,uIk:()=>Db,ekj:()=>Zb,Suo:()=>Gw,Xpm:()=>Bt,lG2:()=>ue,Yz7:()=>nn,cJS:()=>tn,oAB:()=>P,Yjl:()=>je,Y36:()=>Ga,_UZ:()=>ry,GkF:()=>Op,BQk:()=>nd,ynx:()=>Dh,qZA:()=>Rp,TgZ:()=>Mp,EpF:()=>id,n5z:()=>cu,Ikx:()=>iw,LFG:()=>Ue,$8M:()=>du,NdJ:()=>ly,CRH:()=>Yh,oxw:()=>Nb,ALo:()=>pg,lcZ:()=>Jy,xi3:()=>Fw,Hsn:()=>Np,F$t:()=>xh,Q6J:()=>td,DdM:()=>ug,iGM:()=>Uw,MAs:()=>Sb,CHM:()=>Ud,B6R:()=>W,YNc:()=>Ab,W1O:()=>cd,_uU:()=>jD,Oqu:()=>my,hij:()=>Mh,Gf:()=>jw});var c=F(7579),H=F(727),k=F(8306),ae=F(6451),se=F(3099);function _e(s){for(let o in s)if(s[o]===_e)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ye(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const q=_e({__forward_ref__:_e});function z(s){return s.__forward_ref__=z,s.toString=function(){return he(this())},s}function ne(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(q)&&s.__forward_ref__===z}class Ne extends Error{constructor(o,a){super(function Ge(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function we(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():we(s)}function Me(s,o){const a=o?` in ${o}`:"";throw new Ne(-201,`No provider for ${De(s)} found${a}`)}function dt(s,o){null==s&&function pt(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function nn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function tn(s){return{providers:s.providers||[],imports:s.imports||[]}}function An(s){return oi(s,rr)||oi(s,_i)}function oi(s,o){return s.hasOwnProperty(o)?s[o]:null}function Hr(s){return s&&(s.hasOwnProperty(ai)||s.hasOwnProperty(as))?s[ai]:null}const rr=_e({\u0275prov:_e}),ai=_e({\u0275inj:_e}),_i=_e({ngInjectableDef:_e}),as=_e({ngInjectorDef:_e});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let xi;function rn(s){const o=xi;return xi=s,o}function jn(s,o,a){const u=An(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&gt.Optional?null:void 0!==o?o:void Me(he(s),"Injector")}function kn(s){return{toString:s}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),zt=(()=>{return(s=zt||(zt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",zt;var s})();const ht="undefined"!=typeof globalThis&&globalThis,rt="undefined"!=typeof window&&window,Wi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qt=ht||"undefined"!=typeof global&&global||rt||Wi,on={},yt=[],Pn=_e({\u0275cmp:_e}),Kt=_e({\u0275dir:_e}),ze=_e({\u0275pipe:_e}),xe=_e({\u0275mod:_e}),et=_e({\u0275fac:_e}),ft=_e({__NG_ELEMENT_ID__:_e});let Vt=0;function Bt(s){return kn(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||yt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||zt.Emulated,id:"c",styles:s.styles||yt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return u.id+=Vt++,u.inputs=j(s.inputs,a),u.outputs=j(s.outputs),p&&p.forEach(b=>b(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(U):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(Y):null,u})}function W(s,o,a){const u=s.\u0275cmp;u.directiveDefs=()=>o.map(U),u.pipeDefs=()=>a.map(Y)}function U(s){return Ke(s)||function Et(s){return s[Kt]||null}(s)}function Y(s){return function it(s){return s[ze]||null}(s)}const ge={};function P(s){return kn(()=>{const o={type:s.type,bootstrap:s.bootstrap||yt,declarations:s.declarations||yt,imports:s.imports||yt,exports:s.exports||yt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ge[s.id]=s.type),o})}function j(s,o){if(null==s)return on;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=u,o&&(o[h]=p)}return a}const ue=Bt;function je(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ke(s){return s[Pn]||null}function Mt(s,o){const a=s[xe]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function Bi(s){return Array.isArray(s)&&"object"==typeof s[1]}function Sr(s){return Array.isArray(s)&&!0===s[1]}function nl(s){return 0!=(8&s.flags)}function Do(s){return 2==(2&s.flags)}function xo(s){return 1==(1&s.flags)}function Tr(s){return null!==s.template}function aa(s){return 0!=(512&s[2])}function ar(s,o){return s.hasOwnProperty(et)?s[et]:null}class hc{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function So(){return ol}function ol(s){return s.type.prototype.ngOnChanges&&(s.setInput=ca),Ld}function Ld(){const s=Mr(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===on)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ca(s,o,a,u){const h=Mr(s)||function ds(s,o){return s[Wl]=o}(s,{previous:on,current:null}),p=h.current||(h.current={}),y=h.previous,b=this.declaredInputs[a],C=y[b];p[b]=new hc(C&&C.currentValue,o,y===on),s[u]=o}So.ngInherit=!0;const Wl="__ngSimpleChanges__";function Mr(s){return s[Wl]||null}let Kl;function As(s){Kl=s}function wn(s){return!!s.listen}const Xs={createRenderer:(s,o)=>function Qs(){return void 0!==Kl?Kl:"undefined"!=typeof document?document:void 0}()};function yn(s){for(;Array.isArray(s);)s=s[0];return s}function Ss(s,o){return yn(o[s])}function vi(s,o){return yn(o[s.index])}function ll(s,o){return s.data[o]}function ur(s,o){return s[o]}function Ui(s,o){const a=o[s];return Bi(a)?a:a[0]}function hs(s){return 4==(4&s[2])}function eo(s){return 128==(128&s[2])}function Rr(s,o){return null==o?null:s[o]}function qr(s){s[18]=0}function fs(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const vt={lFrame:nu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ko(){return vt.bindingsEnabled}function Se(){return vt.lFrame.lView}function Gt(){return vt.lFrame.tView}function Ud(s){return vt.lFrame.contextLView=s,s[8]}function bn(){let s=ul();for(;null!==s&&64===s.type;)s=s.parent;return s}function ul(){return vt.lFrame.currentTNode}function Or(s,o){const a=vt.lFrame;a.currentTNode=s,a.isParent=o}function Ql(){return vt.lFrame.isParent}function pa(){vt.lFrame.isParent=!1}function Fo(){return vt.isInCheckNoChangesMode}function Po(s){vt.isInCheckNoChangesMode=s}function ei(){const s=vt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Lo(){return vt.lFrame.bindingIndex++}function gc(s,o){const a=vt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Jl(o)}function Jl(s){vt.lFrame.currentDirectiveIndex=s}function Gd(){return vt.lFrame.currentQueryIndex}function eu(s){vt.lFrame.currentQueryIndex=s}function tu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function cl(s,o,a){if(a&gt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&gt.Host||(h=tu(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const u=vt.lFrame=to();return u.currentTNode=o,u.lView=s,!0}function ma(s){const o=to(),a=s[1];vt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function to(){const s=vt.lFrame,o=null===s?null:s.child;return null===o?nu(s):o}function nu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Hd(){const s=vt.lFrame;return vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const mc=Hd;function no(){const s=Hd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ji(){return vt.lFrame.selectedIndex}function Os(s){vt.lFrame.selectedIndex=s}function Ln(){const s=vt.lFrame;return ll(s.tView,s.selectedIndex)}function ya(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:M}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),b&&((s.contentHooks||(s.contentHooks=[])).push(a,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,b)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(a,M)}}function su(s,o,a){_c(s,o,3,a)}function dl(s,o,a,u){(3&s[2])===a&&_c(s,o,a,u)}function qn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function _c(s,o,a,u){const p=null!=u?u:-1,y=o.length-1;let b=0;for(let C=void 0!==u?65535&s[18]:0;C<y;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=u&&b>=u)break}else o[C]<0&&(s[18]+=65536),(b<p||-1==p)&&(vc(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function vc(s,o,a,u){const h=a[u]<0,p=a[u+1],b=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class hl{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Bo(s,o,a){const u=wn(s);let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const y=a[h++],b=a[h++],C=a[h++];u?s.setAttribute(o,b,C,y):o.setAttributeNS(y,b,C)}else{const y=p,b=a[++h];fl(y)?u&&s.setProperty(o,y,b):u?s.setAttribute(o,y,b):o.setAttribute(y,b),h++}}return h}function Zr(s){return 3===s||4===s||6===s}function fl(s){return 64===s.charCodeAt(0)}function kr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||Wd(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function Wd(s,o,a,u,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){y=-1;break}if(b>o){y=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===a){if(null===u)return void(null!==h&&(s[p+1]=h));if(u===s[p+1])return void(s[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==u&&s.splice(p++,0,u),null!==h&&s.splice(p++,0,h)}function Vn(s){return-1!==s}function ui(s){return 32767&s}function ks(s,o){let a=function va(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let Fs=!0;function ba(s){const o=Fs;return Fs=s,o}let au=0;function Yi(s,o){const a=Ea(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,gs(u.data,s),gs(o,null),gs(u.blueprint,null));const h=Ct(s,o),p=s.injectorIndex;if(Vn(h)){const y=ui(h),b=ks(h,o),C=b[1].data;for(let S=0;S<8;S++)o[p+S]=b[y+S]|C[y+S]}return o[p+8]=h,p}function gs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ea(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ct(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(u=2===y?p.declTNode:1===y?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function ms(s,o,a){!function wa(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ft)&&(u=a[ft]),null==u&&(u=a[ft]=au++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Da(s,o,a){if(a&gt.Optional)return s;Me(o,"NodeInjector")}function xa(s,o,a,u){if(a&gt.Optional&&void 0===u&&(u=null),0==(a&(gt.Self|gt.Host))){const h=s[9],p=rn(void 0);try{return h?h.get(o,u,a&gt.Optional):jn(o,u,a&gt.Optional)}finally{rn(p)}}return Da(u,o,a)}function pl(s,o,a,u=gt.Default,h){if(null!==s){const p=function Kd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ft)?s[ft]:void 0;return"number"==typeof o?o>=0?255&o:lu:o}(a);if("function"==typeof p){if(!cl(o,s,u))return u&gt.Host?Da(h,a,u):xa(o,a,u,h);try{const y=p(u);if(null!=y||u&gt.Optional)return y;Me(a)}finally{mc()}}else if("number"==typeof p){let y=null,b=Ea(s,o),C=-1,S=u&gt.Host?o[16][6]:null;for((-1===b||u&gt.SkipSelf)&&(C=-1===b?Ct(s,o):o[b+8],-1!==C&&uu(u,!1)?(y=o[1],b=ui(C),o=ks(C,o)):b=-1);-1!==b;){const M=o[1];if(gl(p,b,M.data)){const N=_m(b,o,a,y,u,S);if(N!==Uo)return N}C=o[b+8],-1!==C&&uu(u,o[1].data[b+8]===S)&&gl(p,b,o)?(y=M,b=ui(C),o=ks(C,o)):b=-1}}}return xa(o,a,u,h)}const Uo={};function lu(){return new Ps(bn(),Se())}function _m(s,o,a,u,h,p){const y=o[1],b=y.data[s+8],M=Ia(b,y,a,null==u?Do(b)&&Fs:u!=y&&0!=(3&b.type),h&gt.Host&&p===b);return null!==M?Aa(o,y,M,b):Uo}function Ia(s,o,a,u,h){const p=s.providerIndexes,y=o.data,b=1048575&p,C=s.directiveStart,M=p>>20,$=h?b+M:s.directiveEnd;for(let J=u?b:b+M;J<$;J++){const Ee=y[J];if(J<C&&a===Ee||J>=C&&Ee.type===a)return J}if(h){const J=y[C];if(J&&Tr(J)&&J.type===a)return C}return null}function Aa(s,o,a,u){let h=s[a];const p=o.data;if(function _a(s){return s instanceof hl}(h)){const y=h;y.resolving&&function nt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${s}${a}`)}(De(p[a]));const b=ba(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?rn(y.injectImpl):null;cl(s,u,gt.Default);try{h=s[a]=y.factory(void 0,p,s,u),o.firstCreatePass&&a>=u.directiveStart&&function io(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(u){const y=ol(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==C&&rn(C),ba(b),y.resolving=!1,mc()}}return h}function gl(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function uu(s,o){return!(s&gt.Self||s&gt.Host&&o)}class Ps{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return pl(this._tNode,this._lView,o,u,a)}}function cu(s){return kn(()=>{const o=s.prototype.constructor,a=o[et]||jo(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const p=h[et]||jo(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function jo(s){return qe(s)?()=>{const o=jo(ne(s));return o&&o()}:ar(s)}function du(s){return function Ca(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const p=a[h];if(Zr(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(bn(),s)}const ys="__parameters__";function Vs(s,o,a){return kn(()=>{const u=function hu(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...p){if(this instanceof h)return u.apply(this,p),this;const y=new h(...p);return b.annotation=y,b;function b(C,S,M){const N=C.hasOwnProperty(ys)?C[ys]:Object.defineProperty(C,ys,{value:[]})[ys];for(;N.length<=M;)N.push(null);return(N[M]=N[M]||[]).push(y),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Gn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=nn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Mi(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Mi(u,o)):o!==s&&o.push(u)}return o}function Zi(s,o){s.forEach(a=>Array.isArray(a)?Zi(a,o):o(a))}function ro(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Go(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function En(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function hr(s,o,a){let u=Us(s,o);return u>=0?s[1|u]=a:(u=~u,function _l(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function Bs(s,o){const a=Us(s,o);if(a>=0)return s[1|a]}function Us(s,o){return function bl(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const p=u+(h-u>>1),y=s[p<<a];if(o===y)return p<<a;y>o?h=p:u=p+1}return~(h<<a)}(s,o,1)}const Fr={},$o="__NG_DI_FLAG__",js="ngTempTokenPath",D=/\n/gm,O="__source",B=_e({provide:String,useValue:_e});let ee;function oe(s){const o=ee;return ee=s,o}function Fe(s,o=gt.Default){if(void 0===ee)throw new Ne(203,"");return null===ee?jn(s,void 0,o):ee.get(s,o&gt.Optional?null:void 0,o)}function Ue(s,o=gt.Default){return(function On(){return xi}()||Fe)(ne(s),o)}const It=Ue;function Rt(s){const o=[];for(let a=0;a<s.length;a++){const u=ne(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Ne(900,"");let h,p=gt.Default;for(let y=0;y<u.length;y++){const b=u[y],C=ni(b);"number"==typeof C?-1===C?h=b.token:p|=C:h=b}o.push(Ue(h,p))}else o.push(Ue(u))}return o}function _t(s,o){return s[$o]=o,s.prototype[$o]=o,s}function ni(s){return s[$o]}const Qi=_t(Vs("Optional"),8),Pr=_t(Vs("SkipSelf"),4);let ka;function Fa(s){var o;return(null===(o=function Cl(){if(void 0===ka&&(ka=null,qt.trustedTypes))try{ka=qt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ka}())||void 0===o?void 0:o.createHTML(s))||s}class Pa{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Oc extends Pa{getTypeName(){return"HTML"}}class xm extends Pa{getTypeName(){return"Style"}}class lo extends Pa{getTypeName(){return"Script"}}class rh extends Pa{getTypeName(){return"URL"}}class vu extends Pa{getTypeName(){return"ResourceURL"}}function Xr(s){return s instanceof Pa?s.changingThisBreaksApplicationSecurity:s}function Na(s,o){const a=Zf(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function Zf(s){return s instanceof Pa&&s.getTypeName()||null}function sh(s){return new Oc(s)}function Im(s){return new xm(s)}function Qf(s){return new lo(s)}function kc(s){return new rh(s)}function Am(s){return new vu(s)}class oh{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Fa(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Fc{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Fa(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Fa(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,w=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function T(s){return(s=String(s)).match(g)||s.match(w)?s:"unsafe:"+s}function te(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Te(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const at=te("area,br,col,hr,img,wbr"),bt=te("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ut=te("rp,rt"),Dl=Te(at,Te(bt,te("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Te(Ut,te("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Te(Ut,bt)),Pc=te("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wu=te("srcset"),Nc=Te(Pc,wu,te("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),te("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ah=te("script,style,template");class Jf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Dl.hasOwnProperty(a))return this.sanitizedSomething=!0,!ah.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let h=0;h<u.length;h++){const p=u.item(h),y=p.name,b=y.toLowerCase();if(!Nc.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=p.value;Pc[b]&&(C=T(C)),wu[b]&&(s=C,C=(s=String(s)).split(",").map(o=>T(o.trim())).join(", ")),this.buf.push(" ",y,'="',tp(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Dl.hasOwnProperty(a)&&!at.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(tp(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Eu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ep=/([^\#-~ |!])/g;function tp(s){return s.replace(/&/g,"&amp;").replace(Eu,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ep,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xl;function np(s,o){let a=null;try{xl=xl||function bu(s){const o=new Fc(s);return function v(){try{return!!(new window.DOMParser).parseFromString(Fa(""),"text/html")}catch(s){return!1}}()?new oh(o):o}(s);let u=o?String(o):"";a=xl.getInertBodyElement(u);let h=5,p=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=p,p=a.innerHTML,a=xl.getInertBodyElement(u)}while(u!==p);return Fa((new Jf).sanitizeChildren(ip(a)||a))}finally{if(a){const u=ip(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function ip(s){return"content"in s&&function A0(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var hn=(()=>((hn=hn||{})[hn.NONE=0]="NONE",hn[hn.HTML=1]="HTML",hn[hn.STYLE=2]="STYLE",hn[hn.SCRIPT=3]="SCRIPT",hn[hn.URL=4]="URL",hn[hn.RESOURCE_URL=5]="RESOURCE_URL",hn))();const vv="__ngContext__";function yr(s,o){s[vv]=o}function Rm(s){const o=function Vc(s){return s[vv]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Bc(s){return s.ngOriginalError}function L0(s,...o){s.error(...o)}class uh{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function Cv(s){return s&&s.ngErrorLogger||L0}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Bc(o);for(;a&&Bc(a);)a=Bc(a);return a||null}}const $0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(qt))();function Wo(s){return s instanceof Function?s():s}var Hs=(()=>((Hs=Hs||{})[Hs.Important=1]="Important",Hs[Hs.DashCase=2]="DashCase",Hs))();function Av(s,o){return undefined(s,o)}function Gc(s){const o=s[3];return Sr(o)?o[3]:o}function xu(s){return Il(s[13])}function $c(s){return Il(s[4])}function Il(s){for(;null!==s&&!Sr(s);)s=s[4];return s}function dh(s,o,a,u,h){if(null!=u){let p,y=!1;Sr(u)?p=u:Bi(u)&&(y=!0,u=u[0]);const b=yn(u);0===s&&null!==a?null==h?Z0(o,a,b):Au(o,a,b,h||null,!0):1===s&&null!==a?Au(o,a,b,h||null,!0):2===s?function iC(s,o,a){const u=Lm(s,o);u&&function JS(s,o,a,u){wn(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}(o,b,y):3===s&&o.destroyNode(b),null!=p&&function nT(s,o,a,u,h){const p=a[7];p!==yn(a)&&dh(o,s,u,p,h);for(let b=10;b<a.length;b++){const C=a[b];up(C[1],C,s,o,u,p)}}(o,s,p,a,h)}}function Mv(s,o,a){if(wn(s))return s.createElement(o,a);{const u=null!==a?function Vd(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function _r(s,o){const a=s[9],u=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,fs(h,-1)),a.splice(u,1)}function Ov(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&_r(h,u),o>0&&(s[a-1][4]=u[4]);const p=Go(s,10+o);!function Iu(s,o){up(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Y0(s,o){if(!(256&o[2])){const a=o[11];wn(a)&&a.destroyNode&&up(s,o,a,3,null,null),function Rv(s){let o=s[13];if(!o)return kv(s[1],s);for(;o;){let a=null;if(Bi(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)Bi(o)&&kv(o[1],o),o=o[3];null===o&&(o=s),Bi(o)&&kv(o[1],o),a=o&&o[4]}o=a}}(o)}}function kv(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function XS(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof hl)){const p=a[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=h[p[y]],C=p[y+1];try{C.call(b)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function QS(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],b="function"==typeof y?y(o):yn(o[y]),C=u[h=a[p+2]],S=a[p+3];"boolean"==typeof S?b.removeEventListener(a[p],C,S):S>=0?u[h=S]():u[h=-S].unsubscribe(),p+=2}else{const y=u[h=a[p+1]];a[p].call(y)}if(null!==u){for(let p=h+1;p<u.length;p++)u[p]();o[7]=null}}(s,o),1===o[1].type&&wn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&Sr(o[3])){a!==o[3]&&_r(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function Fv(s,o,a){return function Pv(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===zt.None||h===zt.Emulated)return null}return vi(u,a)}(s,o.parent,a)}function Au(s,o,a,u,h){wn(s)?s.insertBefore(o,a,u,h):o.insertBefore(a,u,h)}function Z0(s,o,a){wn(s)?s.appendChild(o,a):o.appendChild(a)}function Q0(s,o,a,u,h){null!==u?Au(s,o,a,u,h):Z0(s,o,a)}function Lm(s,o){return wn(s)?s.parentNode(o):o.parentNode}function X0(s,o,a){return eC(s,o,a)}let eC=function J0(s,o,a){return 40&s.type?vi(s,a):null};function Vm(s,o,a,u){const h=Fv(s,u,o),p=o[11],b=X0(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)Q0(p,h,a[C],b,!1);else Q0(p,h,a,b,!1)}function Bm(s,o){if(null!==o){const a=o.type;if(3&a)return vi(o,s);if(4&a)return Lv(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return Bm(s,u);{const h=s[o.index];return Sr(h)?Lv(-1,h):yn(h)}}if(32&a)return Av(o,s)()||yn(s[o.index]);{const u=nC(s,o);return null!==u?Array.isArray(u)?u[0]:Bm(Gc(s[16]),u):Bm(s,o.next)}}return null}function nC(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Lv(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return Bm(u,h)}return o[7]}function Vv(s,o,a,u,h,p,y){for(;null!=a;){const b=u[a.index],C=a.type;if(y&&0===o&&(b&&yr(yn(b),u),a.flags|=4),64!=(64&a.flags))if(8&C)Vv(s,o,a.child,u,h,p,!1),dh(o,s,h,b,p);else if(32&C){const S=Av(a,u);let M;for(;M=S();)dh(o,s,h,M,p);dh(o,s,h,b,p)}else 16&C?rC(s,o,u,a,h,p):dh(o,s,h,b,p);a=y?a.projectionNext:a.next}}function up(s,o,a,u,h,p){Vv(a,u,s.firstChild,o,h,p,!1)}function rC(s,o,a,u,h,p){const y=a[16],C=y[6].projection[u.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)dh(o,s,h,C[S],p);else Vv(s,o,C,y[3],h,p,!0)}function sC(s,o,a){wn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Bv(s,o,a){wn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function oC(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===u||s.charCodeAt(h+p)<=32)return h}a=h+1}}const aC="ng-template";function rT(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==oC(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function lC(s){return 4===s.type&&s.value!==aC}function sT(s,o,a){return o===(4!==s.type||a?s.value:aC)}function oT(s,o,a){let u=4;const h=s.attrs||[],p=function uT(s){for(let o=0;o<s.length;o++)if(Zr(s[o]))return o;return s.length}(h);let y=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!y)if(4&u){if(u=2|1&u,""!==C&&!sT(s,C,a)||""===C&&1===o.length){if(Ko(u))return!1;y=!0}}else{const S=8&u?C:o[++b];if(8&u&&null!==s.attrs){if(!rT(s.attrs,S,a)){if(Ko(u))return!1;y=!0}continue}const N=aT(8&u?"class":C,h,lC(s),a);if(-1===N){if(Ko(u))return!1;y=!0;continue}if(""!==S){let $;$=N>p?"":h[N+1].toLowerCase();const J=8&u?$:null;if(J&&-1!==oC(J,S,0)||2&u&&S!==$){if(Ko(u))return!1;y=!0}}}}else{if(!y&&!Ko(u)&&!Ko(C))return!1;if(y&&Ko(C))continue;y=!1,u=C|1&u}}return Ko(u)||y}function Ko(s){return 0==(1&s)}function aT(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function cT(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function uC(s,o,a=!1){for(let u=0;u<o.length;u++)if(oT(s,o[u],a))return!0;return!1}function dT(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function cC(s,o){return s?":not("+o.trim()+")":o}function hT(s){let o=s[0],a=1,u=2,h="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&u){const b=s[++a];h+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!Ko(y)&&(o+=cC(p,h),h=""),u=y,p=p||!Ko(u);a++}return""!==h&&(o+=cC(p,h)),o}const Ht={};function dC(s){hC(Gt(),Se(),ji()+s,Fo())}function hC(s,o,a,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&su(o,p,a)}else{const p=s.preOrderHooks;null!==p&&dl(o,p,0,a)}Os(a)}function Um(s,o){return s<<17|o<<2}function Yo(s){return s>>17&32767}function Uv(s){return 2|s}function Al(s){return(131068&s)>>2}function jv(s,o){return-131069&s|o<<2}function Gv(s){return 1|s}function CC(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],p=a[u+1];if(-1!==p){const y=s.data[p];eu(h),y.contentQueries(2,o[p],p)}}}function cp(s,o,a,u,h,p,y,b,C,S){const M=o.blueprint.slice();return M[0]=h,M[2]=140|u,qr(M),M[3]=M[15]=s,M[8]=a,M[10]=y||s&&s[10],M[11]=b||s&&s[11],M[12]=C||s&&s[12]||null,M[9]=S||s&&s[9]||null,M[6]=p,M[16]=2==o.type?s[16]:M,M}function fh(s,o,a,u,h){let p=s.data[o];if(null===p)p=function Qv(s,o,a,u,h){const p=ul(),y=Ql(),C=s.data[o]=function zc(s,o,a,u,h,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,o,a,u,h),function jd(){return vt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=h;const y=function Ts(){const s=vt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Or(p,!0),p}function ph(s,o,a,u){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function dp(s,o,a){ma(o);try{const u=s.viewQuery;null!==u&&ub(1,u,a);const h=s.template;null!==h&&DC(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&CC(s,o),s.staticViewQueries&&ub(2,s.viewQuery,a);const p=s.components;null!==p&&function ST(s,o){for(let a=0;a<o.length;a++)PC(s,o[a])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,no()}}function gh(s,o,a,u){const h=o[2];if(256==(256&h))return;ma(o);const p=Fo();try{qr(o),function No(s){return vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&DC(s,o,a,2,u);const y=3==(3&h);if(!p)if(y){const S=s.preOrderCheckHooks;null!==S&&su(o,S,null)}else{const S=s.preOrderHooks;null!==S&&dl(o,S,0,null),qn(o,0)}if(function PT(s){for(let o=xu(s);null!==o;o=$c(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],p=h[3];0==(1024&h[2])&&fs(p,1),h[2]|=1024}}}(o),function FT(s){for(let o=xu(s);null!==o;o=$c(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];eo(u)&&gh(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&CC(s,o),!p)if(y){const S=s.contentCheckHooks;null!==S&&su(o,S)}else{const S=s.contentHooks;null!==S&&dl(o,S,1),qn(o,1)}!function IT(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)Os(~h);else{const p=h,y=a[++u],b=a[++u];gc(y,p),b(2,o[p])}}}finally{Os(-1)}}(s,o);const b=s.components;null!==b&&function AT(s,o){for(let a=0;a<o.length;a++)NT(s,o[a])}(o,b);const C=s.viewQuery;if(null!==C&&ub(2,C,u),!p)if(y){const S=s.viewCheckHooks;null!==S&&su(o,S)}else{const S=s.viewHooks;null!==S&&dl(o,S,2),qn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,fs(o[3],-1))}finally{no()}}function TT(s,o,a,u){const h=o[10],p=!Fo(),y=hs(o);try{p&&!y&&h.begin&&h.begin(),y&&dp(s,o,u),gh(s,o,a,u)}finally{p&&!y&&h.end&&h.end()}}function DC(s,o,a,u,h){const p=ji(),y=2&u;try{Os(-1),y&&o.length>20&&hC(s,o,20,Fo()),a(u,h)}finally{Os(p)}}function xC(s,o,a){if(nl(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function Hm(s,o,a){!ko()||(function MC(s,o,a,u){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Yi(a,o),yr(u,o);const y=a.initialInputs;for(let b=h;b<p;b++){const C=s.data[b],S=Tr(C);S&&kC(o,a,C);const M=Aa(o,s,b,a);yr(M,o),null!==y&&OT(0,b-h,M,C,0,y),S&&(Ui(a.index,o)[8]=M)}}(s,o,a,vi(a,o)),128==(128&a.flags)&&function ib(s,o,a){const u=a.directiveStart,h=a.directiveEnd,y=a.index,b=function ga(){return vt.lFrame.currentDirectiveIndex}();try{Os(y);for(let C=u;C<h;C++){const S=s.data[C],M=o[C];Jl(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&qm(S,M)}}finally{Os(-1),Jl(b)}}(s,o,a))}function Xv(s,o,a=vi){const u=o.localNames;if(null!==u){let h=o.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],b=-1===y?a(o,s):s[y];s[h++]=b}}}function ts(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Xi(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Xi(s,o,a,u,h,p,y,b,C,S){const M=20+u,N=M+h,$=function Zo(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:Ht);return a}(M,N),J="function"==typeof S?S():S;return $[1]={type:s,blueprint:$,template:a,queries:null,viewQuery:b,declTNode:o,data:$.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function eb(s,o,a,u){const h=BC(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&UC(s).push(u,h.length-1))}function tb(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function _s(s,o,a,u,h,p,y,b){const C=vi(o,a);let M,S=o.inputs;!b&&null!=S&&(M=S[u])?(HC(s,a,M,u,h),Do(o)&&function AC(s,o){const a=Ui(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function vr(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=y?y(h,o.value||"",u):h,wn(p)?p.setProperty(C,u,h):fl(u)||(C.setProperty?C.setProperty(u,h):C[u]=h))}function zm(s,o,a,u){let h=!1;if(ko()){const p=function MT(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];uC(a,y.selectors,!1)&&(h||(h=[]),ms(Yi(a,o),s,y.type),Tr(y)?(RC(s,a),h.unshift(y)):h.push(y))}return h}(s,o,a),y=null===u?null:{"":-1};if(null!==p){h=!0,sb(a,s.data.length,p.length);for(let M=0;M<p.length;M++){const N=p[M];N.providersResolver&&N.providersResolver(N)}let b=!1,C=!1,S=ph(s,o,p.length,null);for(let M=0;M<p.length;M++){const N=p[M];a.mergedAttrs=kr(a.mergedAttrs,N.hostAttrs),OC(s,a,o,S,N),RT(S,N,y),null!==N.contentQueries&&(a.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=128);const $=N.type.prototype;!b&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),b=!0),!C&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),C=!0),S++}!function co(s,o){const u=o.directiveEnd,h=s.data,p=o.attrs,y=[];let b=null,C=null;for(let S=o.directiveStart;S<u;S++){const M=h[S],N=M.inputs,$=null===p||lC(o)?null:kT(N,p);y.push($),b=tb(N,S,b),C=tb(M.outputs,S,C)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=b,o.outputs=C}(s,a)}y&&function rb(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Ne(-301,!1);u.push(o[h],p)}}}(a,u,y)}return a.mergedAttrs=kr(a.mergedAttrs,a.attrs),h}function Wm(s,o,a,u,h,p){const y=p.hostBindings;if(y){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const C=~o.index;(function TC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(b)!=C&&b.push(C),b.push(u,h,y)}}function qm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function RC(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function RT(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;Tr(o)&&(a[""]=s)}}function sb(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function OC(s,o,a,u,h){s.data[u]=h;const p=h.factory||(h.factory=ar(h.type)),y=new hl(p,Tr(h),null);s.blueprint[u]=y,a[u]=y,Wm(s,o,0,u,ph(s,a,h.hostVars,Ht),h)}function kC(s,o,a){const u=vi(o,s),h=ts(a),p=s[10],y=fp(s,cp(s,h,null,a.onPush?64:16,u,o,p,p.createRenderer(u,a),null,null));s[o.index]=y}function Ba(s,o,a,u,h,p){const y=vi(s,o);!function ob(s,o,a,u,h,p,y){if(null==p)wn(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const b=null==y?we(p):y(p,u||"",h);wn(s)?s.setAttribute(o,h,b,a):a?o.setAttributeNS(a,h,b):o.setAttribute(h,b)}}(o[11],y,p,s.value,a,u,h)}function OT(s,o,a,u,h,p){const y=p[o];if(null!==y){const b=u.setInput;for(let C=0;C<y.length;){const S=y[C++],M=y[C++],N=y[C++];null!==b?u.setInput(a,N,S,M):a[M]=N}}}function kT(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function FC(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function NT(s,o){const a=Ui(o,s);if(eo(a)){const u=a[1];80&a[2]?gh(u,a,u.template,a[8]):a[5]>0&&ab(a)}}function ab(s){for(let u=xu(s);null!==u;u=$c(u))for(let h=10;h<u.length;h++){const p=u[h];if(1024&p[2]){const y=p[1];gh(y,p,y.template,p[8])}else p[5]>0&&ab(p)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=Ui(a[u],s);eo(h)&&h[5]>0&&ab(h)}}function PC(s,o){const a=Ui(o,s),u=a[1];(function NC(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),dp(u,a,a[8])}function fp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Km(s){for(;s;){s[2]|=64;const o=Gc(s);if(aa(s)&&!o)return s;s=o}return null}function lb(s,o,a){const u=o[10];u.begin&&u.begin();try{gh(s,o,s.template,a)}catch(h){throw GC(o,h),h}finally{u.end&&u.end()}}function VC(s){!function pp(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=Rm(a),h=u[1];TT(h,u,h.template,a)}}(s[8])}function ub(s,o,a){eu(0),o(s,a)}const BT=(()=>Promise.resolve(null))();function BC(s){return s[7]||(s[7]=[])}function UC(s){return s.cleanup||(s.cleanup=[])}function GC(s,o){const a=s[9],u=a?a.get(uh,null):null;u&&u.handleError(o)}function HC(s,o,a,u,h){for(let p=0;p<a.length;){const y=a[p++],b=a[p++],C=o[y],S=s.data[y];null!==S.setInput?S.setInput(C,h,u,b):C[b]=h}}function Qo(s,o,a){const u=Ss(o,s);!function Tv(s,o,a){wn(s)?s.setValue(o,a):o.textContent=a}(s[11],u,a)}function mh(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const b=o[y];"number"==typeof b?p=b:1==p?h=ye(h,b):2==p&&(u=ye(u,b+": "+o[++y]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}const Tl=new Gn("INJECTOR",-1);class cb{get(o,a=Fr){if(a===Fr){const u=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw u.name="NullInjectorError",u}return a}}const db=new Gn("Set Injector scope."),yh={},UT={};let hb;function qC(){return void 0===hb&&(hb=new cb),hb}function fb(s,o=null,a=null,u){const h=_h(s,o,a,u);return h._resolveInjectorDefTypes(),h}function _h(s,o=null,a=null,u){return new KC(s,a,o||qC(),u)}class KC{constructor(o,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Zi(a,b=>this.processProvider(b,o,a)),Zi([o],b=>this.processInjectorType(b,[],p)),this.records.set(Tl,Mu(void 0,this));const y=this.records.get(db);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Fr,u=gt.Default){this.assertNotDestroyed();const h=oe(this),p=rn(void 0);try{if(!(u&gt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=function zT(s){return"function"==typeof s||"object"==typeof s&&s instanceof Gn}(o)&&An(o);b=C&&this.injectableDefInScope(C)?Mu(pb(o),yh):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(u&gt.Self?qC():this.parent).get(o,a=u&gt.Optional&&a===Fr?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[js]=y[js]||[]).unshift(he(o)),h)throw y;return function ii(s,o,a,u){const h=s[js];throw o[O]&&h.unshift(o[O]),s.message=function Gs(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let b=o[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):he(b)))}h=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(D,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[js]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{rn(p),oe(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(he(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(o,a,u){if(!(o=ne(o)))return!1;let h=Hr(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,b=-1!==u.indexOf(y);if(void 0!==p&&(h=Hr(p)),null==h)return!1;if(null!=h.imports&&!b){let M;u.push(y);try{Zi(h.imports,N=>{this.processInjectorType(N,a,u)&&(void 0===M&&(M=[]),M.push(N))})}finally{}if(void 0!==M)for(let N=0;N<M.length;N++){const{ngModule:$,providers:J}=M[N];Zi(J,Ee=>this.processProvider(Ee,$,J||yt))}}this.injectorDefTypes.add(y);const C=ar(y)||(()=>new y);this.records.set(y,Mu(C,yh));const S=h.providers;if(null!=S&&!b){const M=o;Zi(S,N=>this.processProvider(N,M,S))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,u){let h=vh(o=ne(o))?o:ne(o&&o.provide);const p=function mb(s,o,a){return yb(s)?Mu(void 0,s.useValue):Mu(gp(s),yh)}(o);if(vh(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=Mu(void 0,yh,!0),y.factory=()=>Rt(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,a){return a.value===yh&&(a.value=UT,a.value=a.factory()),"object"==typeof a.value&&a.value&&function _b(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ne(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function pb(s){const o=An(s),a=null!==o?o.factory:ar(s);if(null!==a)return a;if(s instanceof Gn)throw new Ne(204,!1);if(s instanceof Function)return function gb(s){const o=s.length;if(o>0)throw En(o,"?"),new Ne(204,!1);const a=function Di(s){const o=s&&(s[rr]||s[_i]);if(o){const a=function yi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Ne(204,!1)}function gp(s,o,a){let u;if(vh(s)){const h=ne(s);return ar(h)||pb(h)}if(yb(s))u=()=>ne(s.useValue);else if(function GT(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Rt(s.deps||[]));else if(function jT(s){return!(!s||!s.useExisting)}(s))u=()=>Ue(ne(s.useExisting));else{const h=ne(s&&(s.useClass||s.provide));if(!function $T(s){return!!s.deps}(s))return ar(h)||pb(h);u=()=>new h(...Rt(s.deps))}return u}function Mu(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function yb(s){return null!==s&&"object"==typeof s&&B in s}function vh(s){return"function"==typeof s}let Xo=(()=>{class s{static create(a,u){var h;if(Array.isArray(a))return fb({name:""},u,a,"");{const p=null!==(h=a.name)&&void 0!==h?h:"";return fb({name:p},a.parent,a.providers,p)}}}return s.THROW_IF_NOT_FOUND=Fr,s.NULL=new cb,s.\u0275prov=nn({token:s,providedIn:"any",factory:()=>Ue(Tl)}),s.__NG_ELEMENT_ID__=-1,s})();function ZT(s,o){ya(Rm(s)[1],bn())}function Xm(s){let o=function Qm(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if(Tr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ne(903,"");h=o.\u0275dir}if(h){if(a){u.push(h);const y=s;y.inputs=mp(s.inputs),y.declaredInputs=mp(s.declaredInputs),y.outputs=mp(s.outputs);const b=h.hostBindings;b&&lD(s,b);const C=h.viewQuery,S=h.contentQueries;if(C&&wb(s,C),S&&aD(s,S),re(s.inputs,h.inputs),re(s.declaredInputs,h.declaredInputs),re(s.outputs,h.outputs),Tr(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const b=p[y];b&&b.ngInherit&&b(s),b===Xm&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Jm(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=kr(h.hostAttrs,a=kr(a,h.hostAttrs))}}(u)}function mp(s){return s===on?{}:s===yt?[]:s}function wb(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function aD(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,p)=>{o(u,h,p),a(u,h,p)}:o}function lD(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let yp=null;function bh(){if(!yp){const s=qt.Symbol;if(s&&s.iterator)yp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(yp=u)}}}return yp}function _p(s){return!!Cb(s)&&(Array.isArray(s)||!(s instanceof Map)&&bh()in s)}function Cb(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ua(s,o,a){return s[o]=a}function Nr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Db(s,o,a,u){const h=Se();return Nr(h,Lo(),o)&&(Gt(),Ba(Ln(),h,s,o,a,u)),Db}function Ab(s,o,a,u,h,p,y,b){const C=Se(),S=Gt(),M=s+20,N=S.firstCreatePass?function fD(s,o,a,u,h,p,y,b,C){const S=o.consts,M=fh(o,s,4,y||null,Rr(S,b));zm(o,a,M,Rr(S,C)),ya(o,M);const N=M.tViews=Xi(2,M,u,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,M),N.queries=o.queries.embeddedTView(M)),M}(M,S,C,o,a,u,h,p,y):S.data[M];Or(N,!1);const $=C[11].createComment("");Vm(S,C,$,N),yr($,C),fp(C,C[M]=FC($,C,$,N)),xo(N)&&Hm(S,C,N),null!=y&&Xv(C,N,b)}function Sb(s){return ur(function Xl(){return vt.lFrame.contextLView}(),20+s)}function Ga(s,o=gt.Default){const a=Se();return null===a?Ue(s,o):pl(bn(),a,ne(s),o)}function td(s,o,a){const u=Se();return Nr(u,Lo(),o)&&_s(Gt(),Ln(),u,s,o,u[11],a,!1),td}function Tp(s,o,a,u,h){const y=h?"class":"style";HC(s,a,o.inputs[y],y,u)}function Mp(s,o,a,u){const h=Se(),p=Gt(),y=20+s,b=h[11],C=h[y]=Mv(b,o,function yc(){return vt.lFrame.currentNamespace}()),S=p.firstCreatePass?function ID(s,o,a,u,h,p,y){const b=o.consts,S=fh(o,s,2,h,Rr(b,p));return zm(o,a,S,Rr(b,y)),null!==S.attrs&&mh(S,S.attrs,!1),null!==S.mergedAttrs&&mh(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,p,h,0,o,a,u):p.data[y];Or(S,!0);const M=S.mergedAttrs;null!==M&&Bo(b,C,M);const N=S.classes;null!==N&&Bv(b,C,N);const $=S.styles;return null!==$&&sC(b,C,$),64!=(64&S.flags)&&Vm(p,h,C,S),0===function fc(){return vt.lFrame.elementDepthCount}()&&yr(C,h),function Oo(){vt.lFrame.elementDepthCount++}(),xo(S)&&(Hm(p,h,S),xC(p,S,h)),null!==u&&Xv(h,S),Mp}function Rp(){let s=bn();Ql()?pa():(s=s.parent,Or(s,!1));const o=s;!function pc(){vt.lFrame.elementDepthCount--}();const a=Gt();return a.firstCreatePass&&(ya(a,s),nl(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function bc(s){return 0!=(16&s.flags)}(o)&&Tp(a,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function mm(s){return 0!=(32&s.flags)}(o)&&Tp(a,o,Se(),o.stylesWithoutHost,!1),Rp}function ry(s,o,a,u){return Mp(s,o,a,u),Rp(),ry}function Dh(s,o,a){const u=Se(),h=Gt(),p=s+20,y=h.firstCreatePass?function sy(s,o,a,u,h){const p=o.consts,y=Rr(p,u),b=fh(o,s,8,"ng-container",y);return null!==y&&mh(b,y,!0),zm(o,a,b,Rr(p,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(p,h,u,o,a):h.data[p];Or(y,!0);const b=u[p]=u[11].createComment("");return Vm(h,u,b,y),yr(b,u),xo(y)&&(Hm(h,u,y),xC(h,y,u)),null!=a&&Xv(u,y),Dh}function nd(){let s=bn();const o=Gt();return Ql()?pa():(s=s.parent,Or(s,!1)),o.firstCreatePass&&(ya(o,s),nl(s)&&o.queries.elementEnd(s)),nd}function Op(s,o,a){return Dh(s,o,a),nd(),Op}function id(){return Se()}function oy(s){return!!s&&"function"==typeof s.then}function kp(s){return!!s&&"function"==typeof s.subscribe}const ay=kp;function ly(s,o,a,u){const h=Se(),p=Gt(),y=bn();return function uy(s,o,a,u,h,p,y,b){const C=xo(u),M=s.firstCreatePass&&UC(s),N=o[8],$=BC(o);let J=!0;if(3&u.type||b){const We=vi(u,o),st=b?b(We):We,Ie=$.length,wt=b?Xt=>b(yn(Xt[u.index])):u.index;if(wn(a)){let Xt=null;if(!b&&C&&(Xt=function Pb(s,o,a,u){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===u){const b=o[7],C=h[p+2];return b.length>C?b[C]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,u.index)),null!==Xt)(Xt.__ngLastListenerFn__||Xt).__ngNextListenerFn__=p,Xt.__ngLastListenerFn__=p,J=!1;else{p=cy(u,o,N,p,!1);const kt=a.listen(st,h,p);$.push(p,kt),M&&M.push(h,wt,Ie,Ie+1)}}else p=cy(u,o,N,p,!0),st.addEventListener(h,p,y),$.push(p),M&&M.push(h,wt,Ie,y)}else p=cy(u,o,N,p,!1);const Ee=u.outputs;let Le;if(J&&null!==Ee&&(Le=Ee[h])){const We=Le.length;if(We)for(let st=0;st<We;st+=2){const wr=o[Le[st]][Le[st+1]].subscribe(p),ia=$.length;$.push(p,wr),M&&M.push(h,u.index,ia,-(ia+1))}}}(p,h,h[11],y,s,o,!!a,u),ly}function Pp(s,o,a,u){try{return!1!==a(u)}catch(h){return GC(s,h),!1}}function cy(s,o,a,u,h){return function p(y){if(y===Function)return u;const b=2&s.flags?Ui(s.index,o):o;0==(32&o[2])&&Km(b);let C=Pp(o,0,u,y),S=p.__ngNextListenerFn__;for(;S;)C=Pp(o,0,S,y)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function Nb(s=1){return function Rs(s){return(vt.lFrame.contextLView=function iu(s,o){for(;s>0;)o=o[15],s--;return o}(s,vt.lFrame.contextLView))[8]}(s)}function SD(s,o){let a=null;const u=function lT(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===u?uC(s,p,!0):dT(u,p))return h}else a=h}return a}function xh(s){const o=Se()[16][6];if(!o.projection){const u=o.projection=En(s?s.length:1,null),h=u.slice();let p=o.child;for(;null!==p;){const y=s?SD(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:u[y]=p,h[y]=p),p=p.next}}}function Np(s,o=0,a){const u=Se(),h=Gt(),p=fh(h,20+s,16,null,a||null);null===p.projection&&(p.projection=o),pa(),64!=(64&p.flags)&&function tT(s,o,a){rC(o[11],0,o,a,Fv(s,a,o),X0(a.parent||o[6],a,o))}(h,u,p)}function Gb(s,o,a,u,h){const p=s[a+1],y=null===o;let b=u?Yo(p):Al(p),C=!1;for(;0!==b&&(!1===C||y);){const M=s[b+1];RD(s[b],o)&&(C=!0,s[b+1]=u?Gv(M):Uv(M)),b=u?Yo(M):Al(M)}C&&(s[a+1]=u?Uv(p):Gv(p))}function RD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Us(s,o)>=0}function Zb(s,o){return function go(s,o,a,u){const h=Se(),p=Gt(),y=function Ki(s){const o=vt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);p.firstUpdatePass&&function Fu(s,o,a,u){const h=s.data;if(null===h[a+1]){const p=h[ji()],y=function Bp(s,o){return o>=s.expandoStartIndex}(s,a);(function UD(s,o){return 0!=(s.flags&(o?16:32))})(p,u)&&null===o&&!y&&(o=!1),o=function dM(s,o,a,u){const h=function Ms(s){const o=vt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=Th(a=Qb(null,s,o,a,u),o.attrs,u),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=Qb(h,s,o,a,u),null===p){let C=function py(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Al(u))return s[Yo(u)]}(s,o,u);void 0!==C&&Array.isArray(C)&&(C=Qb(null,s,o,C[1],u),C=Th(C,o.attrs,u),function hM(s,o,a,u){s[Yo(a?o.classBindings:o.styleBindings)]=u}(s,o,u,C))}else p=function ND(s,o,a){let u;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)u=Th(u,s[p].hostAttrs,a);return Th(u,o.attrs,a)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,u),function TD(s,o,a,u,h,p){let y=p?o.classBindings:o.styleBindings,b=Yo(y),C=Al(y);s[u]=a;let M,S=!1;if(Array.isArray(a)){const N=a;M=N[1],(null===M||Us(N,M)>0)&&(S=!0)}else M=a;if(h)if(0!==C){const $=Yo(s[b+1]);s[u+1]=Um($,b),0!==$&&(s[$+1]=jv(s[$+1],u)),s[b+1]=function gT(s,o){return 131071&s|o<<17}(s[b+1],u)}else s[u+1]=Um(b,0),0!==b&&(s[b+1]=jv(s[b+1],u)),b=u;else s[u+1]=Um(C,0),0===b?b=u:s[C+1]=jv(s[C+1],u),C=u;S&&(s[u+1]=Uv(s[u+1])),Gb(s,M,u,!0),Gb(s,M,u,!1),function MD(s,o,a,u,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Us(p,o)>=0&&(a[u+1]=Gv(a[u+1]))}(o,M,s,u,p),y=Um(b,C),p?o.classBindings=y:o.styleBindings=y}(h,p,o,a,y,u)}}(p,s,y,u),o!==Ht&&Nr(h,y,o)&&function Xb(s,o,a,u,h,p,y,b){if(!(3&o.type))return;const C=s.data,S=C[b+1];gy(function gC(s){return 1==(1&s)}(S)?BD(C,o,a,h,Al(S),y):void 0)||(gy(p)||function pC(s){return 2==(2&s)}(S)&&(p=BD(C,null,a,h,b,y)),function iT(s,o,a,u,h){const p=wn(s);if(o)h?p?s.addClass(a,u):a.classList.add(u):p?s.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:Hs.DashCase;if(null==h)p?s.removeStyle(a,u,y):a.style.removeProperty(u);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),y|=Hs.Important),p?s.setStyle(a,u,h,y):a.style.setProperty(u,h,b?"important":"")}}}(u,y,Ss(ji(),a),h,p))}(p,p.data[ji()],h,h[11],s,h[y+1]=function pM(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(Xr(s)))),s}(o,a),u,y)}(s,o,null,!0),Zb}function Qb(s,o,a,u,h){let p=null;const y=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<y&&(p=o[b],u=Th(u,p.hostAttrs,h),p!==s);)b++;return null!==s&&(a.directiveStylingLast=b),u}function Th(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),hr(s,y,!!a||o[++p]))}return void 0===s?null:s}function BD(s,o,a,u,h,p){const y=null===o;let b;for(;h>0;){const C=s[h],S=Array.isArray(C),M=S?C[1]:C,N=null===M;let $=a[h+1];$===Ht&&($=N?yt:void 0);let J=N?Bs($,u):M===u?$:void 0;if(S&&!gy(J)&&(J=Bs(C,u)),gy(J)&&(b=J,y))return b;const Ee=s[h+1];h=y?Yo(Ee):Al(Ee)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(b=Bs(C,u))}return b}function gy(s){return void 0!==s}function jD(s,o=""){const a=Se(),u=Gt(),h=s+20,p=u.firstCreatePass?fh(u,h,1,o,null):u.data[h],y=a[h]=function hh(s,o){return wn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);Vm(u,a,y,p),Or(p,!1)}function my(s){return Mh("",s,""),my}function Mh(s,o,a){const u=Se(),h=function Eh(s,o,a,u){return Nr(s,Lo(),a)?o+we(a)+u:Ht}(u,s,o,a);return h!==Ht&&Qo(u,ji(),h),Mh}function iw(s,o,a){const u=Se();return Nr(u,Lo(),o)&&_s(Gt(),Ln(),u,s,o,u[11],a,!0),iw}const rd=void 0;var RM=["en",[["a","p"],["AM","PM"],rd],[["AM","PM"],rd,rd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rd,"{1} 'at' {0}",rd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function MM(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Rh={};function rw(s){const o=function OM(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=ix(o);if(a)return a;const u=o.split("-")[0];if(a=ix(u),a)return a;if("en"===u)return RM;throw new Error(`Missing locale data for the locale "${s}".`)}function nx(s){return rw(s)[At.PluralCase]}function ix(s){return s in Rh||(Rh[s]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[s]),Rh[s]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const _y="en-US";let rx=_y;function bi(s,o,a,u,h){if(s=ne(s),Array.isArray(s))for(let p=0;p<s.length;p++)bi(s[p],o,a,u,h);else{const p=Gt(),y=Se();let b=vh(s)?s:ne(s.provide),C=gp(s);const S=bn(),M=1048575&S.providerIndexes,N=S.directiveStart,$=S.providerIndexes>>20;if(vh(s)||!s.multi){const J=new hl(C,h,Ga),Ee=Vh(b,o,h?M:M+$,N);-1===Ee?(ms(Yi(S,y),p,b),Fi(p,s,o.length),o.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(J),y.push(J)):(a[Ee]=J,y[Ee]=J)}else{const J=Vh(b,o,M+$,N),Ee=Vh(b,o,M,M+$),Le=J>=0&&a[J],We=Ee>=0&&a[Ee];if(h&&!We||!h&&!Le){ms(Yi(S,y),p,b);const st=function Ex(s,o,a,u,h){const p=new hl(s,a,Ga);return p.multi=[],p.index=o,p.componentProviders=0,Lh(p,h,u&&!a),p}(h?wx:bx,a.length,h,u,C);!h&&We&&(a[Ee].providerFactory=st),Fi(p,s,o.length,0),o.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(st),y.push(st)}else Fi(p,s,J>-1?J:Ee,Lh(a[h?Ee:J],C,!h&&u));!h&&u&&We&&a[Ee].componentProviders++}}}function Fi(s,o,a,u){const h=vh(o),p=function HT(s){return!!s.useClass}(o);if(h||p){const C=(p?ne(o.useClass):o).prototype.ngOnDestroy;if(C){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=S.indexOf(a);-1===M?S.push(a,[u,C]):S[M+1].push(u,C)}else S.push(a,C)}}}function Lh(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Vh(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function bx(s,o,a,u){return Xp(this.multi,[])}function wx(s,o,a,u){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=Aa(a,a[1],this.providerFactory.index,u);p=b.slice(0,y),Xp(h,p);for(let C=y;C<b.length;C++)p.push(b[C])}else p=[],Xp(h,p);return p}function Xp(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function vw(s,o=[]){return a=>{a.providersResolver=(u,h)=>function Hy(s,o,a){const u=Gt();if(u.firstCreatePass){const h=Tr(s);bi(a,u.data,u.blueprint,h,!0),bi(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Jp{}class xx{resolveComponentFactory(o){throw function Cx(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Nu=(()=>{class s{}return s.NULL=new xx,s})();function zy(){return kl(bn(),Se())}function kl(s,o){return new ad(vi(s,o))}let ad=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=zy,s})();function Ix(s){return s instanceof ad?s.nativeElement:s}class Wy{}let bw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function ng(){const s=Se(),a=Ui(bn().index,s);return function ww(s){return s[11]}(Bi(a)?a:s)}(),s})(),Ax=(()=>{class s{}return s.\u0275prov=nn({token:s,providedIn:"root",factory:()=>null}),s})();class Ew{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Lu=new Ew("13.2.7"),qy={};function ig(s,o,a,u,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&u.push(yn(p)),Sr(p))for(let b=10;b<p.length;b++){const C=p[b],S=C[1].firstChild;null!==S&&ig(C[1],C,S,u)}const y=a.type;if(8&y)ig(s,o,a.child,u);else if(32&y){const b=Av(a,o);let C;for(;C=b();)u.push(C)}else if(16&y){const b=nC(o,a);if(Array.isArray(b))u.push(...b);else{const C=Gc(o[16]);ig(C[1],C,b,u,!0)}}a=h?a.projectionNext:a.next}return u}class mo{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return ig(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Sr(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Ov(o,u),Go(a,u))}this._attachedToViewContainer=!1}Y0(this._lView[1],this._lView)}onDestroy(o){eb(this._lView[1],this._lView,null,o)}markForCheck(){Km(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function LT(s,o,a){Po(!0);try{lb(s,o,a)}finally{Po(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ci(s,o){up(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=o}}class Cw extends mo{constructor(o){super(o),this._view=o}detectChanges(){VC(this._view)}checkNoChanges(){!function VT(s){Po(!0);try{VC(s)}finally{Po(!1)}}(this._view)}get context(){return null}}class Bh extends Nu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Ke(o);return new tr(a,this.ngModule)}}function Ky(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class tr extends Jp{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function fT(s){return s.map(hT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Ky(this.componentDef.inputs)}get outputs(){return Ky(this.componentDef.outputs)}create(o,a,u,h){const p=(h=h||this.ngModule)?function Dw(s,o){return{get:(a,u,h)=>{const p=s.get(a,qy,h);return p!==qy||u===qy?p:o.get(a,u,h)}}}(o,h.injector):o,y=p.get(Wy,Xs),b=p.get(Ax,null),C=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",M=u?function $m(s,o,a){if(wn(s))return s.selectRootElement(o,a===zt.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(C,u,this.componentDef.encapsulation):Mv(y.createRenderer(null,this.componentDef),S,function Uh(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),N=this.componentDef.onPush?576:528,$=function Wc(s,o){return{components:[],scheduler:s||$0,clean:BT,playerHandler:o||null,flags:0}}(),J=Xi(0,null,null,1,0,null,null,null,null,null),Ee=cp(null,J,$,N,null,null,y,C,b,p);let Le,We;ma(Ee);try{const st=function sD(s,o,a,u,h,p){const y=a[1];a[20]=s;const C=fh(y,20,2,"#host",null),S=C.mergedAttrs=o.hostAttrs;null!==S&&(mh(C,S,!0),null!==s&&(Bo(h,s,S),null!==C.classes&&Bv(h,s,C.classes),null!==C.styles&&sC(h,s,C.styles)));const M=u.createRenderer(s,o),N=cp(a,ts(o),null,o.onPush?64:16,a[20],C,u,M,p||null,null);return y.firstCreatePass&&(ms(Yi(C,a),y,o.type),RC(y,C),sb(C,a.length,1)),fp(a,N),a[20]=N}(M,this.componentDef,Ee,y,C);if(M)if(u)Bo(C,M,["ng-version",Lu.full]);else{const{attrs:Ie,classes:wt}=function pT(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++u]):8===h&&a.push(p);else{if(!Ko(h))break;h=p}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ie&&Bo(C,M,Ie),wt&&wt.length>0&&Bv(C,M,wt.join(" "))}if(We=ll(J,20),void 0!==a){const Ie=We.projection=[];for(let wt=0;wt<this.ngContentSelectors.length;wt++){const Xt=a[wt];Ie.push(null!=Xt?Array.from(Xt):null)}}Le=function oD(s,o,a,u,h){const p=a[1],y=function hp(s,o,a){const u=bn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),OC(s,u,o,ph(s,o,1,null),a));const h=Aa(o,s,u.directiveStart,u);yr(h,o);const p=vi(u,o);return p&&yr(p,o),h}(p,a,o);if(u.components.push(y),s[8]=y,h&&h.forEach(C=>C(y,o)),o.contentQueries){const C=bn();o.contentQueries(1,y,C.directiveStart)}const b=bn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Os(b.index),Wm(a[1],b,0,b.directiveStart,b.directiveEnd,o),qm(o,y)),y}(st,this.componentDef,Ee,$,[ZT]),dp(J,Ee,null)}finally{no()}return new sg(this.componentType,Le,kl(We,Ee),Ee,We)}}class sg extends class $y{}{constructor(o,a,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Cw(h),this.componentType=o}get injector(){return new Ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Fl{}const Vu=new Map;class Zy extends Fl{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bh(this);const u=Mt(o);this._bootstrapComponents=Wo(u.bootstrap),this._r3Injector=_h(o,a,[{provide:Fl,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Xo.THROW_IF_NOT_FOUND,u=gt.Default){return o===Xo||o===Fl||o===Tl?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Qy extends class Aw{}{constructor(o){super(),this.moduleType=o,null!==Mt(o)&&function Yy(s){const o=new Set;!function a(u){const h=Mt(u,!0),p=h.id;null!==p&&(function ag(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(p,Vu.get(p),u),Vu.set(p,u));const y=Wo(h.imports);for(const b of y)o.has(b)||(o.add(b),a(b))}(s)}(o)}create(o){return new Zy(this.moduleType,o)}}function ug(s,o,a){const u=ei()+s,h=Se();return h[u]===Ht?Ua(h,u,a?o.call(a):o()):function vp(s,o){return s[o]}(h,u)}function $a(s,o){const a=s[o];return a===Ht?void 0:a}function hg(s,o,a,u,h,p,y){const b=o+a;return function qc(s,o,a,u){const h=Nr(s,o,a);return Nr(s,o+1,u)||h}(s,b,h,p)?Ua(s,b+2,y?u.call(y,h,p):u(h,p)):$a(s,b+2)}function pg(s,o){const a=Gt();let u;const h=s+20;a.firstCreatePass?(u=function Uu(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,u.onDestroy)):u=a.data[h];const p=u.factory||(u.factory=ar(u.type)),y=rn(Ga);try{const b=ba(!1),C=p();return ba(b),function pD(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,Se(),h,C),C}finally{rn(y)}}function Jy(s,o,a){const u=s+20,h=Se(),p=ur(h,u);return Nl(h,u)?function Pl(s,o,a,u,h,p){const y=o+a;return Nr(s,y,h)?Ua(s,y+1,p?u.call(p,h):u(h)):$a(s,y+1)}(h,ei(),o,p.transform,a,p):p.transform(a)}function Fw(s,o,a,u){const h=s+20,p=Se(),y=ur(p,h);return Nl(p,h)?hg(p,ei(),o,y.transform,a,u,y):y.transform(a,u)}function Nl(s,o){return s[1].data[o].pure}function yg(s){return o=>{setTimeout(s,void 0,o)}}const un=class mg extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var h,p,y;let b=o,C=a||(()=>null),S=u;if(o&&"object"==typeof o){const N=o;b=null===(h=N.next)||void 0===h?void 0:h.bind(N),C=null===(p=N.error)||void 0===p?void 0:p.bind(N),S=null===(y=N.complete)||void 0===y?void 0:y.bind(N)}this.__isAsync&&(C=yg(C),b&&(b=yg(b)),S&&(S=yg(S)));const M=super.subscribe({next:b,error:C,complete:S});return o instanceof H.w0&&o.add(M),M}};function _g(){return this._results[bh()]()}class e_{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=bh(),u=e_.prototype;u[a]||(u[a]=_g)}get changes(){return this._changes||(this._changes=new un)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=Mi(o);(this._changesDetected=!function dr(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],p=o[u];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Hh=(()=>{class s{}return s.__NG_ELEMENT_ID__=Tx,s})();const $h=Hh,zh=class extends $h{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=cp(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(a)),dp(a,u,o),new mo(u)}};function Tx(){return Wh(bn(),Se())}function Wh(s,o){return 4&s.type?new zh(o,s,kl(s,o)):null}let vg=(()=>{class s{}return s.__NG_ELEMENT_ID__=Mx,s})();function Mx(){return t_(bn(),Se())}const Rx=vg,Pw=class extends Rx{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return kl(this._hostTNode,this._hostLView)}get injector(){return new Ps(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ct(this._hostTNode,this._hostLView);if(Vn(o)){const a=ks(o,this._hostLView),u=ui(o);return new Ps(a[1].data[u+8],a)}return new Ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=ld(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const h=o.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(o,a,u,h,p){const y=o&&!function ml(s){return"function"==typeof s}(o);let b;if(y)b=a;else{const N=a||{};b=N.index,u=N.injector,h=N.projectableNodes,p=N.ngModuleRef}const C=y?o:new tr(Ke(o)),S=u||this.parentInjector;if(!p&&null==C.ngModule){const $=(y?S:this.parentInjector).get(Fl,null);$&&(p=$)}const M=C.create(S,h,void 0,p);return this.insert(M.hostView,b),M}insert(o,a){const u=o._lView,h=u[1];if(function Ro(s){return Sr(s[3])}(u)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const N=u[3],$=new Pw(N,N[6],N[3]);$.detach($.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function lp(s,o,a,u){const h=10+u,p=a.length;u>0&&(a[h-1][4]=o),u<p-10?(o[4]=a[h],ro(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function qo(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(h,u,y,p);const b=Lv(p,y),C=u[11],S=Lm(C,y[7]);return null!==S&&function Nm(s,o,a,u,h,p){u[0]=h,u[6]=o,up(s,u,a,1,h,p)}(h,y[6],C,u,S,b),o.attachToViewContainerRef(),ro(ta(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=ld(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Ov(this._lContainer,a);u&&(Go(ta(this._lContainer),a),Y0(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Ov(this._lContainer,a);return u&&null!=Go(ta(this._lContainer),a)?new mo(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function ld(s){return s[8]}function ta(s){return s[8]||(s[8]=[])}function t_(s,o){let a;const u=o[s.index];if(Sr(u))a=u;else{let h;if(8&s.type)h=yn(u);else{const p=o[11];h=p.createComment("");const y=vi(s,o);Au(p,Lm(p,y),h,function eT(s,o){return wn(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=a=FC(u,o,h,s),fp(o,a)}return new Pw(a,s,o)}class n_{constructor(o){this.queryList=o,this.matches=null}clone(){return new n_(this.queryList)}setDirty(){this.queryList.setDirty()}}class i_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<u;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new i_(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==ud(o,a).matches&&this.queries[a].setDirty()}}class r_{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class s_{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(o,h);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new s_(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class bg{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new bg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(o,a,Vw(a,p)),this.matchTNodeWithReadOption(o,a,Ia(a,o,p,!1,!1))}else u===Hh?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ia(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===ad||h===vg||h===Hh&&4&a.type)this.addMatch(a.index,-2);else{const p=Ia(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Vw(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function a_(s,o,a,u){return-1===a?function o_(s,o){return 11&s.type?kl(s,o):4&s.type?Wh(s,o):null}(o,s):-2===a?function Bw(s,o,a){return a===ad?kl(o,s):a===Hh?Wh(o,s):a===vg?t_(o,s):void 0}(s,o,u):Aa(s,s[1],a,o)}function l_(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const p=s.data,y=a.matches,b=[];for(let C=0;C<y.length;C+=2){const S=y[C];b.push(S<0?null:a_(o,p[S],y[C+1],a.metadata.read))}h.matches=b}return h.matches}function Kh(s,o,a,u){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const y=l_(s,o,h,a);for(let b=0;b<p.length;b+=2){const C=p[b];if(C>0)u.push(y[b/2]);else{const S=p[b+1],M=o[-C];for(let N=10;N<M.length;N++){const $=M[N];$[17]===$[3]&&Kh($[1],$,S,u)}if(null!==M[9]){const N=M[9];for(let $=0;$<N.length;$++){const J=N[$];Kh(J[1],J,S,u)}}}}}return u}function Uw(s){const o=Se(),a=Gt(),u=Gd();eu(u+1);const h=ud(a,u);if(s.dirty&&hs(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Kh(a,o,u,[]):l_(a,o,h,u);s.reset(p,Ix),s.notifyOnChanges()}return!0}return!1}function jw(s,o,a){const u=Gt();u.firstCreatePass&&(wg(u,new r_(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),Qh(u,Se(),o)}function Gw(s,o,a,u){const h=Gt();if(h.firstCreatePass){const p=bn();wg(h,new r_(o,a,u),p.index),function Hw(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}Qh(h,Se(),a)}function Yh(){return function Zh(s,o){return s[19].queries[o].queryList}(Se(),Gd())}function Qh(s,o,a){const u=new e_(4==(4&a));eb(s,o,u,u.destroy),null===o[19]&&(o[19]=new i_),o[19].queries.push(new n_(u))}function wg(s,o,a){null===s.queries&&(s.queries=new s_),s.queries.track(new bg(o,a))}function ud(s,o){return s.queries.getByIndex(o)}function cd(s,o){return Wh(s,o)}function wi(...s){}const Wa=new Gn("Application Initializer");let nf=(()=>{class s{constructor(a){this.appInits=a,this.resolve=wi,this.reject=wi,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(oy(p))a.push(p);else if(ay(p)){const y=new Promise((b,C)=>{p.subscribe({complete:b,error:C})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Ue(Wa,8))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const eE=new Gn("AppId",{providedIn:"root",factory:function Be(){return`${zu()}${zu()}${zu()}`}});function zu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tg=new Gn("Platform Initializer"),lt=new Gn("Platform ID"),Ft=new Gn("appBootstrapListener");let Xe=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();const ke=new Gn("LocaleId",{providedIn:"root",factory:()=>It(ke,gt.Optional|gt.SkipSelf)||function fe(){return"undefined"!=typeof $localize&&$localize.locale||_y}()}),Gi=new Gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Hx=(()=>Promise.resolve(0))();function tE(s){"undefined"==typeof Zone?Hx.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class _o{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new un(!1),this.onMicrotaskEmpty=new un(!1),this.onStable=new un(!1),this.onError=new un(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function vs(){let s=qt.requestAnimationFrame,o=qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function iE(s){const o=()=>{!function pd(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(qt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Kn(s),s.isCheckStableRunning=!0,Yt(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Kn(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,p,y,b)=>{try{return St(s),a.invokeTask(h,p,y,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),b_(s)}},onInvoke:(a,u,h,p,y,b,C)=>{try{return St(s),a.invoke(h,p,y,b,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),b_(s)}},onHasTask:(a,u,h,p)=>{a.hasTask(h,p),u===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Kn(s),Yt(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_o.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_o.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,nE,wi,wi);try{return p.runTask(y,a,u)}finally{p.cancelTask(y)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const nE={};function Yt(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Kn(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function St(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function b_(s){s._nesting--,Yt(s)}class Wu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new un,this.onMicrotaskEmpty=new un,this.onStable=new un,this.onError=new un}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}let w_=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_o.assertNotInAngularZone(),tE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tE(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Ue(_o))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})(),gd=(()=>{class s{constructor(){this._applications=new Map,Ei.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Ei.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();class sn{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function $x(s){Ei=s}let br,Ei=new sn;const qa=new Gn("AllowMultipleToken");function Mg(s,o,a=[]){const u=`Platform: ${o}`,h=new Gn(u);return(p=[])=>{let y=sE();if(!y||y.injector.get(qa,!1))if(s)s(a.concat(p).concat({provide:h,useValue:!0}));else{const b=a.concat(p).concat({provide:h,useValue:!0},{provide:db,useValue:"platform"});!function qu(s){if(br&&!br.destroyed&&!br.injector.get(qa,!1))throw new Ne(400,"");br=s.get(na);const o=s.get(Tg,null);o&&o.forEach(a=>a())}(Xo.create({providers:b,name:u}))}return function rE(s){const o=sE();if(!o)throw new Ne(401,"");return o}()}}function sE(){return br&&!br.destroyed?br:null}let na=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const b=function Ku(s,o){let a;return a="noop"===s?new Wu:("zone.js"===s?void 0:s)||new _o({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:_o,useValue:b}];return b.run(()=>{const S=Xo.create({providers:C,parent:this.injector,name:a.moduleType.name}),M=a.create(S),N=M.injector.get(uh,null);if(!N)throw new Ne(402,"");return b.runOutsideAngular(()=>{const $=b.onError.subscribe({next:J=>{N.handleError(J)}});M.onDestroy(()=>{Og(this._modules,M),$.unsubscribe()})}),function rf(s,o,a){try{const u=a();return oy(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(N,b,()=>{const $=M.injector.get(nf);return $.runInitializers(),$.donePromise.then(()=>(function NM(s){dt(s,"Expected localeId to be defined"),"string"==typeof s&&(rx=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(ke,_y)||_y),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,u=[]){const h=E_({},u);return function zx(s,o,a){const u=new Qy(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const u=a.injector.get($e);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ne(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Ue(Xo))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();function E_(s,o){return Array.isArray(o)?o.reduce(E_,s):Object.assign(Object.assign({},s),o)}let $e=(()=>{class s{constructor(a,u,h,p,y){this._zone=a,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new k.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),C=new k.y(S=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{_o.assertNotInAngularZone(),tE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{_o.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{M.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ae.T)(b,C.pipe((0,se.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Ne(405,"");let h;h=a instanceof Jp?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const p=function Wx(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Fl),b=h.create(Xo.NULL,[],u||h.selector,p),C=b.location.nativeElement,S=b.injector.get(w_,null),M=S&&b.injector.get(gd);return S&&M&&M.registerApplication(C,S),b.onDestroy(()=>{this.detachView(b.hostView),Og(this.components,b),M&&M.unregisterApplication(C)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Og(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Ft,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Ue(_o),Ue(Xo),Ue(uh),Ue(Nu),Ue(nf))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Og(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let vo=!0,md=!1;function Ll(){return md=!0,vo}function oE(){if(md)throw new Error("Cannot enable prod mode after platform setup.");vo=!1}let D_=(()=>{class s{}return s.__NG_ELEMENT_ID__=af,s})();function af(s){return function lE(s,o,a){if(Do(s)&&!a){const u=Ui(s.index,o);return new mo(u,u)}return 47&s.type?new mo(o[16],o):null}(bn(),Se(),16==(16&s))}class vd{constructor(){}supports(o){return _p(o)}create(o){return new Ng(o)}}const Pg=(s,o)=>o;class Ng{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Pg}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,p=null;for(;a||u;){const y=!u||a&&a.currentIndex<fE(u,h,p)?a:u,b=fE(y,h,p),C=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const S=b-h,M=C-h;if(S!=M){for(let $=0;$<S;$++){const J=$<p.length?p[$]:p[$]=0,Ee=J+$;M<=Ee&&Ee<S&&(p[$]=J+1)}p[y.previousIndex]=M-S}}b!==C&&o(y,b,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!_p(o))throw new Ne(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],y=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,p,y,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,b),u=!0),a=a._next}else h=0,function eM(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[bh()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,b=>{y=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,b,y,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,y,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new nr(a,u),p,h),o}_verifyReinsertion(o,a,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new hE),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class nr{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qx{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class hE{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new Qx,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fE(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class A_{constructor(){}supports(o){return o instanceof Map||Cb(o)}create(){return new Xx}}class Xx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Cb(o)))throw new Ne(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const u=new Jx(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class Jx{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pE(){return new S_([new vd])}let S_=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||pE()),deps:[[s,new Pr,new Qi]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Ne(901,"")}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:pE}),s})();function ec(){return new T_([new A_])}let T_=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||ec()),deps:[[s,new Pr,new Qi]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new Ne(901,"")}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:ec}),s})();const Lg=Mg(null,"core",[{provide:lt,useValue:"unknown"},{provide:na,deps:[Xo]},{provide:gd,deps:[]},{provide:Xe,deps:[]}]);let Vg=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Ue($e))},s.\u0275mod=P({type:s}),s.\u0275inj=tn({}),s})()},3942:(ct,Ae,F)=>{F.d(Ae,{Z:()=>Ne});var c=F(2090),H=F(4859),k=F(9681),ae=F(1877);class se{constructor(we,De){this._delegate=we,this.firebase=De,(0,k._addComponent)(we,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(we,De=k._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(we);return!He.isInitialized()&&"EXPLICIT"===(null===(nt=He.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&He.initialize(),He.getImmediate({identifier:De})}_removeServiceInstance(we,De=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(De)}_addComponent(we){(0,k._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,k._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function ye(){const Ge=function he(Ge){const we={},De={__esModule:!0,initializeApp:function Re(ie,Qe={}){const X=k.initializeApp(ie,Qe);if((0,c.r3)(we,X.name))return we[X.name];const pe=new Ge(X,De);return we[X.name]=pe,pe},app:He,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ce(ie){const Qe=ie.name,X=Qe.replace("-compat","");if(k._registerComponent(ie)&&"PUBLIC"===ie.type){const pe=(de=He())=>{if("function"!=typeof de[X])throw re.create("invalid-app-argument",{appName:Qe});return de[X]()};void 0!==ie.serviceProps&&(0,c.ZB)(pe,ie.serviceProps),De[X]=pe,Ge.prototype[X]=function(...de){return this._getService.bind(this,Qe).apply(this,ie.multipleInstances?de:[])}}return"PUBLIC"===ie.type?De[X]:null},removeApp:function nt(ie){delete we[ie]},useAsService:function Ye(ie,Qe){return"serverAuth"===Qe?null:Qe},modularAPIs:k}};function He(ie){if(!(0,c.r3)(we,ie=ie||k._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:ie});return we[ie]}return De.default=De,Object.defineProperty(De,"apps",{get:function Me(){return Object.keys(we).map(ie=>we[ie])}}),He.App=Ge,De}(se);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function we(De){(0,c.ZB)(Ge,De)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ge}(),z=new ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=q;!function Oe(Ge){(0,k.registerVersion)("@firebase/app-compat","0.1.21",Ge)}()},9681:(ct,Ae,F)=>{F.r(Ae),F.d(Ae,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Hr,_DEFAULT_ENTRY_NAME:()=>Rn,_addComponent:()=>dn,_addOrOverwriteComponent:()=>ir,_apps:()=>pt,_clearComponents:()=>An,_components:()=>pn,_getProvider:()=>Jt,_registerComponent:()=>nn,_removeServiceInstance:()=>tn,deleteApp:()=>as,getApp:()=>ai,getApps:()=>_i,initializeApp:()=>rr,onLog:()=>On,registerVersion:()=>xi,setLogLevel:()=>rn});var c=F(5861),H=F(4859),k=F(1877),ae=F(2090);class se{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function _e(ze){const xe=ze.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(et)){const ft=et.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(et=>et).join(" ")}}const re="@firebase/app",ye=new k.Yd("@firebase/app"),Rn="[DEFAULT]",dt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pt=new Map,pn=new Map;function dn(ze,xe){try{ze.container.addComponent(xe)}catch(et){ye.debug(`Component ${xe.name} failed to register with FirebaseApp ${ze.name}`,et)}}function ir(ze,xe){ze.container.addOrOverwriteComponent(xe)}function nn(ze){const xe=ze.name;if(pn.has(xe))return ye.debug(`There were multiple attempts to register component ${xe}.`),!1;pn.set(xe,ze);for(const et of pt.values())dn(et,ze);return!0}function Jt(ze,xe){const et=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),ze.container.getProvider(xe)}function tn(ze,xe,et=Rn){Jt(ze,xe).clearInstance(et)}function An(){pn.clear()}const Di=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class yi{constructor(xe,et,ft){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}const Hr="9.6.10";function rr(ze,xe={}){"object"!=typeof xe&&(xe={name:xe});const et=Object.assign({name:Rn,automaticDataCollectionEnabled:!1},xe),ft=et.name;if("string"!=typeof ft||!ft)throw Di.create("bad-app-name",{appName:String(ft)});const Vt=pt.get(ft);if(Vt){if((0,ae.vZ)(ze,Vt.options)&&(0,ae.vZ)(et,Vt.config))return Vt;throw Di.create("duplicate-app",{appName:ft})}const Bt=new H.H0(ft);for(const U of pn.values())Bt.addComponent(U);const W=new yi(ze,et,Bt);return pt.set(ft,W),W}function ai(ze=Rn){const xe=pt.get(ze);if(!xe)throw Di.create("no-app",{appName:ze});return xe}function _i(){return Array.from(pt.values())}function as(ze){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(ze){const xe=ze.name;pt.has(xe)&&(pt.delete(xe),yield Promise.all(ze.container.getProviders().map(et=>et.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function xi(ze,xe,et){var ft;let Vt=null!==(ft=dt[ze])&&void 0!==ft?ft:ze;et&&(Vt+=`-${et}`);const Bt=Vt.match(/\s|\//),W=xe.match(/\s|\//);if(Bt||W){const U=[`Unable to register library "${Vt}" with version "${xe}":`];return Bt&&U.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),Bt&&W&&U.push("and"),W&&U.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void ye.warn(U.join(" "))}nn(new H.wA(`${Vt}-version`,()=>({library:Vt,version:xe}),"VERSION"))}function On(ze,xe){if(null!==ze&&"function"!=typeof ze)throw Di.create("invalid-log-argument");(0,k.Am)(ze,xe)}function rn(ze){(0,k.Ub)(ze)}const kn="firebase-heartbeat-store";let Sn=null;function Vi(){return Sn||(Sn=(0,ae.X3)("firebase-heartbeat-database",1,(ze,xe)=>{0===xe&&ze.createObjectStore(kn)}).catch(ze=>{throw Di.create("storage-open",{originalErrorMessage:ze.message})})),Sn}function zt(){return(zt=(0,c.Z)(function*(ze){try{return(yield Vi()).transaction(kn).objectStore(kn).get(Wi(ze))}catch(xe){throw Di.create("storage-get",{originalErrorMessage:xe.message})}})).apply(this,arguments)}function ht(ze,xe){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.Z)(function*(ze,xe){try{const ft=(yield Vi()).transaction(kn,"readwrite");return yield ft.objectStore(kn).put(xe,Wi(ze)),ft.complete}catch(et){throw Di.create("storage-set",{originalErrorMessage:et.message})}})).apply(this,arguments)}function Wi(ze){return`${ze.name}!${ze.options.appId}`}class zr{constructor(xe){this.container=xe,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new yt(et),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var xe=this;return(0,c.Z)(function*(){const ft=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=Fn();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==Vt&&!xe._heartbeatsCache.heartbeats.some(Bt=>Bt.date===Vt))return xe._heartbeatsCache.heartbeats.push({date:Vt,agent:ft}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(Bt=>{const W=new Date(Bt.date).valueOf();return Date.now()-W<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,c.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const et=Fn(),{heartbeatsToSend:ft,unsentEntries:Vt}=function on(ze,xe=1024){const et=[];let ft=ze.slice();for(const Vt of ze){const Bt=et.find(W=>W.agent===Vt.agent);if(Bt){if(Bt.dates.push(Vt.date),Pn(et)>xe){Bt.dates.pop();break}}else if(et.push({agent:Vt.agent,dates:[Vt.date]}),Pn(et)>xe){et.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:et,unsentEntries:ft}}(xe._heartbeatsCache.heartbeats),Bt=(0,ae.L)(JSON.stringify({version:2,heartbeats:ft}));return xe._heartbeatsCache.lastSentHeartbeatDate=et,Vt.length>0?(xe._heartbeatsCache.heartbeats=Vt,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),Bt})()}}function Fn(){return(new Date).toISOString().substring(0,10)}class yt{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,c.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function Ks(ze){return zt.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var et=this;return(0,c.Z)(function*(){var ft;if(yield et._canUseIndexedDBPromise){const Bt=yield et.read();return ht(et.app,{lastSentHeartbeatDate:null!==(ft=xe.lastSentHeartbeatDate)&&void 0!==ft?ft:Bt.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var et=this;return(0,c.Z)(function*(){var ft;if(yield et._canUseIndexedDBPromise){const Bt=yield et.read();return ht(et.app,{lastSentHeartbeatDate:null!==(ft=xe.lastSentHeartbeatDate)&&void 0!==ft?ft:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...xe.heartbeats]})}})()}}function Pn(ze){return(0,ae.L)(JSON.stringify({version:2,heartbeats:ze})).length}!function Kt(ze){nn(new H.wA("platform-logger",xe=>new se(xe),"PRIVATE")),nn(new H.wA("heartbeat",xe=>new zr(xe),"PRIVATE")),xi(re,"0.7.20",ze),xi(re,"0.7.20","esm2017"),xi("fire-js","")}("")},4859:(ct,Ae,F)=>{F.d(Ae,{wA:()=>k,H0:()=>he});var c=F(5861),H=F(2090);class k{constructor(q,z,ne){this.name=q,this.instanceFactory=z,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ae="[DEFAULT]";class se{constructor(q,z){this.name=q,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const z=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(z)){const ne=new H.BH;if(this.instancesDeferred.set(z,ne),this.isInitialized(z)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:z});qe&&ne.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(z).promise}getImmediate(q){var z;const ne=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),qe=null!==(z=null==q?void 0:q.optional)&&void 0!==z&&z;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Oe){if(qe)return null;throw Oe}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function re(ye){return"EAGER"===ye.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(z){}for(const[z,ne]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(z);try{const Oe=this.getOrInitializeService({instanceIdentifier:qe});ne.resolve(Oe)}catch(Oe){}}}}clearInstance(q=ae){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,c.Z)(function*(){const z=Array.from(q.instances.values());yield Promise.all([...z.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...z.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ae){return this.instances.has(q)}getOptions(q=ae){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:z={}}=q,ne=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:ne,options:z});for(const[Oe,Ne]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Oe)&&Ne.resolve(qe);return qe}onInit(q,z){var ne;const qe=this.normalizeInstanceIdentifier(z),Oe=null!==(ne=this.onInitCallbacks.get(qe))&&void 0!==ne?ne:new Set;Oe.add(q),this.onInitCallbacks.set(qe,Oe);const Ne=this.instances.get(qe);return Ne&&q(Ne,qe),()=>{Oe.delete(q)}}invokeOnInitCallbacks(q,z){const ne=this.onInitCallbacks.get(z);if(ne)for(const qe of ne)try{qe(q,z)}catch(Oe){}}getOrInitializeService({instanceIdentifier:q,options:z={}}){let ne=this.instances.get(q);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=q,ye===ae?void 0:ye),options:z}),this.instances.set(q,ne),this.instancesOptions.set(q,z),this.invokeOnInitCallbacks(ne,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ne)}catch(qe){}var ye;return ne||null}normalizeInstanceIdentifier(q=ae){return this.component?this.component.multipleInstances?q:ae:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const z=this.getProvider(q.name);if(z.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);z.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const z=new se(q,this);return this.providers.set(q,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,Ae,F)=>{F.d(Ae,{in:()=>H,Yd:()=>re,Ub:()=>he,Am:()=>ye});const c=[];var H=(()=>{return(q=H||(H={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",H;var q})();const k={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},ae=H.INFO,se={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},_e=(q,z,...ne)=>{if(z<q.logLevel)return;const qe=(new Date).toISOString(),Oe=se[z];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Oe](`[${qe}]  ${q.name}:`,...ne)};class re{constructor(z){this.name=z,this._logLevel=ae,this._logHandler=_e,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in H))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?k[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...z),this._logHandler(this,H.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...z),this._logHandler(this,H.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,H.INFO,...z),this._logHandler(this,H.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,H.WARN,...z),this._logHandler(this,H.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...z),this._logHandler(this,H.ERROR,...z)}}function he(q){c.forEach(z=>{z.setLogLevel(q)})}function ye(q,z){for(const ne of c){let qe=null;z&&z.level&&(qe=k[z.level]),ne.userLogHandler=null===q?null:(Oe,Ne,...Ge)=>{const we=Ge.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(nt){return null}}).filter(De=>De).join(" ");Ne>=(null!=qe?qe:Oe.logLevel)&&q({level:H[Ne].toLowerCase(),message:we,args:Ge,type:Oe.name})}}}},5861:(ct,Ae,F)=>{function c(k,ae,se,_e,re,he,ye){try{var q=k[he](ye),z=q.value}catch(ne){return void se(ne)}q.done?ae(z):Promise.resolve(z).then(_e,re)}function H(k){return function(){var ae=this,se=arguments;return new Promise(function(_e,re){var he=k.apply(ae,se);function ye(z){c(he,_e,re,ye,q,"next",z)}function q(z){c(he,_e,re,ye,q,"throw",z)}ye(void 0)})}}F.d(Ae,{Z:()=>H})}},ct=>{ct(ct.s=4818)}]);